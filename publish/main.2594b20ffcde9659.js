(self.webpackChunkmnist_clock=self.webpackChunkmnist_clock||[]).push([[179],{271:(q,b,P)=>{"use strict";function S(e){return"function"==typeof e}function D(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const T=D(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function h(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class y{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(S(r))try{r()}catch(a){t=a instanceof T?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{d(a)}catch(c){t=t??[],c instanceof T?t=[...t,...c.errors]:t.push(c)}}if(t)throw new T(t)}}add(t){var n;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof y){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&h(n,t)}remove(t){const{_finalizers:n}=this;n&&h(n,t),t instanceof y&&t._removeParent(this)}}y.EMPTY=(()=>{const e=new y;return e.closed=!0,e})();const _=y.EMPTY;function p(e){return e instanceof y||e&&"closed"in e&&S(e.remove)&&S(e.add)&&S(e.unsubscribe)}function d(e){S(e)?e():e.unsubscribe()}const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},o={setTimeout(e,t,...n){const{delegate:r}=o;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=o;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function u(e){o.setTimeout(()=>{const{onUnhandledError:t}=s;if(!t)throw e;t(e)})}function l(){}const f=x("C",void 0,void 0);function x(e,t,n){return{kind:e,value:t,error:n}}let I=null;function C(e){if(s.useDeprecatedSynchronousErrorHandling){const t=!I;if(t&&(I={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=I;if(I=null,n)throw r}}else e()}class R extends y{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,p(t)&&t.add(this)):this.destination=Z}static create(t,n,r){return new $(t,n,r)}next(t){this.isStopped?X(function v(e){return x("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?X(function m(e){return x("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?X(f,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const N=Function.prototype.bind;function k(e,t){return N.call(e,t)}class O{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){G(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){G(r)}else G(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){G(n)}}}class $ extends R{constructor(t,n,r){let i;if(super(),S(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let a;this&&s.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&k(t.next,a),error:t.error&&k(t.error,a),complete:t.complete&&k(t.complete,a)}):i=t}this.destination=new O(i)}}function G(e){s.useDeprecatedSynchronousErrorHandling?function A(e){s.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=e)}(e):u(e)}function X(e,t){const{onStoppedNotification:n}=s;n&&o.setTimeout(()=>n(e,t))}const Z={closed:!0,next:l,error:function z(e){throw e},complete:l},oe="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(e){return e}function ve(e){return 0===e.length?B:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let re=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const a=function Ge(e){return e&&e instanceof R||function we(e){return e&&S(e.next)&&S(e.error)&&S(e.complete)}(e)&&p(e)}(n)?n:new $(n,r,i);return C(()=>{const{operator:c,source:g}=this;a.add(c?c.call(a,g):g?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_e(r))((i,a)=>{const c=new $({next:g=>{try{n(g)}catch(w){a(w),c.unsubscribe()}},error:a,complete:i});this.subscribe(c)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[oe](){return this}pipe(...n){return ve(n)(this)}toPromise(n){return new(n=_e(n))((r,i)=>{let a;this.subscribe(c=>a=c,c=>i(c),()=>r(a))})}}return e.create=t=>new e(t),e})();function _e(e){var t;return null!==(t=e??s.Promise)&&void 0!==t?t:Promise}const jt=D(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class e extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Te(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jt}next(n){C(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){C(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){C(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:a}=this;return r||i?_:(this.currentObservers=null,a.push(n),new y(()=>{this.currentObservers=null,h(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:a}=this;r?n.error(i):a&&n.complete()}asObservable(){const n=new re;return n.source=this,n}}return e.create=(t,n)=>new Te(t,n),e})();class Te extends nt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:_}}function Xe(e){return S(e?.lift)}function Me(e){return t=>{if(Xe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function We(e,t,n,r,i){return new Lt(e,t,n,r,i)}class Lt extends R{constructor(t,n,r,i,a,c){super(t),this.onFinalize=a,this.shouldUnsubscribe=c,this._next=n?function(g){try{n(g)}catch(w){t.error(w)}}:super._next,this._error=i?function(g){try{i(g)}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function xe(e,t){return Me((n,r)=>{let i=0;n.subscribe(We(r,a=>{r.next(e.call(t,a,i++))}))})}function yn(e){return this instanceof yn?(this.v=e,this):new yn(e)}function qr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(j){r[j]&&(i[j]=function(V){return new Promise(function(Y,ne){a.push([j,V,Y,ne])>1||g(j,V)})})}function g(j,V){try{!function w(j){j.value instanceof yn?Promise.resolve(j.value.v).then(E,M):F(a[0][2],j)}(r[j](V))}catch(Y){F(a[0][3],Y)}}function E(j){g("next",j)}function M(j){g("throw",j)}function F(j,V){j(V),a.shift(),a.length&&g(a[0][0],a[0][1])}}function tr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function mt(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(c){return new Promise(function(g,w){!function i(a,c,g,w){Promise.resolve(w).then(function(E){a({value:E,done:g})},c)}(g,w,(c=e[a](c)).done,c.value)})}}}const It=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Dt(e){return S(e?.then)}function Ct(e){return S(e[oe])}function pt(e){return Symbol.asyncIterator&&S(e?.[Symbol.asyncIterator])}function jn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const J=function Un(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ye(e){return S(e?.[J])}function lt(e){return qr(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield yn(n.read());if(i)return yield yn(void 0);yield yield yn(r)}}finally{n.releaseLock()}})}function bn(e){return S(e?.getReader)}function Ut(e){if(e instanceof re)return e;if(null!=e){if(Ct(e))return function Bs(e){return new re(t=>{const n=e[oe]();if(S(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(It(e))return function Hs(e){return new re(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Dt(e))return function zs(e){return new re(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,u)})}(e);if(pt(e))return wi(e);if(Ye(e))return function Gs(e){return new re(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(bn(e))return function Ws(e){return wi(lt(e))}(e)}throw jn(e)}function wi(e){return new re(t=>{(function qs(e,t){var n,r,i,a;return function $n(e,t,n,r){return new(n||(n=Promise))(function(a,c){function g(M){try{E(r.next(M))}catch(F){c(F)}}function w(M){try{E(r.throw(M))}catch(F){c(F)}}function E(M){M.done?a(M.value):function i(a){return a instanceof n?a:new n(function(c){c(a)})}(M.value).then(g,w)}E((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=tr(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function An(e,t,n,r=0,i=!1){const a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function Tt(e,t,n=1/0){return S(t)?Tt((r,i)=>xe((a,c)=>t(r,a,i,c))(Ut(e(r,i))),n):("number"==typeof t&&(n=t),Me((r,i)=>function Ys(e,t,n,r,i,a,c,g){const w=[];let E=0,M=0,F=!1;const j=()=>{F&&!w.length&&!E&&t.complete()},V=ne=>E<r?Y(ne):w.push(ne),Y=ne=>{a&&t.next(ne),E++;let ae=!1;Ut(n(ne,M++)).subscribe(We(t,ce=>{i?.(ce),a?V(ce):t.next(ce)},()=>{ae=!0},void 0,()=>{if(ae)try{for(E--;w.length&&E<r;){const ce=w.shift();c?An(t,c,()=>Y(ce)):Y(ce)}j()}catch(ce){t.error(ce)}}))};return e.subscribe(We(t,V,()=>{F=!0,j()})),()=>{g?.()}}(r,i,e,n)))}function hr(e=1/0){return Tt(B,e)}const vn=new re(e=>e.complete());function Di(e){return e&&S(e.schedule)}function st(e){return e[e.length-1]}function pr(e){return Di(st(e))?e.pop():void 0}function Si(e,t=0){return Me((n,r)=>{n.subscribe(We(r,i=>An(r,e,()=>r.next(i),t),()=>An(r,e,()=>r.complete(),t),i=>An(r,e,()=>r.error(i),t)))})}function Ei(e,t=0){return Me((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function _o(e,t){if(!e)throw new Error("Iterable cannot be null");return new re(n=>{An(n,t,()=>{const r=e[Symbol.asyncIterator]();An(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ct(e,t){return t?function ea(e,t){if(null!=e){if(Ct(e))return function Xs(e,t){return Ut(e).pipe(Ei(t),Si(t))}(e,t);if(It(e))return function Qs(e,t){return new re(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Dt(e))return function Zs(e,t){return Ut(e).pipe(Ei(t),Si(t))}(e,t);if(pt(e))return _o(e,t);if(Ye(e))return function Js(e,t){return new re(n=>{let r;return An(n,t,()=>{r=e[J](),An(n,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(c){return void n.error(c)}a?n.complete():n.next(i)},0,!0)}),()=>S(r?.return)&&r.return()})}(e,t);if(bn(e))return function Ii(e,t){return _o(lt(e),t)}(e,t)}throw jn(e)}(e,t):Ut(e)}function wo(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new $({next:()=>{r.unsubscribe(),e()}});return Ut(t(...n)).subscribe(r)}function at(e){for(let t in e)if(e[t]===at)return t;throw Error("Could not find renamed property on target object.")}function rt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Yr(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ra=at({__forward_ref__:at});function Do(e){return e.__forward_ref__=Do,e.toString=function(){return rt(this())},e}function De(e){return Mr(e)?e():e}function Mr(e){return"function"==typeof e&&e.hasOwnProperty(ra)&&e.__forward_ref__===Do}function To(e){return e&&!!e.\u0275providers}class fe extends Error{constructor(t,n){super(function Kr(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ze(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Re(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function U(e,t){throw new fe(-201,!1)}function Je(e,t){null==e&&function He(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function ke(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ia(e){return Nf(e,sa)||Nf(e,Ff)}function Nf(e,t){return e.hasOwnProperty(t)?e[t]:null}function kf(e){return e&&(e.hasOwnProperty(rl)||e.hasOwnProperty(Lv))?e[rl]:null}const sa=at({\u0275prov:at}),rl=at({\u0275inj:at}),Ff=at({ngInjectableDef:at}),Lv=at({ngInjectorDef:at});var Ce=(()=>((Ce=Ce||{})[Ce.Default=0]="Default",Ce[Ce.Host=1]="Host",Ce[Ce.Self=2]="Self",Ce[Ce.SkipSelf=4]="SkipSelf",Ce[Ce.Optional=8]="Optional",Ce))();let ol;function Pn(e){const t=ol;return ol=e,t}function Lf(e,t,n){const r=ia(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ce.Optional?null:void 0!==t?t:void U(rt(e))}const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Oi={},il="__NG_DI_FLAG__",aa="ngTempTokenPath",Uv=/\n/gm,$f="__source";let Pi;function So(e){const t=Pi;return Pi=e,t}function Bv(e,t=Ce.Default){if(void 0===Pi)throw new fe(-203,!1);return null===Pi?Lf(e,void 0,t):Pi.get(e,t&Ce.Optional?null:void 0,t)}function Se(e,t=Ce.Default){return(function $v(){return ol}()||Bv)(De(e),t)}function et(e,t=Ce.Default){return Se(e,ua(t))}function ua(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function sl(e){const t=[];for(let n=0;n<e.length;n++){const r=De(e[n]);if(Array.isArray(r)){if(0===r.length)throw new fe(900,!1);let i,a=Ce.Default;for(let c=0;c<r.length;c++){const g=r[c],w=Hv(g);"number"==typeof w?-1===w?i=g.token:a|=w:i=g}t.push(Se(i,a))}else t.push(Se(r))}return t}function Mi(e,t){return e[il]=t,e.prototype[il]=t,e}function Hv(e){return e[il]}function Nr(e){return{toString:e}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),nr=(()=>{return(e=nr||(nr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",nr;var e})();const mr={},ot=[],la=at({\u0275cmp:at}),al=at({\u0275dir:at}),ul=at({\u0275pipe:at}),Uf=at({\u0275mod:at}),yr=at({\u0275fac:at}),Ri=at({__NG_ELEMENT_ID__:at});let Wv=0;function ca(e){return Nr(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||nr.Emulated,id:"c"+Wv++,styles:e.styles||ot,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},a=e.dependencies,c=e.features;return i.inputs=Hf(e.inputs,r),i.outputs=Hf(e.outputs),c&&c.forEach(g=>g(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(Vf).filter(Bf):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(tn).filter(Bf):null,i})}function Vf(e){return it(e)||Yt(e)}function Bf(e){return null!==e}function Xr(e){return Nr(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Hf(e,t){if(null==e)return mr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}const en=ca;function it(e){return e[la]||null}function Yt(e){return e[al]||null}function tn(e){return e[ul]||null}function _n(e,t){const n=e[Uf]||null;if(!n&&!0===t)throw new Error(`Type ${rt(e)} does not have '\u0275mod' property.`);return n}function wn(e){return Array.isArray(e)&&"object"==typeof e[1]}function zn(e){return Array.isArray(e)&&!0===e[1]}function dl(e){return 0!=(4&e.flags)}function Li(e){return e.componentOffset>-1}function Gn(e){return null!==e.template}function Kv(e){return 0!=(256&e[2])}function Qr(e,t){return e.hasOwnProperty(yr)?e[yr]:null}class Qv{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Jr(){return Kf}function Kf(e){return e.type.prototype.ngOnChanges&&(e.setInput=e_),Jv}function Jv(){const e=Zf(this),t=e?.current;if(t){const n=e.previous;if(n===mr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function e_(e,t,n,r){const i=this.declaredInputs[n],a=Zf(e)||function t_(e,t){return e[Xf]=t}(e,{previous:mr,current:null}),c=a.current||(a.current={}),g=a.previous,w=g[i];c[i]=new Qv(w&&w.currentValue,t,g===mr),e[r]=t}Jr.ngInherit=!0;const Xf="__ngSimpleChanges__";function Zf(e){return e[Xf]||null}function Vt(e){for(;Array.isArray(e);)e=e[0];return e}function Dn(e,t){return Vt(t[e.index])}function Tn(e,t){const n=t[e];return wn(n)?n:n[0]}function ya(e){return 64==(64&e[2])}function kr(e,t){return null==t?null:e[t]}function th(e){e[18]=0}function hl(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Le={lFrame:dh(null),bindingsEnabled:!0};function rh(){return Le.bindingsEnabled}function se(){return Le.lFrame.lView}function tt(){return Le.lFrame.tView}function Bt(){let e=oh();for(;null!==e&&64===e.type;)e=e.parent;return e}function oh(){return Le.lFrame.currentTNode}function or(e,t){const n=Le.lFrame;n.currentTNode=e,n.isParent=t}function pl(){return Le.lFrame.isParent}function m_(e,t){const n=Le.lFrame;n.bindingIndex=n.bindingRootIndex=e,ml(t)}function ml(e){Le.lFrame.currentDirectiveIndex=e}function uh(){return Le.lFrame.currentQueryIndex}function bl(e){Le.lFrame.currentQueryIndex=e}function b_(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function lh(e,t,n){if(n&Ce.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&Ce.Host||(i=b_(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;t=i,e=a}const r=Le.lFrame=ch();return r.currentTNode=t,r.lView=e,!0}function vl(e){const t=ch(),n=e[1];Le.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ch(){const e=Le.lFrame,t=null===e?null:e.child;return null===t?dh(e):t}function dh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function fh(){const e=Le.lFrame;return Le.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hh=fh;function _l(){const e=fh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function eo(e){Le.lFrame.selectedIndex=e}function ba(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:g,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:M}=a;c&&(e.contentHooks||(e.contentHooks=[])).push(-n,c),g&&((e.contentHooks||(e.contentHooks=[])).push(n,g),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,g)),w&&(e.viewHooks||(e.viewHooks=[])).push(-n,w),E&&((e.viewHooks||(e.viewHooks=[])).push(n,E),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,E)),null!=M&&(e.destroyHooks||(e.destroyHooks=[])).push(n,M)}}function va(e,t,n){ph(e,t,3,n)}function _a(e,t,n,r){(3&e[2])===n&&ph(e,t,n,r)}function wl(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function ph(e,t,n,r){const a=r??-1,c=t.length-1;let g=0;for(let w=void 0!==r?65535&e[18]:0;w<c;w++)if("number"==typeof t[w+1]){if(g=t[w],null!=r&&g>=r)break}else t[w]<0&&(e[18]+=65536),(g<a||-1==a)&&(I_(e,n,t,w),e[18]=(4294901760&e[18])+w+2),w++}function I_(e,t,n,r){const i=n[r]<0,a=n[r+1],g=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(g)}finally{}}}else try{a.call(g)}finally{}}class ji{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Tl(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const a=n[r++],c=n[r++],g=n[r++];e.setAttribute(t,c,g,a)}else{const a=i,c=n[++r];mh(a)?e.setProperty(t,a,c):e.setAttribute(t,a,c),r++}}return r}function gh(e){return 3===e||4===e||6===e}function mh(e){return 64===e.charCodeAt(0)}function Ui(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||yh(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function yh(e,t,n,r,i){let a=0,c=e.length;if(-1===t)c=-1;else for(;a<e.length;){const g=e[a++];if("number"==typeof g){if(g===t){c=-1;break}if(g>t){c=a-1;break}}}for(;a<e.length;){const g=e[a];if("number"==typeof g)break;if(g===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==c&&(e.splice(c,0,t),a=c+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function bh(e){return-1!==e}function wa(e){return 32767&e}function Da(e,t){let n=function P_(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let xl=!0;function Ta(e){const t=xl;return xl=e,t}let M_=0;const ir={};function xa(e,t){const n=wh(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Sl(r.data,e),Sl(t,null),Sl(r.blueprint,null));const i=El(e,t),a=e.injectorIndex;if(bh(i)){const c=wa(i),g=Da(i,t),w=g[1].data;for(let E=0;E<8;E++)t[a+E]=g[c+E]|w[c+E]}return t[a+8]=i,a}function Sl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function El(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Ah(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Il(e,t,n){!function R_(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ri)&&(r=n[Ri]),null==r&&(r=n[Ri]=M_++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Dh(e,t,n){if(n&Ce.Optional||void 0!==e)return e;U()}function Th(e,t,n,r){if(n&Ce.Optional&&void 0===r&&(r=null),!(n&(Ce.Self|Ce.Host))){const i=e[9],a=Pn(void 0);try{return i?i.get(t,r,n&Ce.Optional):Lf(t,r,n&Ce.Optional)}finally{Pn(a)}}return Dh(r,0,n)}function xh(e,t,n,r=Ce.Default,i){if(null!==e){if(1024&t[2]){const c=function $_(e,t,n,r,i){let a=e,c=t;for(;null!==a&&null!==c&&1024&c[2]&&!(256&c[2]);){const g=Sh(a,c,n,r|Ce.Self,ir);if(g!==ir)return g;let w=a.parent;if(!w){const E=c[21];if(E){const M=E.get(n,ir,r);if(M!==ir)return M}w=Ah(c),c=c[15]}a=w}return i}(e,t,n,r,ir);if(c!==ir)return c}const a=Sh(e,t,n,r,ir);if(a!==ir)return a}return Th(t,n,r,i)}function Sh(e,t,n,r,i){const a=function F_(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ri)?e[Ri]:void 0;return"number"==typeof t?t>=0?255&t:L_:t}(n);if("function"==typeof a){if(!lh(t,e,r))return r&Ce.Host?Dh(i,0,r):Th(t,n,r,i);try{const c=a(r);if(null!=c||r&Ce.Optional)return c;U()}finally{hh()}}else if("number"==typeof a){let c=null,g=wh(e,t),w=-1,E=r&Ce.Host?t[16][6]:null;for((-1===g||r&Ce.SkipSelf)&&(w=-1===g?El(e,t):t[g+8],-1!==w&&Ih(r,!1)?(c=t[1],g=wa(w),t=Da(w,t)):g=-1);-1!==g;){const M=t[1];if(Eh(a,g,M.data)){const F=k_(g,t,n,c,r,E);if(F!==ir)return F}w=t[g+8],-1!==w&&Ih(r,t[1].data[g+8]===E)&&Eh(a,g,t)?(c=M,g=wa(w),t=Da(w,t)):g=-1}}return i}function k_(e,t,n,r,i,a){const c=t[1],g=c.data[e+8],M=Sa(g,c,n,null==r?Li(g)&&xl:r!=c&&0!=(3&g.type),i&Ce.Host&&a===g);return null!==M?to(t,c,M,g):ir}function Sa(e,t,n,r,i){const a=e.providerIndexes,c=t.data,g=1048575&a,w=e.directiveStart,M=a>>20,j=i?g+M:e.directiveEnd;for(let V=r?g:g+M;V<j;V++){const Y=c[V];if(V<w&&n===Y||V>=w&&Y.type===n)return V}if(i){const V=c[w];if(V&&Gn(V)&&V.type===n)return w}return null}function to(e,t,n,r){let i=e[n];const a=t.data;if(function C_(e){return e instanceof ji}(i)){const c=i;c.resolving&&function Ai(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new fe(-200,`Circular dependency in DI detected for ${e}${n}`)}(Ze(a[n]));const g=Ta(c.canSeeViewProviders);c.resolving=!0;const w=c.injectImpl?Pn(c.injectImpl):null;lh(e,r,Ce.Default);try{i=e[n]=c.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function E_(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const c=Kf(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==w&&Pn(w),Ta(g),c.resolving=!1,hh()}}return i}function Eh(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ih(e,t){return!(e&Ce.Self||e&Ce.Host&&t)}class No{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return xh(this._tNode,this._lView,t,ua(r),n)}}function L_(){return new No(Bt(),se())}function Cl(e){return Mr(e)?()=>{const t=Cl(De(e));return t&&t()}:Qr(e)}function Ah(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const Fo="__parameters__";function $o(e,t,n){return Nr(()=>{const r=function Al(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const c=new i(...a);return g.annotation=c,g;function g(w,E,M){const F=w.hasOwnProperty(Fo)?w[Fo]:Object.defineProperty(w,Fo,{value:[]})[Fo];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(c),w}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Ne{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ke({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function no(e,t){e.forEach(n=>Array.isArray(n)?no(n,t):t(n))}function Ph(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ia(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const zi=Mi($o("Optional"),8),Gi=Mi($o("SkipSelf"),4);var fn=(()=>((fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn))();const Ll=new Map;let cw=0;const jl="__ngContext__";function Zt(e,t){wn(t)?(e[jl]=t[20],function fw(e){Ll.set(e[20],e)}(t)):e[jl]=t}function Vl(e,t){return undefined(e,t)}function Ki(e){const t=e[3];return zn(t)?t[3]:t}function Bl(e){return Qh(e[13])}function Hl(e){return Qh(e[4])}function Qh(e){for(;null!==e&&!zn(e);)e=e[4];return e}function Vo(e,t,n,r,i){if(null!=r){let a,c=!1;zn(r)?a=r:wn(r)&&(c=!0,r=r[0]);const g=Vt(r);0===e&&null!==n?null==i?op(t,n,g):ro(t,n,g,i||null,!0):1===e&&null!==n?ro(t,n,g,i||null,!0):2===e?function Xl(e,t,n){const r=Pa(e,t);r&&function Mw(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,g,c):3===e&&t.destroyNode(g),null!=a&&function kw(e,t,n,r,i){const a=n[7];a!==Vt(n)&&Vo(t,e,r,a,i);for(let g=10;g<n.length;g++){const w=n[g];Xi(w[1],w,e,t,r,a)}}(t,e,a,n,i)}}function Gl(e,t,n){return e.createElement(t,n)}function ep(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,hl(i,-1)),n.splice(r,1)}function Wl(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&ep(i,r),t>0&&(e[n-1][4]=r[4]);const a=Ia(e,10+t);!function xw(e,t){Xi(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const c=a[19];null!==c&&c.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function tp(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Xi(e,t,n,3,null,null),function Iw(e){let t=e[13];if(!t)return ql(e[1],e);for(;t;){let n=null;if(wn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)wn(t)&&ql(t[1],t),t=t[3];null===t&&(t=e),wn(t)&&ql(t[1],t),n=t&&t[4]}t=n}}(t)}}function ql(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Pw(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof ji)){const a=n[r+1];if(Array.isArray(a))for(let c=0;c<a.length;c+=2){const g=i[a[c]],w=a[c+1];try{w.call(g)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function Ow(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const c=n[a+3];c>=0?r[i=c]():r[i=-c].unsubscribe(),a+=2}else{const c=r[i=n[a+1]];n[a].call(c)}if(null!==r){for(let a=i+1;a<r.length;a++)(0,r[a])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&zn(t[3])){n!==t[3]&&ep(n,t);const r=t[19];null!==r&&r.detachView(e)}!function hw(e){Ll.delete(e[20])}(t)}}function np(e,t,n){return function rp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=e.data[r.directiveStart+i];if(a===nr.None||a===nr.Emulated)return null}return Dn(r,n)}}(e,t.parent,n)}function ro(e,t,n,r,i){e.insertBefore(t,n,r,i)}function op(e,t,n){e.appendChild(t,n)}function ip(e,t,n,r,i){null!==r?ro(e,t,n,r,i):op(e,t,n)}function Pa(e,t){return e.parentNode(t)}let Jl,up=function ap(e,t,n){return 40&e.type?Dn(e,n):null};function Ma(e,t,n,r){const i=np(e,r,t),a=t[11],g=function sp(e,t,n){return up(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let w=0;w<n.length;w++)ip(a,i,n[w],g,!1);else ip(a,i,n,g,!1)}function Ra(e,t){if(null!==t){const n=t.type;if(3&n)return Dn(t,e);if(4&n)return Kl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Ra(e,r);{const i=e[t.index];return zn(i)?Kl(-1,i):Vt(i)}}if(32&n)return Vl(t,e)()||Vt(e[t.index]);{const r=cp(e,t);return null!==r?Array.isArray(r)?r[0]:Ra(Ki(e[16]),r):Ra(e,t.next)}}return null}function cp(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Kl(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return Ra(r,i)}return t[7]}function Zl(e,t,n,r,i,a,c){for(;null!=n;){const g=r[n.index],w=n.type;if(c&&0===t&&(g&&Zt(Vt(g),r),n.flags|=2),32!=(32&n.flags))if(8&w)Zl(e,t,n.child,r,i,a,!1),Vo(t,e,i,g,a);else if(32&w){const E=Vl(n,r);let M;for(;M=E();)Vo(t,e,i,M,a);Vo(t,e,i,g,a)}else 16&w?dp(e,t,r,n,i,a):Vo(t,e,i,g,a);n=c?n.projectionNext:n.next}}function Xi(e,t,n,r,i,a){Zl(n,r,e.firstChild,t,i,a,!1)}function dp(e,t,n,r,i,a){const c=n[16],w=c[6].projection[r.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Vo(t,e,i,w[E],a);else Zl(e,t,w,c[3],i,a,!0)}function fp(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function hp(e,t,n){const{mergedAttrs:r,classes:i,styles:a}=n;null!==r&&Tl(e,t,r),null!==i&&fp(e,t,i),null!==a&&function Lw(e,t,n){e.setAttribute(t,"style",n)}(e,t,a)}const La=new Ne("ENVIRONMENT_INITIALIZER"),Cp=new Ne("INJECTOR",-1),Ap=new Ne("INJECTOR_DEF_TYPES");class Op{get(t,n=Oi){if(n===Oi){const r=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw r.name="NullInjectorError",r}return n}}function c1(...e){return{\u0275providers:Pp(0,e),\u0275fromNgModule:!0}}function Pp(e,...t){const n=[],r=new Set;let i;return no(t,a=>{const c=a;ic(c,n,[],r)&&(i||(i=[]),i.push(c))}),void 0!==i&&Mp(i,n),n}function Mp(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];sc(i,a=>{t.push(a)})}}function ic(e,t,n,r){if(!(e=De(e)))return!1;let i=null,a=kf(e);const c=!a&&it(e);if(a||c){if(c&&!c.standalone)return!1;i=e}else{const w=e.ngModule;if(a=kf(w),!a)return!1;i=w}const g=r.has(i);if(c){if(g)return!1;if(r.add(i),c.dependencies){const w="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const E of w)ic(E,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!g){let E;r.add(i);try{no(a.imports,M=>{ic(M,t,n,r)&&(E||(E=[]),E.push(M))})}finally{}void 0!==E&&Mp(E,t)}if(!g){const E=Qr(i)||(()=>new i);t.push({provide:i,useFactory:E,deps:ot},{provide:Ap,useValue:i,multi:!0},{provide:La,useValue:()=>Se(i),multi:!0})}const w=a.providers;null==w||g||sc(w,M=>{t.push(M)})}}return i!==e&&void 0!==e.providers}function sc(e,t){for(let n of e)To(n)&&(n=n.\u0275providers),Array.isArray(n)?sc(n,t):t(n)}const d1=at({provide:String,useValue:at});function ac(e){return null!==e&&"object"==typeof e&&d1 in e}function io(e){return"function"==typeof e}const uc=new Ne("Set Injector scope."),$a={},h1={};let lc;function ja(){return void 0===lc&&(lc=new Op),lc}class Dr{}class kp extends Dr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dc(t,c=>this.processProvider(c)),this.records.set(Cp,Bo(void 0,this)),i.has("environment")&&this.records.set(Dr,Bo(void 0,this));const a=this.records.get(uc);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(Ap.multi,ot,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=So(this),r=Pn(void 0);try{return t()}finally{So(n),Pn(r)}}get(t,n=Oi,r=Ce.Default){this.assertNotDestroyed(),r=ua(r);const i=So(this),a=Pn(void 0);try{if(!(r&Ce.SkipSelf)){let g=this.records.get(t);if(void 0===g){const w=function b1(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ne}(t)&&ia(t);g=w&&this.injectableDefInScope(w)?Bo(cc(t),$a):null,this.records.set(t,g)}if(null!=g)return this.hydrate(t,g)}return(r&Ce.Self?ja():this.parent).get(t,n=r&Ce.Optional&&n===Oi?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[aa]=c[aa]||[]).unshift(rt(t)),i)throw c;return function zv(e,t,n,r){const i=e[aa];throw t[$f]&&i.unshift(t[$f]),e.message=function Gv(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=rt(t);if(Array.isArray(t))i=t.map(rt).join(" -> ");else if("object"==typeof t){let a=[];for(let c in t)if(t.hasOwnProperty(c)){let g=t[c];a.push(c+":"+("string"==typeof g?JSON.stringify(g):rt(g)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Uv,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[aa]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{Pn(a),So(i)}}resolveInjectorInitializers(){const t=So(this),n=Pn(void 0);try{const r=this.get(La.multi,ot,Ce.Self);for(const i of r)i()}finally{So(t),Pn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(rt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(t){let n=io(t=De(t))?t:De(t&&t.provide);const r=function g1(e){return ac(e)?Bo(void 0,e.useValue):Bo(function Fp(e,t,n){let r;if(io(e)){const i=De(e);return Qr(i)||cc(i)}if(ac(e))r=()=>De(e.useValue);else if(function Np(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...sl(e.deps||[]));else if(function Rp(e){return!(!e||!e.useExisting)}(e))r=()=>Se(De(e.useExisting));else{const i=De(e&&(e.useClass||e.provide));if(!function m1(e){return!!e.deps}(e))return Qr(i)||cc(i);r=()=>new i(...sl(e.deps))}return r}(e),$a)}(t);if(io(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Bo(void 0,$a,!0),i.factory=()=>sl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===$a&&(n.value=h1,n.value=n.factory()),"object"==typeof n.value&&n.value&&function y1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=De(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function cc(e){const t=ia(e),n=null!==t?t.factory:Qr(e);if(null!==n)return n;if(e instanceof Ne)throw new fe(204,!1);if(e instanceof Function)return function p1(e){const t=e.length;if(t>0)throw function Hi(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new fe(204,!1);const n=function kv(e){const t=e&&(e[sa]||e[Ff]);if(t){const n=function Fv(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new fe(204,!1)}function Bo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dc(e,t){for(const n of e)Array.isArray(n)?dc(n,t):n&&To(n)?dc(n.\u0275providers,t):t(n)}class v1{}class Lp{}class w1{resolveComponentFactory(t){throw function _1(e){const t=Error(`No component factory found for ${rt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let es=(()=>{class e{}return e.NULL=new w1,e})();function D1(){return Ho(Bt(),se())}function Ho(e,t){return new Lr(Dn(e,t))}let Lr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=D1,e})();function T1(e){return e instanceof Lr?e.nativeElement:e}class jp{}let S1=(()=>{class e{}return e.\u0275prov=ke({token:e,providedIn:"root",factory:()=>null}),e})();class Va{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const E1=new Va("15.1.0"),fc={};function pc(e){return e.ngOriginalError}class zo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&pc(t);for(;n&&pc(n);)n=pc(n);return n||null}}function Tr(e){return e instanceof Function?e():e}function Vp(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}const Bp="ng-template";function L1(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Vp(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Hp(e){return 4===e.type&&e.value!==Bp}function $1(e,t,n){return t===(4!==e.type||n?e.value:Bp)}function j1(e,t,n){let r=4;const i=e.attrs||[],a=function B1(e){for(let t=0;t<e.length;t++)if(gh(e[t]))return t;return e.length}(i);let c=!1;for(let g=0;g<t.length;g++){const w=t[g];if("number"!=typeof w){if(!c)if(4&r){if(r=2|1&r,""!==w&&!$1(e,w,n)||""===w&&1===t.length){if(Wn(r))return!1;c=!0}}else{const E=8&r?w:t[++g];if(8&r&&null!==e.attrs){if(!L1(e.attrs,E,n)){if(Wn(r))return!1;c=!0}continue}const F=U1(8&r?"class":w,i,Hp(e),n);if(-1===F){if(Wn(r))return!1;c=!0;continue}if(""!==E){let j;j=F>a?"":i[F+1].toLowerCase();const V=8&r?j:null;if(V&&-1!==Vp(V,E,0)||2&r&&E!==j){if(Wn(r))return!1;c=!0}}}}else{if(!c&&!Wn(r)&&!Wn(w))return!1;if(c&&Wn(w))continue;c=!1,r=w|1&r}}return Wn(r)||c}function Wn(e){return 0==(1&e)}function U1(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const c=t[i];if(c===e)return i;if(3===c||6===c)a=!0;else{if(1===c||2===c){let g=t[++i];for(;"string"==typeof g;)g=t[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=a?1:2}return-1}return function H1(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function zp(e,t,n=!1){for(let r=0;r<t.length;r++)if(j1(e,t[r],n))return!0;return!1}function Gp(e,t){return e?":not("+t.trim()+")":t}function G1(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const g=e[++n];i+="["+c+(g.length>0?'="'+g+'"':"")+"]"}else 8&r?i+="."+c:4&r&&(i+=" "+c);else""!==i&&!Wn(c)&&(t+=Gp(a,i),i=""),r=c,a=a||!Wn(r);n++}return""!==i&&(t+=Gp(a,i)),t}const $e={};function Xp(e,t=null,n=null,r){const i=Zp(e,t,n,r);return i.resolveInjectorInitializers(),i}function Zp(e,t=null,n=null,r,i=new Set){const a=[n||ot,c1(e)];return r=r||("object"==typeof e?void 0:rt(e)),new kp(a,t||ja(),r||null,i)}let sr=(()=>{class e{static create(n,r){if(Array.isArray(n))return Xp({name:""},r,n,"");{const i=n.name??"";return Xp({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=Oi,e.NULL=new Op,e.\u0275prov=ke({token:e,providedIn:"any",factory:()=>Se(Cp)}),e.__NG_ELEMENT_ID__=-1,e})();function Ae(e,t=Ce.Default){const n=se();return null===n?Se(e,t):xh(Bt(),n,De(e),t)}function ig(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r+1];if(-1!==a){const c=e.data[a];bl(n[r]),c.contentQueries(2,t[a],a)}}}function Ha(e,t,n,r,i,a,c,g,w,E,M){const F=t.blueprint.slice();return F[0]=i,F[2]=76|r,(null!==M||e&&1024&e[2])&&(F[2]|=1024),th(F),F[3]=F[15]=e,F[8]=n,F[10]=c||e&&e[10],F[11]=g||e&&e[11],F[12]=w||e&&e[12]||null,F[9]=E||e&&e[9]||null,F[6]=a,F[20]=function dw(){return cw++}(),F[21]=M,F[16]=2==t.type?e[16]:F,F}function qo(e,t,n,r,i){let a=e.data[t];if(null===a)a=function vc(e,t,n,r,i){const a=oh(),c=pl(),w=e.data[t]=function bD(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=w),null!==a&&(c?null==a.child&&null!==w.parent&&(a.child=w):null===a.next&&(a.next=w)),w}(e,t,n,r,i),function g_(){return Le.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const c=function $i(){const e=Le.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===c?-1:c.injectorIndex}return or(a,!0),a}function ts(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function _c(e,t,n){vl(t);try{const r=e.viewQuery;null!==r&&Oc(1,r,n);const i=e.template;null!==i&&sg(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ig(e,t),e.staticViewQueries&&Oc(2,e.viewQuery,n);const a=e.components;null!==a&&function gD(e,t){for(let n=0;n<t.length;n++)LD(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,_l()}}function za(e,t,n,r){const i=t[2];if(128!=(128&i)){vl(t);try{th(t),function sh(e){return Le.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&sg(e,t,n,2,r);const c=3==(3&i);if(c){const E=e.preOrderCheckHooks;null!==E&&va(t,E,null)}else{const E=e.preOrderHooks;null!==E&&_a(t,E,0,null),wl(t,0)}if(function kD(e){for(let t=Bl(e);null!==t;t=Hl(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||hl(i[3],1),i[2]|=512}}}(t),function ND(e){for(let t=Bl(e);null!==t;t=Hl(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];ya(r)&&za(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&ig(e,t),c){const E=e.contentCheckHooks;null!==E&&va(t,E)}else{const E=e.contentHooks;null!==E&&_a(t,E,1),wl(t,1)}!function hD(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)eo(~i);else{const a=i,c=n[++r],g=n[++r];m_(c,a),g(2,t[a])}}}finally{eo(-1)}}(e,t);const g=e.components;null!==g&&function pD(e,t){for(let n=0;n<t.length;n++)FD(e,t[n])}(t,g);const w=e.viewQuery;if(null!==w&&Oc(2,w,r),c){const E=e.viewCheckHooks;null!==E&&va(t,E)}else{const E=e.viewHooks;null!==E&&_a(t,E,2),wl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,hl(t[3],-1))}finally{_l()}}}function sg(e,t,n,r,i){const a=function on(){return Le.lFrame.selectedIndex}(),c=2&r;try{eo(-1),c&&t.length>22&&function Wp(e,t,n,r){if(!r)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&va(t,a,n)}else{const a=e.preOrderHooks;null!==a&&_a(t,a,0,n)}eo(n)}(e,t,22,!1),n(r,i)}finally{eo(a)}}function wc(e,t,n){if(dl(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}}function ag(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xc(e,t,n,r,i,a,c,g,w,E){const M=22+r,F=M+i,j=function mD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:$e);return n}(M,F),V="function"==typeof E?E():E;return j[1]={type:e,blueprint:j,template:n,queries:null,viewQuery:g,declTNode:t,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:w,consts:V,incompleteFirstPass:!1}}function ug(e,t,n,r){const i=function gg(e){return e[7]||(e[7]=[])}(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&function mg(e){return e.cleanup||(e.cleanup=[])}(e).push(r,i.length-1))}function lg(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const a=e[i];null===r?cg(n,t,i,a):r.hasOwnProperty(i)&&cg(n,t,r[i],a)}return n}function cg(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function fg(e,t,n,r,i,a){for(let E=0;E<r.length;E++)Il(xa(n,t),e,r[E].type);!function AD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let E=0;E<r.length;E++){const M=r[E];M.providersResolver&&M.providersResolver(M)}let c=!1,g=!1,w=ts(e,t,r.length,null);for(let E=0;E<r.length;E++){const M=r[E];n.mergedAttrs=Ui(n.mergedAttrs,M.hostAttrs),OD(e,n,t,w,M),CD(w,M,i),null!==M.contentQueries&&(n.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(n.flags|=64);const F=M.type.prototype;!c&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),!g&&(F.ngOnChanges||F.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),g=!0),w++}!function vD(e,t,n){const i=t.directiveEnd,a=e.data,c=t.attrs,g=[];let w=null,E=null;for(let M=t.directiveStart;M<i;M++){const F=a[M],j=n?n.get(F):null,Y=j?j.outputs:null;w=lg(F.inputs,M,w,j?j.inputs:null),E=lg(F.outputs,M,E,Y);const ne=null===w||null===c||Hp(t)?null:RD(w,M,c);g.push(ne)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=g,t.inputs=w,t.outputs=E}(e,n,a)}function hg(e,t,n){const r=n.directiveStart,i=n.directiveEnd,a=n.index,c=function y_(){return Le.lFrame.currentDirectiveIndex}();try{eo(a);for(let g=r;g<i;g++){const w=e.data[g],E=t[g];ml(g),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&SD(w,E)}}finally{eo(-1),ml(c)}}function SD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ec(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function CD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Gn(t)&&(n[""]=e)}}function OD(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=Qr(i.type)),c=new ji(a,Gn(i),Ae);e.blueprint[r]=c,n[r]=c,function DD(e,t,n,r,i){const a=i.hostBindings;if(a){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const g=~t.index;(function TD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=g&&c.push(g),c.push(n,r,a)}}(e,t,r,ts(e,n,i.hostVars,$e),i)}function MD(e,t,n,r,i,a){const c=a[t];if(null!==c){const g=r.setInput;for(let w=0;w<c.length;){const E=c[w++],M=c[w++],F=c[w++];null!==g?r.setInput(n,F,E,M):n[M]=F}}}function RD(e,t,n){let r=null,i=0;for(;i<n.length;){const a=n[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(e.hasOwnProperty(a)){null===r&&(r=[]);const c=e[a];for(let g=0;g<c.length;g+=2)if(c[g]===t){r.push(a,c[g+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function FD(e,t){const n=Tn(t,e);if(ya(n)){const r=n[1];48&n[2]?za(r,n,r.template,n[8]):n[5]>0&&Cc(n)}}function Cc(e){for(let r=Bl(e);null!==r;r=Hl(r))for(let i=10;i<r.length;i++){const a=r[i];if(ya(a))if(512&a[2]){const c=a[1];za(c,a,c.template,a[8])}else a[5]>0&&Cc(a)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Tn(n[r],e);ya(i)&&i[5]>0&&Cc(i)}}function LD(e,t){const n=Tn(t,e),r=n[1];(function $D(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),_c(r,n,n[8])}function Ga(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Wa(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{za(e,t,e.template,n)}catch(c){throw r&&function bg(e,t){const n=e[9],r=n?n.get(zo,null):null;r&&r.handleError(t)}(t,c),c}finally{i.end&&i.end()}}function Oc(e,t,n){bl(0),t(e,n)}function Pc(e,t,n,r,i){for(let a=0;a<n.length;){const c=n[a++],g=n[a++],w=t[c],E=e.data[c];null!==E.setInput?E.setInput(w,i,r,g):w[g]=i}}function qa(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let c=0;c<t.length;c++){const g=t[c];"number"==typeof g?a=g:1==a?i=Yr(i,g):2==a&&(r=Yr(r,g+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ya(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(Vt(a)),zn(a))for(let g=10;g<a.length;g++){const w=a[g],E=w[1].firstChild;null!==E&&Ya(w[1],w,E,r)}const c=n.type;if(8&c)Ya(e,t,n.child,r);else if(32&c){const g=Vl(n,t);let w;for(;w=g();)r.push(w)}else if(16&c){const g=cp(t,n);if(Array.isArray(g))r.push(...g);else{const w=Ki(t[16]);Ya(w[1],w,g,r,!0)}}n=i?n.projectionNext:n.next}return r}class ns{get rootNodes(){const t=this._lView,n=t[1];return Ya(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(zn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Wl(t,r),Ia(n,r))}this._attachedToViewContainer=!1}tp(this._lView[1],this._lView)}onDestroy(t){ug(this._lView[1],this._lView,null,t)}markForCheck(){!function Ac(e){for(;e;){e[2]|=32;const t=Ki(e);if(Kv(e)&&!t)return e;e=t}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wa(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ew(e,t){Xi(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=t}}class jD extends ns{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Wa(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class vg extends es{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=it(t);return new rs(n,this.ngModule)}}function _g(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class VD{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ua(r);const i=this.injector.get(t,fc,r);return i!==fc||n===fc?i:this.parentInjector.get(t,n,r)}}class rs extends Lp{get inputs(){return _g(this.componentDef.inputs)}get outputs(){return _g(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function W1(e){return e.map(G1).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let a=(i=i||this.ngModule)instanceof Dr?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const c=a?new VD(t,a):t,g=c.get(jp,null);if(null===g)throw new fe(407,!1);const w=c.get(S1,null),E=g.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",F=r?function yD(e,t,n){return e.selectRootElement(t,n===nr.ShadowDom)}(E,r,this.componentDef.encapsulation):Gl(E,M,function UD(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(M)),j=this.componentDef.onPush?288:272,V=xc(0,null,null,1,0,null,null,null,null,null),Y=Ha(null,V,null,j,null,null,g,E,w,c,null);let ne,ae;vl(Y);try{const ce=this.componentDef;let ge,ie=null;ce.findHostDirectiveDefs?(ge=[],ie=new Map,ce.findHostDirectiveDefs(ce,ge,ie),ge.push(ce)):ge=[ce];const Pe=function HD(e,t){const n=e[1];return e[22]=t,qo(n,22,2,"#host",null)}(Y,F),dt=function zD(e,t,n,r,i,a,c,g){const w=i[1];!function GD(e,t,n,r){for(const i of e)t.mergedAttrs=Ui(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(qa(t,t.mergedAttrs,!0),null!==n&&hp(r,n,t))}(r,e,t,c);const E=a.createRenderer(t,n),M=Ha(i,ag(n),null,n.onPush?32:16,i[e.index],e,a,E,g||null,null,null);return w.firstCreatePass&&Ec(w,e,r.length-1),Ga(i,M),i[e.index]=M}(Pe,F,ce,ge,Y,g,E);ae=function eh(e,t){return e.data[t]}(V,22),F&&function qD(e,t,n,r){if(r)Tl(e,n,["ng-version",E1.full]);else{const{attrs:i,classes:a}=function q1(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!Wn(i))break;i=a}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Tl(e,n,i),a&&a.length>0&&fp(e,n,a.join(" "))}}(E,ce,F,r),void 0!==n&&function YD(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const a=n[i];r.push(null!=a?Array.from(a):null)}}(ae,this.ngContentSelectors,n),ne=function WD(e,t,n,r,i,a){const c=Bt(),g=i[1],w=Dn(c,i);fg(g,i,c,n,null,r);for(let M=0;M<n.length;M++)Zt(to(i,g,c.directiveStart+M,c),i);hg(g,i,c),w&&Zt(w,i);const E=to(i,g,c.directiveStart+c.componentOffset,c);if(e[8]=i[8]=E,null!==a)for(const M of a)M(E,t);return wc(g,c,e),E}(dt,ce,ge,ie,Y,[KD]),_c(V,Y,null)}finally{_l()}return new BD(this.componentType,ne,Ho(ae,Y),Y,ae)}}class BD extends v1{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new jD(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const a=this._rootLView;Pc(a[1],a,i,t,n),function dg(e,t){const n=Tn(t,e);16&n[2]||(n[2]|=32)}(a,this._tNode.index)}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function KD(){const e=Bt();ba(se()[1],e)}let Ka=null;function so(){if(!Ka){const e=ft.Symbol;if(e&&e.iterator)Ka=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ka=r)}}}return Ka}function kc(e,t,n,r,i){const c=i?"class":"style";Pc(e,n,t.inputs[c],c,r)}function Fc(e,t,n,r){const i=se(),a=tt(),c=22+e,g=i[11],w=i[c]=Gl(g,t,function S_(){return Le.lFrame.currentNamespace}()),E=a.firstCreatePass?function hT(e,t,n,r,i,a,c){const g=t.consts,E=qo(t,e,2,i,kr(g,a));return function Sc(e,t,n,r){let i=!1;if(rh()){const a=null===r?null:{"":-1},c=function ED(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let a=0;a<n.length;a++){const c=n[a];if(zp(t,c.selectors,!1))if(r||(r=[]),Gn(c))if(null!==c.findHostDirectiveDefs){const g=[];i=i||new Map,c.findHostDirectiveDefs(c,g,i),r.unshift(...g,c),Ec(e,t,g.length)}else r.unshift(c),Ec(e,t,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,r,i),r.push(c)}return null===r?null:[r,i]}(e,n);let g,w;null===c?g=w=null:[g,w]=c,null!==g&&(i=!0,fg(e,t,n,g,a,w)),a&&function ID(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new fe(-301,!1);r.push(t[i],a)}}}(n,r,a)}return n.mergedAttrs=Ui(n.mergedAttrs,n.attrs),i}(t,n,E,kr(g,c)),null!==E.attrs&&qa(E,E.attrs,!1),null!==E.mergedAttrs&&qa(E,E.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,E),E}(c,a,i,0,t,n,r):a.data[c];return or(E,!0),hp(g,w,E),32!=(32&E.flags)&&Ma(a,i,w,E),0===function a_(){return Le.lFrame.elementDepthCount}()&&Zt(w,i),function u_(){Le.lFrame.elementDepthCount++}(),function ga(e){return 1==(1&e.flags)}(E)&&(function Dc(e,t,n){rh()&&(function xD(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;Li(n)&&function PD(e,t,n){const r=Dn(t,e),i=ag(n),a=e[10],c=Ga(e,Ha(e,i,null,n.onPush?32:16,r,t,a,a.createRenderer(r,n),null,null,null));e[t.index]=c}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||xa(n,t),Zt(r,t);const c=n.initialInputs;for(let g=i;g<a;g++){const w=e.data[g],E=to(t,e,g,n);Zt(E,t),null!==c&&MD(0,g-i,E,w,0,c),Gn(w)&&(Tn(n.index,t)[8]=to(t,e,g,n))}}(e,t,n,Dn(n,t)),64==(64&n.flags)&&hg(e,t,n))}(a,i,E),wc(a,E,i)),null!==r&&function Tc(e,t,n=Dn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const c=r[a+1],g=-1===c?n(t,e):e[c];e[i++]=g}}}(i,E),Fc}function Lc(){let e=Bt();pl()?function gl(){Le.lFrame.isParent=!1}():(e=e.parent,or(e,!1));const t=e;!function l_(){Le.lFrame.elementDepthCount--}();const n=tt();return n.firstCreatePass&&(ba(n,e),dl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function A_(e){return 0!=(8&e.flags)}(t)&&kc(n,t,se(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function O_(e){return 0!=(16&e.flags)}(t)&&kc(n,t,se(),t.stylesWithoutHost,!1),Lc}function Za(e,t,n,r){return Fc(e,t,n,r),Lc(),Za}function Qa(e){return!!e&&"function"==typeof e.then}const $g=function Lg(e){return!!e&&"function"==typeof e.subscribe},ii="en-US";let km=ii;class si{}class ay{}class uy extends si{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vg(this);const r=_n(t);this._bootstrapComponents=Tr(r.bootstrap),this._r3Injector=Zp(t,n,[{provide:si,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],rt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jc extends ay{constructor(t){super(),this.moduleType=t}create(t){return new uy(this.moduleType,t)}}class lS extends si{constructor(t,n,r){super(),this.componentFactoryResolver=new vg(this),this.instance=null;const i=new kp([...t,{provide:si,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],n||ja(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function iu(e,t,n=null){return new lS(e,t,n).injector}let cS=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Pp(0,n.type),i=r.length>0?iu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ke({token:e,providedIn:"environment",factory:()=>new e(Se(Dr))}),e})();function ly(e){e.getStandaloneInjector=t=>t.get(cS).getOrCreateStandaloneInjector(e)}function td(e){return t=>{setTimeout(e,void 0,t)}}const an=class FS extends nt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,a=n||(()=>null),c=r;if(t&&"object"==typeof t){const w=t;i=w.next?.bind(w),a=w.error?.bind(w),c=w.complete?.bind(w)}this.__isAsync&&(a=td(a),i&&(i=td(i)),c&&(c=td(c)));const g=super.subscribe({next:i,error:a,complete:c});return t instanceof y&&t.add(g),g}};function LS(){return this._results[so()]()}class nd{get changes(){return this._changes||(this._changes=new an)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=so(),r=nd.prototype;r[n]||(r[n]=LS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Rn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function U_(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sr=(()=>{class e{}return e.__NG_ELEMENT_ID__=US,e})();const $S=Sr,jS=class extends $S{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=Ha(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(i[19]=c.createEmbeddedView(r)),_c(r,i,t),new ns(i)}};function US(){return su(Bt(),se())}function su(e,t){return 4&e.type?new jS(t,e,Ho(e,t)):null}let Kn=(()=>{class e{}return e.__NG_ELEMENT_ID__=VS,e})();function VS(){return Ty(Bt(),se())}const BS=Kn,wy=class extends BS{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ho(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const t=El(this._hostTNode,this._hostLView);if(bh(t)){const n=Da(t,this._hostLView),r=wa(t);return new No(n[1].data[r+8],n)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Dy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const c=t.createEmbeddedView(n||{},a);return this.insert(c,i),c}createComponent(t,n,r,i,a){const c=t&&!function Bi(e){return"function"==typeof e}(t);let g;if(c)g=n;else{const F=n||{};g=F.index,r=F.injector,i=F.projectableNodes,a=F.environmentInjector||F.ngModuleRef}const w=c?t:new rs(it(t)),E=r||this.parentInjector;if(!a&&null==w.ngModule){const j=(c?E:this.parentInjector).get(Dr,null);j&&(a=j)}const M=w.create(E,i,void 0,a);return this.insert(M.hostView,g),M}insert(t,n){const r=t._lView,i=r[1];if(function s_(e){return zn(e[3])}(r)){const M=this.indexOf(t);if(-1!==M)this.detach(M);else{const F=r[3],j=new wy(F,F[6],F[3]);j.detach(j.indexOf(t))}}const a=this._adjustIndex(n),c=this._lContainer;!function Cw(e,t,n,r){const i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Ph(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const c=t[17];null!==c&&n!==c&&function Aw(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(c,t);const g=t[19];null!==g&&g.insertView(e),t[2]|=64}(i,r,c,a);const g=Kl(a,c),w=r[11],E=Pa(w,c[7]);return null!==E&&function Sw(e,t,n,r,i,a){r[0]=i,r[6]=t,Xi(e,r,n,1,i,a)}(i,c[6],w,r,E,g),t.attachToViewContainerRef(),Ph(rd(c),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Dy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Wl(this._lContainer,n);r&&(Ia(rd(this._lContainer),n),tp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Wl(this._lContainer,n);return r&&null!=Ia(rd(this._lContainer),n)?new ns(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Dy(e){return e[8]}function rd(e){return e[8]||(e[8]=[])}function Ty(e,t){let n;const r=t[e.index];if(zn(r))n=r;else{let i;if(8&e.type)i=Vt(r);else{const a=t[11];i=a.createComment("");const c=Dn(e,t);ro(a,Pa(a,c),i,function Rw(e,t){return e.nextSibling(t)}(a,c),!1)}t[e.index]=n=function pg(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}(r,t,i,e),Ga(t,n)}return new wy(n,e,t)}class od{constructor(t){this.queryList=t,this.matches=null}clone(){return new od(this.queryList)}setDirty(){this.queryList.setDirty()}}class id{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let a=0;a<r;a++){const c=n.getByIndex(a);i.push(this.queries[c.indexInDeclarationView].clone())}return new id(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Oy(t,n).matches&&this.queries[n].setDirty()}}class xy{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class sd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new sd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ad{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ad(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(t,n,HS(n,a)),this.matchTNodeWithReadOption(t,n,Sa(n,t,a,!1,!1))}else r===Sr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Sa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Lr||i===Kn||i===Sr&&4&n.type)this.addMatch(n.index,-2);else{const a=Sa(n,t,i,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function HS(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function GS(e,t,n,r){return-1===n?function zS(e,t){return 11&e.type?Ho(e,t):4&e.type?su(e,t):null}(t,e):-2===n?function WS(e,t,n){return n===Lr?Ho(t,e):n===Sr?su(t,e):n===Kn?Ty(t,e):void 0}(e,t,r):to(e,e[1],n,t)}function Sy(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const a=e.data,c=n.matches,g=[];for(let w=0;w<c.length;w+=2){const E=c[w];g.push(E<0?null:GS(t,a[E],c[w+1],n.metadata.read))}i.matches=g}return i.matches}function ud(e,t,n,r){const i=e.queries.getByIndex(n),a=i.matches;if(null!==a){const c=Sy(e,t,i,n);for(let g=0;g<a.length;g+=2){const w=a[g];if(w>0)r.push(c[g/2]);else{const E=a[g+1],M=t[-w];for(let F=10;F<M.length;F++){const j=M[F];j[17]===j[3]&&ud(j[1],j,E,r)}if(null!==M[9]){const F=M[9];for(let j=0;j<F.length;j++){const V=F[j];ud(V[1],V,E,r)}}}}}return r}function ld(e){const t=se(),n=tt(),r=uh();bl(r+1);const i=Oy(n,r);if(e.dirty&&function i_(e){return 4==(4&e[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const a=i.crossesNgTemplate?ud(n,t,r,[]):Sy(n,t,i,r);e.reset(a,T1),e.notifyOnChanges()}return!0}return!1}function Ey(e,t,n){const r=tt();r.firstCreatePass&&(function Ay(e,t,n){null===e.queries&&(e.queries=new sd),e.queries.track(new ad(t,n))}(r,new xy(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Cy(e,t,n){const r=new nd(4==(4&n));ug(e,t,r,r.destroy),null===t[19]&&(t[19]=new id),t[19].queries.push(new od(r))}(r,se(),t)}function Oy(e,t){return e.queries.getByIndex(t)}function uu(...e){}const lu=new Ne("Application Initializer");let cu=(()=>{class e{constructor(n){this.appInits=n,this.resolve=uu,this.reject=uu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(Qa(a))n.push(a);else if($g(a)){const c=new Promise((g,w)=>{a.subscribe({complete:g,error:w})});n.push(c)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Se(lu,8))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const gs=new Ne("AppId",{providedIn:"root",factory:function Ky(){return`${gd()}${gd()}${gd()}`}});function gd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xy=new Ne("Platform Initializer"),Zy=new Ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qy=new Ne("appBootstrapListener");let gE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Er=new Ne("LocaleId",{providedIn:"root",factory:()=>et(Er,Ce.Optional|Ce.SkipSelf)||function mE(){return typeof $localize<"u"&&$localize.locale||ii}()});class bE{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Jy=(()=>{class e{compileModuleSync(n){return new Jc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),a=Tr(_n(n).declarations).reduce((c,g)=>{const w=it(g);return w&&c.push(new rs(w)),c},[]);return new bE(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const wE=(()=>Promise.resolve(0))();function md(e){typeof Zone>"u"?wE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ot{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function DE(){let e=ft.requestAnimationFrame,t=ft.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function SE(e){const t=()=>{!function xE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bd(e),e.isCheckStableRunning=!0,yd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,c,g)=>{try{return nb(e),n.invokeTask(i,a,c,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),rb(e)}},onInvoke:(n,r,i,a,c,g,w)=>{try{return nb(e),n.invoke(i,a,c,g,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),rb(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,bd(e),yd(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ot.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Ot.isInAngularZone())throw new fe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,c=a.scheduleEventTask("NgZoneEvent: "+i,t,TE,uu,uu);try{return a.runTask(c,n,r)}finally{a.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const TE={};function yd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function nb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rb(e){e._nesting--,yd(e)}class EE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const ob=new Ne(""),du=new Ne("");let wd,vd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wd||(function IE(e){wd=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ot.assertNotInAngularZone(),md(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())md(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Se(Ot),Se(_d),Se(du))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})(),_d=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return wd?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),jr=null;const ib=new Ne("AllowMultipleToken"),Dd=new Ne("PlatformDestroyListeners");class sb{constructor(t,n){this.name=t,this.token=n}}function ub(e,t,n=[]){const r=`Platform: ${t}`,i=new Ne(r);return(a=[])=>{let c=Td();if(!c||c.injector.get(ib,!1)){const g=[...n,...a,{provide:i,useValue:!0}];e?e(g):function OE(e){if(jr&&!jr.get(ib,!1))throw new fe(400,!1);jr=e;const t=e.get(cb);(function ab(e){const t=e.get(Xy,null);t&&t.forEach(n=>n())})(e)}(function lb(e=[],t){return sr.create({name:t,providers:[{provide:uc,useValue:"platform"},{provide:Dd,useValue:new Set([()=>jr=null])},...e]})}(g,r))}return function ME(e){const t=Td();if(!t)throw new fe(401,!1);return t}()}}function Td(){return jr?.get(cb)??null}let cb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function fb(e,t){let n;return n="noop"===e?new EE:("zone.js"===e?void 0:e)||new Ot(t),n}(r?.ngZone,function db(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:Ot,useValue:i}];return i.run(()=>{const c=sr.create({providers:a,parent:this.injector,name:n.moduleType.name}),g=n.create(c),w=g.injector.get(zo,null);if(!w)throw new fe(402,!1);return i.runOutsideAngular(()=>{const E=i.onError.subscribe({next:M=>{w.handleError(M)}});g.onDestroy(()=>{hu(this._modules,g),E.unsubscribe()})}),function hb(e,t,n){try{const r=n();return Qa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(w,i,()=>{const E=g.injector.get(cu);return E.runInitializers(),E.donePromise.then(()=>(function Fm(e){Je(e,"Expected localeId to be defined"),"string"==typeof e&&(km=e.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Er,ii)||ii),this._moduleDoBootstrap(g),g))})})}bootstrapModule(n,r=[]){const i=pb({},r);return function CE(e,t,n){const r=new Jc(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(fu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new fe(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Dd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Se(sr))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function pb(e,t){return Array.isArray(t)?t.reduce(pb,e):{...e,...t}}let fu=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new re(g=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{g.next(this._stable),g.complete()})}),c=new re(g=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Ot.assertNotInAngularZone(),md(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,g.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{Ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{g.next(!1)}))});return()=>{w.unsubscribe(),E.unsubscribe()}});this.isStable=function ta(...e){const t=pr(e),n=function xi(e,t){return"number"==typeof st(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Ut(r[0]):hr(n)(ct(r,t)):vn}(a,c.pipe(function na(e={}){const{connector:t=(()=>new nt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let c,g,w,E=0,M=!1,F=!1;const j=()=>{g?.unsubscribe(),g=void 0},V=()=>{j(),c=w=void 0,M=F=!1},Y=()=>{const ne=c;V(),ne?.unsubscribe()};return Me((ne,ae)=>{E++,!F&&!M&&j();const ce=w=w??t();ae.add(()=>{E--,0===E&&!F&&!M&&(g=wo(Y,i))}),ce.subscribe(ae),!c&&E>0&&(c=new $({next:ge=>ce.next(ge),error:ge=>{F=!0,j(),g=wo(V,n,ge),ce.error(ge)},complete:()=>{M=!0,j(),g=wo(V,r),ce.complete()}}),Ut(ne).subscribe(c))})(a)}}()))}bootstrap(n,r){const i=n instanceof Lp;if(!this._injector.get(cu).done)throw!i&&function Eo(e){const t=it(e)||Yt(e)||tn(e);return null!==t&&t.standalone}(n),new fe(405,false);let c;c=i?n:this._injector.get(es).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const g=function AE(e){return e.isBoundToModule}(c)?void 0:this._injector.get(si),E=c.create(sr.NULL,[],r||c.selector,g),M=E.location.nativeElement,F=E.injector.get(ob,null);return F?.registerApplication(M),E.onDestroy(()=>{this.detachView(E.hostView),hu(this.components,E),F?.unregisterApplication(M)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;hu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Qy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new fe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Se(Ot),Se(Dr),Se(zo))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let xd=(()=>{class e{}return e.__NG_ELEMENT_ID__=NE,e})();function NE(e){return function kE(e,t,n){if(Li(e)&&!n){const r=Tn(e.index,t);return new ns(r,r)}return 47&e.type?new ns(t[16],t):null}(Bt(),se(),16==(16&e))}const YE=ub(null,"core",[]);let KE=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Se(fu))},e.\u0275mod=Xr({type:e}),e.\u0275inj=Rr({}),e})(),Od=null;function Ur(){return Od}class QE{}const pn=new Ne("DocumentToken");let Pd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(){return function JE(){return Se(Sb)}()},providedIn:"platform"}),e})();const eI=new Ne("Location Initialized");let Sb=(()=>{class e extends Pd{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(n){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){Eb()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){Eb()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Se(pn))},e.\u0275prov=ke({token:e,factory:function(){return function tI(){return new Sb(Se(pn))}()},providedIn:"platform"}),e})();function Eb(){return!!window.history.pushState}function Md(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ib(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Cr(e){return e&&"?"!==e[0]?"?"+e:e}let fo=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(){return et(Ab)},providedIn:"root"}),e})();const Cb=new Ne("appBaseHref");let Ab=(()=>{class e extends fo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??et(pn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Md(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,a){const c=this.prepareExternalUrl(i+Cr(a));this._platformLocation.pushState(n,r,c)}replaceState(n,r,i,a){const c=this.prepareExternalUrl(i+Cr(a));this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Se(Pd),Se(Cb,8))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nI=(()=>{class e extends fo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Md(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,a){let c=this.prepareExternalUrl(i+Cr(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(n,r,c)}replaceState(n,r,i,a){let c=this.prepareExternalUrl(i+Cr(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Se(Pd),Se(Cb,8))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})(),Rd=(()=>{class e{constructor(n){this._subject=new an,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function iI(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Ib(Ob(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Cr(r))}normalize(n){return e.stripTrailingSlash(function oI(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._basePath,Ob(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Cr,e.joinWithSlash=Md,e.stripTrailingSlash=Ib,e.\u0275fac=function(n){return new(n||e)(Se(fo))},e.\u0275prov=ke({token:e,factory:function(){return function rI(){return new Rd(Se(fo))}()},providedIn:"root"}),e})();function Ob(e){return e.replace(/\/index.html$/,"")}let _C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Rr({}),e})();let xC=(()=>{class e{}return e.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new SC(Se(pn),window)}),e})();class SC{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function EC(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Wb(this.window.history)||Wb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wb(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class e2 extends QE{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kd extends e2{static makeCurrent(){!function ZE(e){Od||(Od=e)}(new Kd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function t2(){return _s=_s||document.querySelector("base"),_s?_s.getAttribute("href"):null}();return null==n?null:function n2(e){Iu=Iu||document.createElement("a"),Iu.setAttribute("href",e);const t=Iu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){_s=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function BI(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Iu,_s=null;const Qb=new Ne("TRANSITION_ID"),o2=[{provide:lu,useFactory:function r2(e,t,n){return()=>{n.get(cu).donePromise.then(()=>{const r=Ur(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Qb,pn,sr],multi:!0}];let s2=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();const Cu=new Ne("EventManagerPlugins");let Au=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(n))return this._eventNameToPlugin.set(n,c),c}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Se(Cu),Se(Ot))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();class Jb{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Ur().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let e0=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})(),ws=(()=>{class e extends e0{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(t0),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(t0))}}return e.\u0275fac=function(n){return new(n||e)(Se(pn))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();function t0(e){Ur().remove(e)}const Xd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zd=/%COMP%/g;function Qd(e,t){return t.flat(100).map(n=>n.replace(Zd,e))}function o0(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jd=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ef(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case nr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new f2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case nr.ShadowDom:return new h2(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Qd(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Se(Au),Se(ws),Se(gs))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();class ef{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Xd[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(a0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(a0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const a=Xd[i];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Xd[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(fn.DashCase|fn.Important)?t.style.setProperty(n,r,i&fn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&fn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,o0(r)):this.eventManager.addEventListener(t,n,o0(r))}}function a0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class f2 extends ef{constructor(t,n,r,i){super(t),this.component=r;const a=Qd(i+"-"+r.id,r.styles);n.addStyles(a),this.contentAttr=function l2(e){return"_ngcontent-%COMP%".replace(Zd,e)}(i+"-"+r.id),this.hostAttr=function c2(e){return"_nghost-%COMP%".replace(Zd,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class h2 extends ef{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Qd(i.id,i.styles);for(let c=0;c<a.length;c++){const g=document.createElement("style");g.textContent=a[c],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let p2=(()=>{class e extends Jb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Se(pn))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();const u0=["alt","control","meta","shift"],g2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let y2=(()=>{class e extends Jb{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const a=e.parseEventName(r),c=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(n,a.domEventName,c))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),u0.forEach(E=>{const M=r.indexOf(E);M>-1&&(r.splice(M,1),c+=E+".")}),c+=a,0!=r.length||0===a.length)return null;const w={};return w.domEventName=i,w.fullKey=c,w}static matchEventFullKeyCode(n,r){let i=g2[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(i=n.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),u0.forEach(c=>{c!==i&&(0,m2[c])(n)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(n,r,i){return a=>{e.matchEventFullKeyCode(a,n)&&i.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Se(pn))},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();const w2=ub(YE,"browser",[{provide:Zy,useValue:"browser"},{provide:Xy,useValue:function b2(){Kd.makeCurrent()},multi:!0},{provide:pn,useFactory:function _2(){return function Vw(e){Jl=e}(document),document},deps:[]}]),d0=new Ne(""),f0=[{provide:du,useClass:class i2{addToWindow(t){ft.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},ft.getAllAngularTestabilities=()=>t.getAllTestabilities(),ft.getAllAngularRootElements=()=>t.getAllRootElements(),ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(r=>{const i=ft.getAllAngularTestabilities();let a=i.length,c=!1;const g=function(w){c=c||w,a--,0==a&&r(c)};i.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ur().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:ob,useClass:vd,deps:[Ot,_d,du]},{provide:vd,useClass:vd,deps:[Ot,_d,du]}],h0=[{provide:uc,useValue:"root"},{provide:zo,useFactory:function v2(){return new zo},deps:[]},{provide:Cu,useClass:p2,multi:!0,deps:[pn,Ot,Zy]},{provide:Cu,useClass:y2,multi:!0,deps:[pn]},{provide:Jd,useClass:Jd,deps:[Au,ws,gs]},{provide:jp,useExisting:Jd},{provide:e0,useExisting:ws},{provide:ws,useClass:ws,deps:[pn]},{provide:Au,useClass:Au,deps:[Cu,Ot]},{provide:class IC{},useClass:s2,deps:[]},[]];let D2=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:gs,useValue:n.appId},{provide:Qb,useExisting:gs},o2]}}}return e.\u0275fac=function(n){return new(n||e)(Se(d0,12))},e.\u0275mod=Xr({type:e}),e.\u0275inj=Rr({providers:[...h0,...f0],imports:[_C,KE]}),e})(),p0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Se(pn))},e.\u0275prov=ke({token:e,factory:function(n){let r=null;return r=n?new n:function x2(){return new p0(Se(pn))}(),r},providedIn:"root"}),e})();function Ie(...e){return ct(e,pr(e))}typeof window<"u"&&window;class Jn extends nt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Ou=D(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:M2}=Array,{getPrototypeOf:R2,prototype:N2,keys:k2}=Object;const{isArray:$2}=Array;function y0(...e){const t=pr(e),n=function Ti(e){return S(st(e))?e.pop():void 0}(e),{args:r,keys:i}=function F2(e){if(1===e.length){const t=e[0];if(M2(t))return{args:t,keys:null};if(function L2(e){return e&&"object"==typeof e&&R2(e)===N2}(t)){const n=k2(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return ct([],t);const a=new re(function B2(e,t,n=B){return r=>{b0(t,()=>{const{length:i}=e,a=new Array(i);let c=i,g=i;for(let w=0;w<i;w++)b0(t,()=>{const E=ct(e[w],t);let M=!1;E.subscribe(We(r,F=>{a[w]=F,M||(M=!0,g--),g||r.next(n(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,i?c=>function V2(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,c):B));return n?a.pipe(function U2(e){return xe(t=>function j2(e,t){return $2(t)?e(...t):e(t)}(e,t))}(n)):a}function b0(e,t,n){e?An(n,e,t):t()}function rf(...e){return function H2(){return hr(1)}()(ct(e,pr(e)))}function v0(e){return new re(t=>{Ut(e()).subscribe(t)})}function Ds(e,t){const n=S(e)?e:()=>e,r=i=>i.error(n());return new re(t?i=>t.schedule(r,0,i):r)}function sf(){return Me((e,t)=>{let n=null;e._refCount++;const r=We(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class _0 extends re{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new y;const n=this.getSubject();t.add(this.source.subscribe(We(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=y.EMPTY)}return t}refCount(){return sf()(this)}}function En(e,t){return Me((n,r)=>{let i=null,a=0,c=!1;const g=()=>c&&!i&&r.complete();n.subscribe(We(r,w=>{i?.unsubscribe();let E=0;const M=a++;Ut(e(w,M)).subscribe(i=We(r,F=>r.next(t?t(w,F,M,E++):F),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function Ts(e){return e<=0?()=>vn:Me((t,n)=>{let r=0;t.subscribe(We(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Br(e,t){return Me((n,r)=>{let i=0;n.subscribe(We(r,a=>e.call(t,a,i++)&&r.next(a)))})}function Pu(e){return Me((t,n)=>{let r=!1;t.subscribe(We(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function w0(e=G2){return Me((t,n)=>{let r=!1;t.subscribe(We(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function G2(){return new Ou}function Hr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Br((i,a)=>e(i,a,r)):B,Ts(1),n?Pu(t):w0(()=>new Ou))}function ho(e,t){return S(t)?Tt(e,t,1):Tt(e,1)}function Ht(e,t,n){const r=S(e)||t||n?{next:e,error:t,complete:n}:e;return r?Me((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let g=!0;i.subscribe(We(a,w=>{var E;null===(E=r.next)||void 0===E||E.call(r,w),a.next(w)},()=>{var w;g=!1,null===(w=r.complete)||void 0===w||w.call(r),a.complete()},w=>{var E;g=!1,null===(E=r.error)||void 0===E||E.call(r,w),a.error(w)},()=>{var w,E;g&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(E=r.finalize)||void 0===E||E.call(r)}))}):B}function zr(e){return Me((t,n)=>{let a,r=null,i=!1;r=t.subscribe(We(n,void 0,void 0,c=>{a=Ut(e(c,zr(e)(t))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function W2(e,t,n,r,i){return(a,c)=>{let g=n,w=t,E=0;a.subscribe(We(c,M=>{const F=E++;w=g?e(w,M,F):(g=!0,M),r&&c.next(w)},i&&(()=>{g&&c.next(w),c.complete()})))}}function D0(e,t){return Me(W2(e,t,arguments.length>=2,!0))}function af(e){return e<=0?()=>vn:Me((t,n)=>{let r=[];t.subscribe(We(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function T0(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Br((i,a)=>e(i,a,r)):B,af(1),n?Pu(t):w0(()=>new Ou))}function uf(e){return Me((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Be="primary",xs=Symbol("RouteTitle");class K2{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function li(e){return new K2(e)}function X2(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],g=e[a];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function dr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!x0(e[i],t[i]))return!1;return!0}function x0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,a)=>r[a]===i)}return e===t}function S0(e){return Array.prototype.concat.apply([],e)}function E0(e){return e.length>0?e[e.length-1]:null}function zt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Gr(e){return $g(e)?e:Qa(e)?ct(Promise.resolve(e)):Ie(e)}const Mu=!1,Q2={exact:function A0(e,t,n){if(!go(e.segments,t.segments)||!Ru(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!A0(e.children[r],t.children[r],n))return!1;return!0},subset:O0},I0={exact:function J2(e,t){return dr(e,t)},subset:function eA(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>x0(e[n],t[n]))},ignored:()=>!0};function C0(e,t,n){return Q2[n.paths](e.root,t.root,n.matrixParams)&&I0[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function O0(e,t,n){return P0(e,t,t.segments,n)}function P0(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!go(i,n)||t.hasChildren()||!Ru(i,n,r))}if(e.segments.length===n.length){if(!go(e.segments,n)||!Ru(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!O0(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),a=n.slice(e.segments.length);return!!(go(e.segments,i)&&Ru(e.segments,i,r)&&e.children[Be])&&P0(e.children[Be],t,a,r)}}function Ru(e,t,n){return t.every((r,i)=>I0[n](e[i].parameters,r.parameters))}class po{constructor(t=new ze([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=li(this.queryParams)),this._queryParamMap}toString(){return rA.serialize(this)}}class ze{constructor(t,n){this.segments=t,this.children=n,this.parent=null,zt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nu(this)}}class Ss{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=li(this.parameters)),this._parameterMap}toString(){return N0(this)}}function go(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Es=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(){return new lf},providedIn:"root"}),e})();class lf{parse(t){const n=new fA(t);return new po(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Is(t.root,!0)}`,r=function sA(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${ku(n)}=${ku(i)}`).join("&"):`${ku(n)}=${ku(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function oA(e){return encodeURI(e)}(t.fragment)}`:""}`}}const rA=new lf;function Nu(e){return e.segments.map(t=>N0(t)).join("/")}function Is(e,t){if(!e.hasChildren())return Nu(e);if(t){const n=e.children[Be]?Is(e.children[Be],!1):"",r=[];return zt(e.children,(i,a)=>{a!==Be&&r.push(`${a}:${Is(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function nA(e,t){let n=[];return zt(e.children,(r,i)=>{i===Be&&(n=n.concat(t(r,i)))}),zt(e.children,(r,i)=>{i!==Be&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Be?[Is(e.children[Be],!1)]:[`${i}:${Is(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Be]?`${Nu(e)}/${n[0]}`:`${Nu(e)}/(${n.join("//")})`}}function M0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ku(e){return M0(e).replace(/%3B/gi,";")}function cf(e){return M0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fu(e){return decodeURIComponent(e)}function R0(e){return Fu(e.replace(/\+/g,"%20"))}function N0(e){return`${cf(e.path)}${function iA(e){return Object.keys(e).map(t=>`;${cf(t)}=${cf(e[t])}`).join("")}(e.parameters)}`}const aA=/^[^\/()?;=#]+/;function Lu(e){const t=e.match(aA);return t?t[0]:""}const uA=/^[^=?&#]+/,cA=/^[^&#]+/;class fA{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Be]=new ze(t,n)),r}parseSegment(){const t=Lu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new fe(4009,Mu);return this.capture(t),new Ss(Fu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Lu(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Lu(this.remaining);i&&(r=i,this.capture(r))}t[Fu(n)]=Fu(r)}parseQueryParam(t){const n=function lA(e){const t=e.match(uA);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const c=function dA(e){const t=e.match(cA);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=R0(n),a=R0(r);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(a)}else t[i]=a}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Lu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new fe(4010,Mu);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Be);const c=this.parseChildren();n[a]=1===Object.keys(c).length?c[Be]:new ze([],c),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new fe(4011,Mu)}}function df(e){return e.segments.length>0?new ze([],{[Be]:e}):e}function $u(e){const t={};for(const r of Object.keys(e.children)){const a=$u(e.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function hA(e){if(1===e.numberOfChildren&&e.children[Be]){const t=e.children[Be];return new ze(e.segments.concat(t.segments),t.children)}return e}(new ze(e.segments,t))}function mo(e){return e instanceof po}function mA(e,t,n,r,i){if(0===n.length)return ci(t.root,t.root,t.root,r,i);const a=function L0(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new F0(!0,0,e);let t=0,n=!1;const r=e.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const g={};return zt(a.outlets,(w,E)=>{g[E]="string"==typeof w?w.split("/"):w}),[...i,{outlets:g}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?n=!0:".."===g?t++:""!=g&&i.push(g))}),i):[...i,a]},[]);return new F0(n,t,r)}(n);return a.toRoot()?ci(t.root,t.root,new ze([],{}),r,i):function c(w){const E=function bA(e,t,n,r){if(e.isAbsolute)return new di(t.root,!0,0);if(-1===r)return new di(n,n===t.root,0);return function $0(e,t,n){let r=e,i=t,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new fe(4005,!1);i=r.segments.length}return new di(r,!1,i-a)}(n,r+(Cs(e.commands[0])?0:1),e.numberOfDoubleDots)}(a,t,e.snapshot?._urlSegment,w),M=E.processChildren?Os(E.segmentGroup,E.index,a.commands):hf(E.segmentGroup,E.index,a.commands);return ci(t.root,E.segmentGroup,M,r,i)}(e.snapshot?._lastPathIndex)}function Cs(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function As(e){return"object"==typeof e&&null!=e&&e.outlets}function ci(e,t,n,r,i){let c,a={};r&&zt(r,(w,E)=>{a[E]=Array.isArray(w)?w.map(M=>`${M}`):`${w}`}),c=e===t?n:k0(e,t,n);const g=df($u(c));return new po(g,a,i)}function k0(e,t,n){const r={};return zt(e.children,(i,a)=>{r[a]=i===t?n:k0(i,t,n)}),new ze(e.segments,r)}class F0{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Cs(r[0]))throw new fe(4003,!1);const i=r.find(As);if(i&&i!==E0(r))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class di{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function hf(e,t,n){if(e||(e=new ze([],{})),0===e.segments.length&&e.hasChildren())return Os(e,t,n);const r=function _A(e,t,n){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return a;const c=e.segments[i],g=n[r];if(As(g))break;const w=`${g}`,E=r<n.length-1?n[r+1]:null;if(i>0&&void 0===w)break;if(w&&E&&"object"==typeof E&&void 0===E.outlets){if(!U0(w,E,c))return a;r+=2}else{if(!U0(w,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const a=new ze(e.segments.slice(0,r.pathIndex),{});return a.children[Be]=new ze(e.segments.slice(r.pathIndex),e.children),Os(a,0,i)}return r.match&&0===i.length?new ze(e.segments,{}):r.match&&!e.hasChildren()?pf(e,t,n):r.match?Os(e,0,i):pf(e,t,n)}function Os(e,t,n){if(0===n.length)return new ze(e.segments,{});{const r=function vA(e){return As(e[0])?e[0].outlets:{[Be]:e}}(n),i={};return zt(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=hf(e.children[c],t,a))}),zt(e.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new ze(e.segments,i)}}function pf(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const a=n[i];if(As(a)){const w=wA(a.outlets);return new ze(r,w)}if(0===i&&Cs(n[0])){r.push(new Ss(e.segments[t].path,j0(n[0]))),i++;continue}const c=As(a)?a.outlets[Be]:`${a}`,g=i<n.length-1?n[i+1]:null;c&&g&&Cs(g)?(r.push(new Ss(c,j0(g))),i+=2):(r.push(new Ss(c,{})),i++)}return new ze(r,{})}function wA(e){const t={};return zt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=pf(new ze([],{}),0,n))}),t}function j0(e){const t={};return zt(e,(n,r)=>t[r]=`${n}`),t}function U0(e,t,n){return e==n.path&&dr(t,n.parameters)}const Ps="imperative";class fr{constructor(t,n){this.id=t,this.url=n}}class gf extends fr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yo extends fr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ju extends fr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class V0 extends fr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class B0 extends fr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DA extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TA extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xA extends fr{constructor(t,n,r,i,a){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SA extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EA extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IA{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class CA{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class AA{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OA{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PA{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MA{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H0{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let NA=(()=>{class e{createUrlTree(n,r,i,a,c,g){return mA(n||r.root,i,a,c,g)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})(),kA=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(t){return NA.\u0275fac(t)},providedIn:"root"}),e})();class z0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=mf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=mf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=yf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return yf(t,this._root).map(n=>n.value)}}function mf(e,t){if(e===t.value)return t;for(const n of t.children){const r=mf(e,n);if(r)return r}return null}function yf(e,t){if(e===t.value)return[t];for(const n of t.children){const r=yf(e,n);if(r.length)return r.unshift(t),r}return[]}class Or{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function fi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class G0 extends z0{constructor(t,n){super(t),this.snapshot=n,bf(this,t)}toString(){return this.snapshot.toString()}}function W0(e,t){const n=function FA(e,t){const c=new Uu([],{},{},"",{},Be,t,null,e.root,-1,{});return new Y0("",new Or(c,[]))}(e,t),r=new Jn([new Ss("",{})]),i=new Jn({}),a=new Jn({}),c=new Jn({}),g=new Jn(""),w=new hi(r,i,c,g,a,Be,t,n.root);return w.snapshot=n.root,new G0(new Or(w,[]),n)}class hi{constructor(t,n,r,i,a,c,g,w){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=g,this.title=this.data?.pipe(xe(E=>E[xs]))??Ie(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(t=>li(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(t=>li(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q0(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function LA(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Uu{get title(){return this.data?.[xs]}constructor(t,n,r,i,a,c,g,w,E,M,F){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=g,this.routeConfig=w,this._urlSegment=E,this._lastPathIndex=M,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=li(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=li(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Y0 extends z0{constructor(t,n){super(n),this.url=t,bf(this,n)}toString(){return K0(this._root)}}function bf(e,t){t.value._routerState=e,t.children.forEach(n=>bf(e,n))}function K0(e){const t=e.children.length>0?` { ${e.children.map(K0).join(", ")} } `:"";return`${e.value}${t}`}function vf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dr(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),dr(t.params,n.params)||e.params.next(n.params),function Z2(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!dr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),dr(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function _f(e,t){const n=dr(e.params,t.params)&&function tA(e,t){return go(e,t)&&e.every((n,r)=>dr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||_f(e.parent,t.parent))}function Ms(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function jA(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ms(e,r,i);return Ms(e,r)})}(e,t,n);return new Or(r,i)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(g=>Ms(e,g)),c}}const r=function UA(e){return new hi(new Jn(e.url),new Jn(e.params),new Jn(e.queryParams),new Jn(e.fragment),new Jn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(a=>Ms(e,a));return new Or(r,i)}}const wf="ngNavigationCancelingError";function X0(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=mo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Z0(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function Z0(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[wf]=!0,r.cancellationCode=t,n&&(r.url=n),r}function Q0(e){return J0(e)&&mo(e.url)}function J0(e){return e&&e[wf]}class VA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Rs,this.attachRef=null}}let Rs=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new VA,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Vu=!1;let ev=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new an,this.deactivateEvents=new an,this.attachEvents=new an,this.detachEvents=new an,this.parentContexts=et(Rs),this.location=et(Kn),this.changeDetector=et(xd),this.environmentInjector=et(Dr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,Vu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,Vu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,Vu);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new fe(4013,Vu);this._activatedRoute=n;const i=this.location,c=n.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,w=new BA(n,g,i.injector);if(r&&function HA(e){return!!e.resolveComponentFactory}(r)){const E=r.resolveComponentFactory(c);this.activated=i.createComponent(E,i.length,w)}else this.activated=i.createComponent(c,{index:i.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=en({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jr]}),e})();class BA{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===hi?this.route:t===Rs?this.childContexts:this.parent.get(t,n)}}let Df=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=ca({type:e,selectors:[["ng-component"]],standalone:!0,features:[ly],decls:1,vars:0,template:function(n,r){1&n&&Za(0,"router-outlet")},dependencies:[ev],encapsulation:2}),e})();function tv(e,t){return e.providers&&!e._injector&&(e._injector=iu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function xf(e){const t=e.children&&e.children.map(xf),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=Df),n}function Ln(e){return e.outlet||Be}function nv(e,t){const n=e.filter(r=>Ln(r)===t);return n.push(...e.filter(r=>Ln(r)!==t)),n}function Ns(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class YA{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=fi(n);t.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),zt(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(t,n,c.children)}else this.deactivateChildRoutes(t,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=fi(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:g})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,a=fi(t);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=fi(n);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new MA(a.value.snapshot))}),t.children.length&&this.forwardEvent(new OA(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,a=n?n.value:null;if(vf(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,c.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),vf(g.route.value),this.activateChildRoutes(t,null,c.children)}else{const g=Ns(i.snapshot),w=g?.get(es)??null;c.attachRef=null,c.route=i,c.resolver=w,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,r)}}class rv{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Bu{constructor(t,n){this.component=t,this.route=n}}function KA(e,t,n){const r=e._root;return ks(r,t?t._root:null,n,[r.value])}function pi(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function Nv(e){return null!==ia(e)}(e)?t.get(e):e:r}function ks(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=fi(t);return e.children.forEach(c=>{(function ZA(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,c=t?t.value:null,g=n?n.getContext(e.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const w=function QA(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!go(e.url,t.url);case"pathParamsOrQueryParamsChange":return!go(e.url,t.url)||!dr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_f(e,t)||!dr(e.queryParams,t.queryParams);default:return!_f(e,t)}}(c,a,a.routeConfig.runGuardsAndResolvers);w?i.canActivateChecks.push(new rv(r)):(a.data=c.data,a._resolvedData=c._resolvedData),ks(e,t,a.component?g?g.children:null:n,r,i),w&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Bu(g.outlet.component,c))}else c&&Fs(t,g,i),i.canActivateChecks.push(new rv(r)),ks(e,null,a.component?g?g.children:null:n,r,i)})(c,a[c.value.outlet],n,r.concat([c.value]),i),delete a[c.value.outlet]}),zt(a,(c,g)=>Fs(c,n.getContext(g),i)),i}function Fs(e,t,n){const r=fi(e),i=e.value;zt(r,(a,c)=>{Fs(a,i.component?t?t.children.getContext(c):null:t,n)}),n.canDeactivateChecks.push(new Bu(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ls(e){return"function"==typeof e}function Sf(e){return e instanceof Ou||"EmptyError"===e?.name}const Hu=Symbol("INITIAL_VALUE");function gi(){return En(e=>y0(e.map(t=>t.pipe(Ts(1),function z2(...e){const t=pr(e);return Me((n,r)=>{(t?rf(e,n,t):rf(e,n)).subscribe(r)})}(Hu)))).pipe(xe(t=>{for(const n of t)if(!0!==n){if(n===Hu)return Hu;if(!1===n||n instanceof po)return n}return!0}),Br(t=>t!==Hu),Ts(1)))}function ov(e){return function K(...e){return ve(e)}(Ht(t=>{if(mo(t))throw X0(0,t)}),xe(t=>!0===t))}const Ef={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iv(e,t,n,r,i){const a=If(e,t,n);return a.matched?function gO(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Ie(i.map(c=>{const g=pi(c,e);return Gr(function oO(e){return e&&Ls(e.canMatch)}(g)?g.canMatch(t,n):e.runInContext(()=>g(t,n)))})).pipe(gi(),ov()):Ie(!0)}(r=tv(t,r),t,n).pipe(xe(c=>!0===c?a:{...Ef})):Ie(a)}function If(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Ef}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||X2)(n,e,t);if(!i)return{...Ef};const a={};zt(i.posParams,(g,w)=>{a[w]=g.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function zu(e,t,n,r){if(n.length>0&&function bO(e,t,n){return n.some(r=>Gu(e,t,r)&&Ln(r)!==Be)}(e,n,r)){const a=new ze(t,function yO(e,t,n,r){const i={};i[Be]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const a of n)if(""===a.path&&Ln(a)!==Be){const c=new ze([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[Ln(a)]=c}return i}(e,t,r,new ze(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function vO(e,t,n){return n.some(r=>Gu(e,t,r))}(e,n,r)){const a=new ze(e.segments,function mO(e,t,n,r,i){const a={};for(const c of r)if(Gu(e,n,c)&&!i[Ln(c)]){const g=new ze([],{});g._sourceSegment=e,g._segmentIndexShift=t.length,a[Ln(c)]=g}return{...i,...a}}(e,t,n,r,e.children));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}const i=new ze(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Gu(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function sv(e,t,n,r){return!!(Ln(e)===r||r!==Be&&Gu(t,n,e))&&("**"===e.path||If(t,e,n).matched)}function av(e,t,n){return 0===t.length&&!e.children[n]}const Wu=!1;class qu{constructor(t){this.segmentGroup=t||null}}class uv{constructor(t){this.urlTree=t}}function $s(e){return Ds(new qu(e))}function lv(e){return Ds(new uv(e))}class TO{constructor(t,n,r,i,a){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const t=zu(this.urlTree.root,[],[],this.config).segmentGroup,n=new ze(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Be).pipe(xe(a=>this.createUrlTree($u(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zr(a=>{if(a instanceof uv)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof qu?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Be).pipe(xe(i=>this.createUrlTree($u(i),t.queryParams,t.fragment))).pipe(zr(i=>{throw i instanceof qu?this.noMatchError(i):i}))}noMatchError(t){return new fe(4002,Wu)}createUrlTree(t,n,r){const i=df(t);return new po(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(xe(a=>new ze([],a))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return ct(i).pipe(ho(a=>{const c=r.children[a],g=nv(n,a);return this.expandSegmentGroup(t,g,c,a).pipe(xe(w=>({segment:w,outlet:a})))}),D0((a,c)=>(a[c.outlet]=c.segment,a),{}),T0())}expandSegment(t,n,r,i,a,c){return ct(r).pipe(ho(g=>this.expandSegmentAgainstRoute(t,n,r,g,i,a,c).pipe(zr(E=>{if(E instanceof qu)return Ie(null);throw E}))),Hr(g=>!!g),zr((g,w)=>{if(Sf(g))return av(n,i,a)?Ie(new ze([],{})):$s(n);throw g}))}expandSegmentAgainstRoute(t,n,r,i,a,c,g){return sv(i,n,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,a,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c):$s(n):$s(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lv(a):this.lineralizeSegments(r,a).pipe(Tt(c=>{const g=new ze(c,{});return this.expandSegment(t,g,n,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,a,c){const{matched:g,consumedSegments:w,remainingSegments:E,positionalParamSegments:M}=If(n,i,a);if(!g)return $s(n);const F=this.applyRedirectCommands(w,i.redirectTo,M);return i.redirectTo.startsWith("/")?lv(F):this.lineralizeSegments(i,F).pipe(Tt(j=>this.expandSegment(t,n,r,j.concat(E),c,!1)))}matchSegmentAgainstRoute(t,n,r,i,a){return"**"===r.path?(t=tv(r,t),r.loadChildren?(r._loadedRoutes?Ie({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(xe(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new ze(i,{})))):Ie(new ze(i,{}))):iv(n,r,i,t).pipe(En(({matched:c,consumedSegments:g,remainingSegments:w})=>c?this.getChildConfig(t=r._injector??t,r,i).pipe(Tt(M=>{const F=M.injector??t,j=M.routes,{segmentGroup:V,slicedSegments:Y}=zu(n,g,w,j),ne=new ze(V.segments,V.children);if(0===Y.length&&ne.hasChildren())return this.expandChildren(F,j,ne).pipe(xe(ie=>new ze(g,ie)));if(0===j.length&&0===Y.length)return Ie(new ze(g,{}));const ae=Ln(r)===a;return this.expandSegment(F,ne,j,Y,ae?Be:a,!0).pipe(xe(ge=>new ze(g.concat(ge.segments),ge.children)))})):$s(n)))}getChildConfig(t,n,r){return n.children?Ie({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ie({routes:n._loadedRoutes,injector:n._loadedInjector}):function pO(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Ie(!0):Ie(i.map(c=>{const g=pi(c,e);return Gr(function eO(e){return e&&Ls(e.canLoad)}(g)?g.canLoad(t,n):e.runInContext(()=>g(t,n)))})).pipe(gi(),ov())}(t,n,r).pipe(Tt(i=>i?this.configLoader.loadChildren(t,n).pipe(Ht(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function wO(e){return Ds(Z0(Wu,3))}())):Ie({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ie(r);if(i.numberOfChildren>1||!i.children[Be])return Ds(new fe(4e3,Wu));i=i.children[Be]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const a=this.createSegmentGroup(t,n.root,r,i);return new po(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return zt(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[a]=n[g]}else r[a]=i}),r}createSegmentGroup(t,n,r,i){const a=this.createSegments(t,n.segments,r,i);let c={};return zt(n.children,(g,w)=>{c[w]=this.createSegmentGroup(t,g,r,i)}),new ze(a,c)}createSegments(t,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new fe(4001,Wu);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class SO{}class CO{constructor(t,n,r,i,a,c,g){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const t=zu(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Be).pipe(xe(n=>{if(null===n)return null;const r=new Uu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Or(r,n),a=new Y0(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const n=t.value,r=q0(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return ct(Object.keys(r.children)).pipe(ho(i=>{const a=r.children[i],c=nv(n,i);return this.processSegmentGroup(t,c,a,i)}),D0((i,a)=>i&&a?(i.push(...a),i):null),function q2(e,t=!1){return Me((n,r)=>{let i=0;n.subscribe(We(r,a=>{const c=e(a,i++);(c||t)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),Pu(null),T0(),xe(i=>{if(null===i)return null;const a=dv(i);return function AO(e){e.sort((t,n)=>t.value.outlet===Be?-1:n.value.outlet===Be?1:t.value.outlet.localeCompare(n.value.outlet))}(a),a}))}processSegment(t,n,r,i,a){return ct(n).pipe(ho(c=>this.processSegmentAgainstRoute(c._injector??t,c,r,i,a)),Hr(c=>!!c),zr(c=>{if(Sf(c))return av(r,i,a)?Ie([]):Ie(null);throw c}))}processSegmentAgainstRoute(t,n,r,i,a){if(n.redirectTo||!sv(n,r,i,a))return Ie(null);let c;if("**"===n.path){const g=i.length>0?E0(i).parameters:{},w=hv(r)+i.length;c=Ie({snapshot:new Uu(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pv(n),Ln(n),n.component??n._loadedComponent??null,n,fv(r),w,gv(n)),consumedSegments:[],remainingSegments:[]})}else c=iv(r,n,i,t).pipe(xe(({matched:g,consumedSegments:w,remainingSegments:E,parameters:M})=>{if(!g)return null;const F=hv(r)+w.length;return{snapshot:new Uu(w,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pv(n),Ln(n),n.component??n._loadedComponent??null,n,fv(r),F,gv(n)),consumedSegments:w,remainingSegments:E}}));return c.pipe(En(g=>{if(null===g)return Ie(null);const{snapshot:w,consumedSegments:E,remainingSegments:M}=g;t=n._injector??t;const F=n._loadedInjector??t,j=function OO(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:V,slicedSegments:Y}=zu(r,E,M,j.filter(ae=>void 0===ae.redirectTo));if(0===Y.length&&V.hasChildren())return this.processChildren(F,j,V).pipe(xe(ae=>null===ae?null:[new Or(w,ae)]));if(0===j.length&&0===Y.length)return Ie([new Or(w,[])]);const ne=Ln(n)===a;return this.processSegment(F,j,V,Y,ne?Be:a).pipe(xe(ae=>null===ae?null:[new Or(w,ae)]))}))}}function PO(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function dv(e){const t=[],n=new Set;for(const r of e){if(!PO(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=dv(r.children);t.push(new Or(r.value,i))}return t.filter(r=>!n.has(r))}function fv(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hv(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function pv(e){return e.data||{}}function gv(e){return e.resolve||{}}function mv(e){return"string"==typeof e.title||null===e.title}function Cf(e){return En(t=>{const n=e(t);return n?ct(n).pipe(xe(()=>t)):Ie(t)})}const mi=new Ne("ROUTES");let Af=(()=>{class e{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Gr(n.loadComponent()).pipe(xe(bv),Ht(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),uf(()=>{this.componentLoaders.delete(n)})),i=new _0(r,()=>new nt).pipe(sf());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(xe(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,E,M=!1;Array.isArray(g)?E=g:(w=g.create(n).injector,E=S0(w.get(mi,[],Ce.Self|Ce.Optional)));return{routes:E.map(xf),injector:w}}),uf(()=>{this.childrenLoaders.delete(r)})),c=new _0(a,()=>new nt).pipe(sf());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(n){return Gr(n()).pipe(xe(bv),Tt(i=>i instanceof ay||Array.isArray(i)?Ie(i):ct(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)(Se(sr),Se(Jy))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bv(e){return function UO(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Ku=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.configLoader=et(Af),this.environmentInjector=et(Dr),this.urlSerializer=et(Es),this.rootContexts=et(Rs),this.navigationId=0,this.afterPreactivation=()=>Ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new CA(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new IA(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Jn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ps,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Br(r=>0!==r.id),xe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),En(r=>{let i=!1,a=!1;return Ie(r).pipe(Ht(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),En(c=>{const g=n.browserUrlTree.toString(),w=!n.navigated||c.extractedUrl.toString()!==g||g!==n.currentUrlTree.toString();if(!w&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const M="";return this.events.next(new V0(c.id,n.serializeUrl(r.rawUrl),M,0)),n.rawUrlTree=c.rawUrl,c.resolve(null),vn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return vv(c.source)&&(n.browserUrlTree=c.extractedUrl),Ie(c).pipe(En(M=>{const F=this.transitions?.getValue();return this.events.next(new gf(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions?.getValue()?vn:Promise.resolve(M)}),function xO(e,t,n,r){return En(i=>function DO(e,t,n,r,i){return new TO(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(xe(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Ht(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},r.urlAfterRedirects=M.urlAfterRedirects}),function RO(e,t,n,r,i){return Tt(a=>function IO(e,t,n,r,i,a,c="emptyOnly"){return new CO(e,t,n,r,i,c,a).recognize().pipe(En(g=>null===g?function EO(e){return new re(t=>t.error(e))}(new SO):Ie(g)))}(e,t,n,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe(xe(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ht(M=>{if(r.targetSnapshot=M.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!M.extras.skipLocationChange){const j=n.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);n.setBrowserUrl(j,M)}n.browserUrlTree=M.urlAfterRedirects}const F=new DA(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(F)}));if(w&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:M,extractedUrl:F,source:j,restoredState:V,extras:Y}=c,ne=new gf(M,this.urlSerializer.serialize(F),j,V);this.events.next(ne);const ae=W0(F,this.rootComponentType).snapshot;return Ie(r={...c,targetSnapshot:ae,urlAfterRedirects:F,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}{const M="";return this.events.next(new V0(c.id,n.serializeUrl(r.extractedUrl),M,1)),n.rawUrlTree=c.rawUrl,c.resolve(null),vn}}),Ht(c=>{const g=new TA(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),xe(c=>r={...c,guards:KA(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function sO(e,t){return Tt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Ie({...n,guardsResult:!0}):function aO(e,t,n,r){return ct(e).pipe(Tt(i=>function hO(e,t,n,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Ie(a.map(g=>{const w=Ns(t)??i,E=pi(g,w);return Gr(function rO(e){return e&&Ls(e.canDeactivate)}(E)?E.canDeactivate(e,t,n,r):w.runInContext(()=>E(e,t,n,r))).pipe(Hr())})).pipe(gi()):Ie(!0)}(i.component,i.route,n,t,r)),Hr(i=>!0!==i,!0))}(c,r,i,e).pipe(Tt(g=>g&&function JA(e){return"boolean"==typeof e}(g)?function uO(e,t,n,r){return ct(t).pipe(ho(i=>rf(function cO(e,t){return null!==e&&t&&t(new AA(e)),Ie(!0)}(i.route.parent,r),function lO(e,t){return null!==e&&t&&t(new PA(e)),Ie(!0)}(i.route,r),function fO(e,t,n){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(c=>function XA(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>v0(()=>Ie(c.guards.map(w=>{const E=Ns(c.node)??n,M=pi(w,E);return Gr(function nO(e){return e&&Ls(e.canActivateChild)}(M)?M.canActivateChild(r,e):E.runInContext(()=>M(r,e))).pipe(Hr())})).pipe(gi())));return Ie(a).pipe(gi())}(e,i.path,n),function dO(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Ie(!0);const i=r.map(a=>v0(()=>{const c=Ns(t)??n,g=pi(a,c);return Gr(function tO(e){return e&&Ls(e.canActivate)}(g)?g.canActivate(t,e):c.runInContext(()=>g(t,e))).pipe(Hr())}));return Ie(i).pipe(gi())}(e,i.route,n))),Hr(i=>!0!==i,!0))}(r,a,e,t):Ie(g)),xe(g=>({...n,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),Ht(c=>{if(r.guardsResult=c.guardsResult,mo(c.guardsResult))throw X0(0,c.guardsResult);const g=new xA(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),Br(c=>!!c.guardsResult||(n.restoreHistory(c),this.cancelNavigationTransition(c,"",3,n),!1)),Cf(c=>{if(c.guards.canActivateChecks.length)return Ie(c).pipe(Ht(g=>{const w=new SA(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),En(g=>{let w=!1;return Ie(g).pipe(function NO(e,t){return Tt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Ie(n);let a=0;return ct(i).pipe(ho(c=>function kO(e,t,n,r){const i=e.routeConfig,a=e._resolve;return void 0!==i?.title&&!mv(i)&&(a[xs]=i.title),function FO(e,t,n,r){const i=function LO(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Ie({});const a={};return ct(i).pipe(Tt(c=>function $O(e,t,n,r){const i=Ns(t)??r,a=pi(e,i);return Gr(a.resolve?a.resolve(t,n):i.runInContext(()=>a(t,n)))}(e[c],t,n,r).pipe(Hr(),Ht(g=>{a[c]=g}))),af(1),function Y2(e){return xe(()=>e)}(a),zr(c=>Sf(c)?vn:Ds(c)))}(a,e,t,r).pipe(xe(c=>(e._resolvedData=c,e.data=q0(e,n).resolve,i&&mv(i)&&(e.data[xs]=i.title),null)))}(c.route,r,e,t)),Ht(()=>a++),af(1),Tt(c=>a===i.length?Ie(n):vn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>w=!0,complete:()=>{w||(n.restoreHistory(g),this.cancelNavigationTransition(g,"",2,n))}}))}),Ht(g=>{const w=new EA(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}))}),Cf(c=>{const g=w=>{const E=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(w.routeConfig).pipe(Ht(M=>{w.component=M}),xe(()=>{})));for(const M of w.children)E.push(...g(M));return E};return y0(g(c.targetSnapshot.root)).pipe(Pu(),Ts(1))}),Cf(()=>this.afterPreactivation()),xe(c=>{const g=function $A(e,t,n){const r=Ms(e,t._root,n?n._root:void 0);return new G0(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),Ht(c=>{n.currentUrlTree=c.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),n.routerState=c.targetRouterState,"deferred"===n.urlUpdateStrategy&&(c.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,c),n.browserUrlTree=c.urlAfterRedirects)}),((e,t,n)=>xe(r=>(new YA(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c)),Ht({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new yo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),uf(()=>{i||a||this.cancelNavigationTransition(r,"",1,n),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),zr(c=>{if(a=!0,J0(c)){Q0(c)||(n.navigated=!0,n.restoreHistory(r,!0));const g=new ju(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),Q0(c)){const w=n.urlHandlingStrategy.merge(c.url,n.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||vv(r.source)};n.scheduleNavigation(w,Ps,null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const g=new B0(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(n.errorHandler(c))}catch(w){r.reject(w)}}return vn}))}))}cancelNavigationTransition(n,r,i,a){const c=new ju(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(c),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function vv(e){return e!==Ps}let _v=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Be);return r}getResolvedTitleForRoute(n){return n.data[xs]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(){return et(VO)},providedIn:"root"}),e})(),VO=(()=>{class e extends _v{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(Se(p0))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),BO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(){return et(zO)},providedIn:"root"}),e})();class HO{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let zO=(()=>{class e extends HO{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function Ch(e){return Nr(()=>{const t=e.prototype.constructor,n=t[yr]||Cl(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[yr]||Cl(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}(e)))(r||e)}}(),e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Xu=new Ne("",{providedIn:"root",factory:()=>({})});let WO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:function(){return et(qO)},providedIn:"root"}),e})(),qO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function YO(e){throw e}function KO(e,t,n){return t.parse("/")}const XO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=et(gE),this.isNgZoneEnabled=!1,this.options=et(Xu,{optional:!0})||{},this.errorHandler=this.options.errorHandler||YO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||KO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=et(WO),this.routeReuseStrategy=et(BO),this.urlCreationStrategy=et(kA),this.titleStrategy=et(_v),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S0(et(mi,{optional:!0})??[]),this.navigationTransitions=et(Ku),this.urlSerializer=et(Es),this.location=et(Rd),this.isNgZoneEnabled=et(Ot)instanceof Ot&&Ot.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new po,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=W0(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ps,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const w={...i};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(a.state=w)}const g=this.parseUrl(n);this.scheduleNavigation(g,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(xf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:g,preserveFragment:w}=r,E=w?this.currentUrlTree.fragment:c;let M=null;switch(g){case"merge":M={...this.currentUrlTree.queryParams,...a};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=a||null}return null!==M&&(M=this.removeEmptyProps(M)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,M,E??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=mo(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Ps,null,r)}navigate(n,r={skipLocationChange:!1}){return function QO(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new fe(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...XO}:!1===r?{...ZO}:r,mo(n))return C0(this.currentUrlTree,n,i);const a=this.parseUrl(n);return C0(this.currentUrlTree,a,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const a=n[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(n,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let g,w,E,M;return c?(g=c.resolve,w=c.reject,E=c.promise):E=new Promise((F,j)=>{g=F,w=j}),M="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:g,reject:w,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(F=>Promise.reject(F))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Dv{}let tP=(()=>{class e{constructor(n,r,i,a,c){this.router=n,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Br(n=>n instanceof yo),ho(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=iu(a.providers,n,`Route: ${a.path}`));const c=a._injector??n,g=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(g,a.children??a._loadedRoutes))}return ct(i).pipe(hr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Ie(null);const a=i.pipe(Tt(c=>null===c?Ie(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));return r.loadComponent&&!r._loadedComponent?ct([a,this.loader.loadComponent(r)]).pipe(hr()):a})}}return e.\u0275fac=function(n){return new(n||e)(Se(In),Se(Jy),Se(Dr),Se(Dv),Se(Af))},e.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Pf=new Ne("");let Tv=(()=>{class e{constructor(n,r,i,a,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof H0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new H0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function og(){throw new Error("invalid")}()},e.\u0275prov=ke({token:e,factory:e.\u0275fac}),e})();function bo(e,t){return{\u0275kind:e,\u0275providers:t}}function Sv(){const e=et(sr);return t=>{const n=e.get(fu);if(t!==n.components[0])return;const r=e.get(In),i=e.get(Ev);1===e.get(Rf)&&r.initialNavigation(),e.get(Iv,null,Ce.Optional)?.setUpPreloading(),e.get(Pf,null,Ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Ev=new Ne("",{factory:()=>new nt}),Rf=new Ne("",{providedIn:"root",factory:()=>1});const Iv=new Ne("");function sP(e){return bo(0,[{provide:Iv,useExisting:tP},{provide:Dv,useExisting:e}])}const Cv=new Ne("ROUTER_FORROOT_GUARD"),aP=[Rd,{provide:Es,useClass:lf},In,Rs,{provide:hi,useFactory:function xv(e){return e.routerState.root},deps:[In]},Af,[]];function uP(){return new sb("Router",In)}let Av=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[aP,[],{provide:mi,multi:!0,useValue:n},{provide:Cv,useFactory:fP,deps:[[In,new zi,new Gi]]},{provide:Xu,useValue:r||{}},r?.useHash?{provide:fo,useClass:nI}:{provide:fo,useClass:Ab},{provide:Pf,useFactory:()=>{const e=et(xC),t=et(Ot),n=et(Xu),r=et(Ku),i=et(Es);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Tv(i,r,e,t,n)}},r?.preloadingStrategy?sP(r.preloadingStrategy).\u0275providers:[],{provide:sb,multi:!0,useFactory:uP},r?.initialNavigation?hP(r):[],[{provide:Ov,useFactory:Sv},{provide:Qy,multi:!0,useExisting:Ov}]]}}static forChild(n){return{ngModule:e,providers:[{provide:mi,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Se(Cv,8))},e.\u0275mod=Xr({type:e}),e.\u0275inj=Rr({imports:[Df]}),e})();function fP(e){return"guarded"}function hP(e){return["disabled"===e.initialNavigation?bo(3,[{provide:lu,multi:!0,useFactory:()=>{const t=et(In);return()=>{t.setUpLocationChangeListener()}}},{provide:Rf,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?bo(2,[{provide:Rf,useValue:0},{provide:lu,multi:!0,deps:[sr],useFactory:t=>{const n=t.get(eI,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const a=t.get(In),c=t.get(Ev);(function r(i){t.get(In).events.pipe(Br(c=>c instanceof yo||c instanceof ju||c instanceof B0),xe(c=>c instanceof yo||c instanceof ju&&(0===c.code||1===c.code)&&null),Br(c=>null!==c),Ts(1)).subscribe(()=>{i()})})(()=>{i(!0)}),t.get(Ku).afterPreactivation=()=>(i(!0),c.closed?Ie(void 0):c),a.initialNavigation()}))}}]).\u0275providers:[]]}const Ov=new Ne("");class bi{}bi.\u0275fac=function(t){return new(t||bi)},bi.\u0275mod=Xr({type:bi}),bi.\u0275inj=Rr({imports:[Av.forRoot([]),Av]});var Pv=P(534);class mP extends y{constructor(t,n){super()}schedule(t,n=0){return this}}const Zu={setInterval(e,t,...n){const{delegate:r}=Zu;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Zu;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Mv={now:()=>(Mv.delegate||Date).now(),delegate:void 0};class Us{constructor(t,n=Us.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Us.now=Mv.now;const Rv=new class bP extends Us{constructor(t,n=Us.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class yP extends mP{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,n),this}requestAsyncId(t,n,r=0){return Zu.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Zu.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,h(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),vP=Rv;const TP=["canvas"];class Vs{constructor(){this.sub=ct(Pv.InferenceSession.create("./model.onnx")).pipe(En(t=>function DP(e=0,t=Rv){return e<0&&(e=0),function wP(e=0,t,n=vP){let r=-1;return null!=t&&(Di(t)?n=t:r=t),new re(i=>{let a=function _P(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;a<0&&(a=0);let c=0;return n.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(e,e,t)}(50).pipe(xe(n=>t))),En(t=>{const n=new Date,r=new Int32Array([Math.floor(n.getHours()/10),n.getHours()%10,11,Math.floor(n.getMinutes()/10),n.getMinutes()%10,11,Math.floor(n.getSeconds()/10),n.getSeconds()%10]),i=new Pv.Tensor("int32",r,[r.length]);return ct(t.run({[t.inputNames[0]]:i})).pipe(xe(g=>[t,g]))}),En(([t,n])=>{const r=n[t.outputNames[0]];if(!this.canvas.nativeElement.getContext("2d"))throw new Error("Could not get 2d context");const c=new ImageData(new Uint8ClampedArray(r.data),28*r.dims[1],28);return ct(createImageBitmap(c))}),Ht(t=>{const n=this.canvas.nativeElement.getContext("2d");if(!n)throw new Error("Could not get 2d context");n.fillRect(0,0,4*t.width,4*t.height),n.drawImage(t,0,0,4*t.width,4*t.height),n.fillRect(224,0,112,112),n.fillRect(560,0,112,112),t.close()})).subscribe()}ngOnDestroy(){}}Vs.\u0275fac=function(t){return new(t||Vs)},Vs.\u0275cmp=ca({type:Vs,selectors:[["app-root"]],viewQuery:function(t,n){if(1&t&&Ey(TP,5),2&t){let r;ld(r=function cd(){return function qS(e,t){return e[19].queries[t].queryList}(se(),uh())}())&&(n.canvas=r.first)}},decls:2,vars:0,consts:[["width","896","height","112"],["canvas",""]],template:function(t,n){1&t&&Za(0,"canvas",0,1)}});class vi{}vi.\u0275fac=function(t){return new(t||vi)},vi.\u0275mod=Xr({type:vi,bootstrap:[Vs]}),vi.\u0275inj=Rr({imports:[D2,bi]}),w2().bootstrapModule(vi).catch(e=>console.error(e))},670:(q,b,P)=>{"use strict";function S(C,A,R,N,k,O,$){try{var G=C[O]($),z=G.value}catch(X){return void R(X)}G.done?A(z):Promise.resolve(z).then(N,k)}function D(C){return function(){var A=this,R=arguments;return new Promise(function(N,k){var O=C.apply(A,R);function $(z){S(O,N,k,$,G,"next",z)}function G(z){S(O,N,k,$,G,"throw",z)}$(void 0)})}}P.r(b),P.d(b,{InferenceSession:()=>I,Tensor:()=>v,env:()=>d,registerBackend:()=>y});const T={},h=[],y=(C,A,R)=>{if(!A||"function"!=typeof A.init||"function"!=typeof A.createSessionHandler)throw new TypeError("not a valid backend");{const N=T[C];if(void 0===N)T[C]={backend:A,priority:R};else{if(N.priority>R)return;if(N.priority===R&&N.backend!==A)throw new Error(`cannot register backend "${C}" using priority ${R}`)}if(R>=0){const k=h.indexOf(C);-1!==k&&h.splice(k,1);for(let O=0;O<h.length;O++)if(T[h[O]].priority<=R)return void h.splice(O,0,C);h.push(C)}}},_=function(){var C=D(function*(A){const R=0===A.length?h:A,N=[];for(const k of R){const O=T[k];if(O){if(O.initialized)return O.backend;if(O.aborted)continue;const $=!!O.initPromise;try{return $||(O.initPromise=O.backend.init()),yield O.initPromise,O.initialized=!0,O.backend}catch(G){$||N.push({name:k,err:G}),O.aborted=!0}finally{delete O.initPromise}}}throw new Error(`no available backend found. ERR: ${N.map(k=>`[${k.name}] ${k.err}`).join(", ")}`)});return function(R){return C.apply(this,arguments)}}(),d=new class p{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(A){if(void 0!==A){if("string"!=typeof A||-1===["verbose","info","warning","error","fatal"].indexOf(A))throw new Error(`Unsupported logging level: ${A}`);this.logLevelInternal=A}}get logLevel(){return this.logLevelInternal}},s=typeof BigInt64Array<"u"&&"function"==typeof BigInt64Array.from,o=typeof BigUint64Array<"u"&&"function"==typeof BigUint64Array.from,u=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),l=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);s&&(u.set("int64",BigInt64Array),l.set(BigInt64Array,"int64")),o&&(u.set("uint64",BigUint64Array),l.set(BigUint64Array,"uint64"));class m{constructor(A,R,N){let k,O,$;if("string"==typeof A)if(k=A,$=N,"string"===A){if(!Array.isArray(R))throw new TypeError("A string tensor's data must be a string array.");O=R}else{const z=u.get(A);if(void 0===z)throw new TypeError(`Unsupported tensor type: ${A}.`);if(Array.isArray(R))O=z.from(R);else{if(!(R instanceof z))throw new TypeError(`A ${k} tensor's data must be type of ${z}`);O=R}}else if($=R,Array.isArray(A)){if(0===A.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const z=typeof A[0];if("string"===z)k="string",O=A;else{if("boolean"!==z)throw new TypeError(`Invalid element type of data array: ${z}.`);k="bool",O=Uint8Array.from(A)}}else{const z=l.get(A.constructor);if(void 0===z)throw new TypeError(`Unsupported type for tensor data: ${A.constructor}.`);k=z,O=A}if(void 0===$)$=[O.length];else if(!Array.isArray($))throw new TypeError("A tensor's dims must be a number array");const G=(C=>{let A=1;for(let R=0;R<C.length;R++){const N=C[R];if("number"!=typeof N||!Number.isSafeInteger(N))throw new TypeError(`dims[${R}] must be an integer, got: ${N}`);if(N<0)throw new RangeError(`dims[${R}] must be a non-negative integer, got: ${N}`);A*=N}return A})($);if(G!==O.length)throw new Error(`Tensor's size(${G}) does not match data length(${O.length}).`);this.dims=$,this.type=k,this.data=O,this.size=G}reshape(A){return new m(this.type,this.data,A)}}const v=m;class x{constructor(A){this.handler=A}run(A,R,N){var k=this;return D(function*(){const O={};let $={};if("object"!=typeof A||null===A||A instanceof v||Array.isArray(A))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let G=!0;if("object"==typeof R){if(null===R)throw new TypeError("Unexpected argument[1]: cannot be null.");if(R instanceof v)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(R)){if(0===R.length)throw new TypeError("'fetches' cannot be an empty array.");G=!1;for(const Z of R){if("string"!=typeof Z)throw new TypeError("'fetches' must be a string array or an object.");if(-1===k.outputNames.indexOf(Z))throw new RangeError(`'fetches' contains invalid output name: ${Z}.`);O[Z]=null}if("object"==typeof N&&null!==N)$=N;else if(typeof N<"u")throw new TypeError("'options' must be an object.")}else{let Z=!1;const oe=Object.getOwnPropertyNames(R);for(const B of k.outputNames)if(-1!==oe.indexOf(B)){const K=R[B];(null===K||K instanceof v)&&(Z=!0,G=!1,O[B]=K)}if(Z){if("object"==typeof N&&null!==N)$=N;else if(typeof N<"u")throw new TypeError("'options' must be an object.")}else $=R}}else if(typeof R<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const Z of k.inputNames)if(typeof A[Z]>"u")throw new Error(`input '${Z}' is missing in 'feeds'.`);if(G)for(const Z of k.outputNames)O[Z]=null;const z=yield k.handler.run(A,O,$),X={};for(const Z in z)Object.hasOwnProperty.call(z,Z)&&(X[Z]=new v(z[Z].type,z[Z].data,z[Z].dims));return X})()}static create(A,R,N,k){return D(function*(){let O,$={};if("string"==typeof A){if(O=A,"object"==typeof R&&null!==R)$=R;else if(typeof R<"u")throw new TypeError("'options' must be an object.")}else if(A instanceof Uint8Array){if(O=A,"object"==typeof R&&null!==R)$=R;else if(typeof R<"u")throw new TypeError("'options' must be an object.")}else{if(!(A instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&A instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const oe=A;let B=0,K=A.byteLength;if("object"==typeof R&&null!==R)$=R;else if("number"==typeof R){if(B=R,!Number.isSafeInteger(B))throw new RangeError("'byteOffset' must be an integer.");if(B<0||B>=oe.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${oe.byteLength}).`);if(K=A.byteLength-B,"number"==typeof N){if(K=N,!Number.isSafeInteger(K))throw new RangeError("'byteLength' must be an integer.");if(K<=0||B+K>oe.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${oe.byteLength-B}].`);if("object"==typeof k&&null!==k)$=k;else if(typeof k<"u")throw new TypeError("'options' must be an object.")}else if(typeof N<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof R<"u")throw new TypeError("'options' must be an object.");O=new Uint8Array(oe,B,K)}}const z=($.executionProviders||[]).map(oe=>"string"==typeof oe?oe:oe.name),Z=yield(yield _(z)).createSessionHandler(O,$);return new x(Z)})()}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const I=x},534:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(156).default,b;self,b=function(__WEBPACK_EXTERNAL_MODULE__2174__){return(()=>{var __webpack_modules__={3474:(q,b,P)=>{var S,D=(S=(S=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(T){function h(){return re.buffer!=we&&wt(re.buffer),Ge}function y(){return re.buffer!=we&&wt(re.buffer),jt}function _(){return re.buffer!=we&&wt(re.buffer),nt}function p(){return re.buffer!=we&&wt(re.buffer),Te}function d(){return re.buffer!=we&&wt(re.buffer),Xe}var s,o,u;T=T||{},s||(s=void 0!==T?T:{}),s.ready=new Promise(function(L,U){o=L,u=U});var l,f,m,v,x,I,C=Object.assign({},s),A="./this.program",R=(L,U)=>{throw U},N="object"==typeof window,k="function"==typeof importScripts,O="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,$=s.ENVIRONMENT_IS_PTHREAD||!1,G="";function z(L){return s.locateFile?s.locateFile(L,G):G+L}if(O){let L;G=k?P(908).dirname(G)+"/":"//",I=()=>{x||(v=P(1384),x=P(908))},l=function(U,H){return I(),U=x.normalize(U),v.readFileSync(U,H?void 0:"utf8")},m=U=>((U=l(U,!0)).buffer||(U=new Uint8Array(U)),U),f=(U,H,Q)=>{I(),U=x.normalize(U),v.readFile(U,function(he,be){he?Q(he):H(be.buffer)})},1<process.argv.length&&(A=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(U){if(!(U instanceof tr))throw U}),process.on("unhandledRejection",function(U){throw U}),R=(U,H)=>{if(Jt())throw process.exitCode=U,H;H instanceof tr||K("exiting due to exception: "+H),process.exit(U)},s.inspect=function(){return"[Emscripten Module object]"};try{L=P(9925)}catch(U){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),U}P.g.Worker=L.Worker}else(N||k)&&(k?G=self.location.href:typeof document<"u"&&document.currentScript&&(G=document.currentScript.src),S&&(G=S),G=0!==G.indexOf("blob:")?G.substr(0,G.replace(/[?#].*/,"").lastIndexOf("/")+1):"",O||(l=L=>{var U=new XMLHttpRequest;return U.open("GET",L,!1),U.send(null),U.responseText},k&&(m=L=>{var U=new XMLHttpRequest;return U.open("GET",L,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),f=(L,U,H)=>{var Q=new XMLHttpRequest;Q.open("GET",L,!0),Q.responseType="arraybuffer",Q.onload=()=>{200==Q.status||0==Q.status&&Q.response?U(Q.response):H()},Q.onerror=H,Q.send(null)}));O&&typeof performance>"u"&&(P.g.performance=P(6953).performance);var X=console.log.bind(console),Z=console.warn.bind(console);O&&(I(),X=L=>v.writeSync(1,L+"\n"),Z=L=>v.writeSync(2,L+"\n"));var oe,B=s.print||X,K=s.printErr||Z;Object.assign(s,C),C=null,s.thisProgram&&(A=s.thisProgram),s.quit&&(R=s.quit),s.wasmBinary&&(oe=s.wasmBinary);var ve=s.noExitRuntime||!1;"object"!=typeof WebAssembly&&mn("no native wasm support detected");var re,_e,we,Ge,jt,nt,Te,Xe,Me=!1,We=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Lt(L,U,H){var Q=(U>>>=0)+H;for(H=U;L[H]&&!(H>=Q);)++H;if(16<H-U&&L.buffer&&We)return We.decode(L.buffer instanceof SharedArrayBuffer?L.slice(U,H):L.subarray(U,H));for(Q="";U<H;){var he=L[U++];if(128&he){var be=63&L[U++];if(192==(224&he))Q+=String.fromCharCode((31&he)<<6|be);else{var Fe=63&L[U++];65536>(he=224==(240&he)?(15&he)<<12|be<<6|Fe:(7&he)<<18|be<<12|Fe<<6|63&L[U++])?Q+=String.fromCharCode(he):(he-=65536,Q+=String.fromCharCode(55296|he>>10,56320|1023&he))}}else Q+=String.fromCharCode(he)}return Q}function xe(L,U){return(L>>>=0)?Lt(y(),L,U):""}function Gt(L,U,H,Q){if(!(0<Q))return 0;var he=H>>>=0;Q=H+Q-1;for(var be=0;be<L.length;++be){var Fe=L.charCodeAt(be);if(55296<=Fe&&57343>=Fe&&(Fe=65536+((1023&Fe)<<10)|1023&L.charCodeAt(++be)),127>=Fe){if(H>=Q)break;U[H++>>>0]=Fe}else{if(2047>=Fe){if(H+1>=Q)break;U[H++>>>0]=192|Fe>>6}else{if(65535>=Fe){if(H+2>=Q)break;U[H++>>>0]=224|Fe>>12}else{if(H+3>=Q)break;U[H++>>>0]=240|Fe>>18,U[H++>>>0]=128|Fe>>12&63}U[H++>>>0]=128|Fe>>6&63}U[H++>>>0]=128|63&Fe}}return U[H>>>0]=0,H-he}function Wt(L){for(var U=0,H=0;H<L.length;++H){var Q=L.charCodeAt(H);127>=Q?U++:2047>=Q?U+=2:55296<=Q&&57343>=Q?(U+=4,++H):U+=3}return U}function wt(L){we=L,s.HEAP8=Ge=new Int8Array(L),s.HEAP16=new Int16Array(L),s.HEAP32=nt=new Int32Array(L),s.HEAPU8=jt=new Uint8Array(L),s.HEAPU16=new Uint16Array(L),s.HEAPU32=Te=new Uint32Array(L),s.HEAPF32=new Float32Array(L),s.HEAPF64=Xe=new Float64Array(L)}$&&(we=s.buffer);var ut=s.INITIAL_MEMORY||16777216;if($)re=s.wasmMemory,we=s.buffer;else if(s.wasmMemory)re=s.wasmMemory;else if(!((re=new WebAssembly.Memory({initial:ut/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw K("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),O&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");re&&(we=re.buffer),ut=we.byteLength,wt(we);var ln,cn=[],Cn=[],$n=[],Wr=[];function Jt(){return ve||!1}function Pr(){var L=s.preRun.shift();cn.unshift(L)}var mt,qt=0,vo=null,er=null;function mn(L){throw $?postMessage({cmd:"onAbort",arg:L}):s.onAbort&&s.onAbort(L),K(L="Aborted("+L+")"),Me=!0,L=new WebAssembly.RuntimeError(L+". Build with -sASSERTIONS for more info."),u(L),L}function yn(){return mt.startsWith("data:application/octet-stream;base64,")}function qr(){var L=mt;try{if(L==mt&&oe)return new Uint8Array(oe);if(m)return m(L);throw"both async and sync fetching of the wasm failed"}catch(U){mn(U)}}mt="ort-wasm-threaded.wasm",yn()||(mt=z(mt));var _i={};function tr(L){this.name="ExitStatus",this.message="Program terminated with exit("+L+")",this.status=L}function W(L){(L=ue.Ma[L])||mn(),ue.Xa(L)}function ee(L){var U=ue.mb();if(!U)return 6;ue.Sa.push(U),ue.Ma[L.La]=U,U.La=L.La;var H={cmd:"run",start_routine:L.qb,arg:L.jb,pthread_ptr:L.La};return U.Ra=()=>{H.time=performance.now(),U.postMessage(H,L.vb)},U.loaded&&(U.Ra(),delete U.Ra),0}function le(L){if($)return st(1,1,L);Jt()||(ue.Za(),s.onExit&&s.onExit(L),Me=!0),R(L,new tr(L))}function de(L,U){if(!U&&$)throw It(L),"unwind";Jt()||$||(Do(),ye($n),ra(0),_o[1].length&&Ii(1,10),_o[2].length&&Ii(2,10),ue.Za()),le(L)}var ue={Pa:[],Sa:[],ab:[],Ma:{},Va:function(){$&&ue.nb()},xb:function(){},nb:function(){ue.receiveObjectTransfer=ue.pb,ue.threadInitTLS=ue.$a,ue.setExitStatus=ue.Ya,ve=!1},Ya:function(){},Za:function(){for(var L of Object.values(ue.Ma))ue.Xa(L);for(L of ue.Pa)L.terminate();ue.Pa=[]},Xa:function(L){var U=L.La;delete ue.Ma[U],ue.Pa.push(L),ue.Sa.splice(ue.Sa.indexOf(L),1),L.La=0,xo(U)},pb:function(){},$a:function(){ue.ab.forEach(L=>L())},ob:function(L,U){L.onmessage=H=>{var Q=(H=H.data).cmd;if(L.La&&(ue.lb=L.La),H.targetThread&&H.targetThread!=rt()){var he=ue.Ma[H.yb];he?he.postMessage(H,H.transferList):K('Internal error! Worker sent a message "'+Q+'" to target pthread '+H.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===Q?Tt(H.queue):"spawnThread"===Q?ee(H):"cleanupThread"===Q?W(H.thread):"killThread"===Q?(Q=ue.Ma[H=H.thread],delete ue.Ma[H],Q.terminate(),xo(H),ue.Sa.splice(ue.Sa.indexOf(Q),1),Q.La=0):"cancelThread"===Q?ue.Ma[H.thread].postMessage({cmd:"cancel"}):"loaded"===Q?(L.loaded=!0,U&&U(L),L.Ra&&(L.Ra(),delete L.Ra)):"print"===Q?B("Thread "+H.threadId+": "+H.text):"printErr"===Q?K("Thread "+H.threadId+": "+H.text):"alert"===Q?alert("Thread "+H.threadId+": "+H.text):"setimmediate"===H.target?L.postMessage(H):"onAbort"===Q?s.onAbort&&s.onAbort(H.arg):Q&&K("worker sent an unknown command "+Q);ue.lb=void 0},L.onerror=H=>{throw K("worker sent an error! "+H.filename+":"+H.lineno+": "+H.message),H},O&&(L.on("message",function(H){L.onmessage({data:H})}),L.on("error",function(H){L.onerror(H)}),L.on("detachedExit",function(){})),L.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||S,wasmMemory:re,wasmModule:_e})},ib:function(){var L=z("ort-wasm-threaded.worker.js");ue.Pa.push(new Worker(L))},mb:function(){return 0==ue.Pa.length&&(ue.ib(),ue.ob(ue.Pa[0])),ue.Pa.pop()}};function ye(L){for(;0<L.length;)L.shift()(s)}function qe(L){var U=Re();return L=L(),Ze(U),L}function It(L){if($)return st(2,0,L);try{de(L)}catch(U){U instanceof tr||"unwind"==U||R(1,U)}}s.PThread=ue,s.establishStackSpace=function(){var L=rt(),U=_()[L+44>>2>>>0];L=_()[L+48>>2>>>0],Kr(U,U-L),Ze(U)};var Dt,Ct,pt=[];function jn(L){this.Qa=L-24,this.hb=function(U){p()[this.Qa+4>>2>>>0]=U},this.eb=function(U){p()[this.Qa+8>>2>>>0]=U},this.fb=function(){_()[this.Qa>>2>>>0]=0},this.cb=function(){h()[this.Qa+12>>0>>>0]=0},this.gb=function(){h()[this.Qa+13>>0>>>0]=0},this.Va=function(U,H){this.bb(),this.hb(U),this.eb(H),this.fb(),this.cb(),this.gb()},this.bb=function(){p()[this.Qa+16>>2>>>0]=0}}function Un(L,U,H,Q){return $?st(3,1,L,U,H,Q):J(L,U,H,Q)}function J(L,U,H,Q){if(typeof SharedArrayBuffer>"u")return K("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var he=[];return $&&0===he.length?Un(L,U,H,Q):(L={qb:H,La:L,jb:Q,vb:he},$?(L.wb="spawnThread",postMessage(L,he),0):ee(L))}function Ye(L,U,H){return $?st(4,1,L,U,H):0}function lt(L,U){if($)return st(5,1,L,U)}function bn(L,U){if($)return st(6,1,L,U)}function Ut(L,U,H){if($)return st(7,1,L,U,H)}function Bs(L,U,H){return $?st(8,1,L,U,H):0}function Hs(L,U){if($)return st(9,1,L,U)}function zs(L,U,H){if($)return st(10,1,L,U,H)}function Gs(L,U,H,Q){if($)return st(11,1,L,U,H,Q)}function wi(L,U,H,Q){if($)return st(12,1,L,U,H,Q)}function Ws(L,U,H,Q){if($)return st(13,1,L,U,H,Q)}function qs(L){if($)return st(14,1,L)}function An(L,U){if($)return st(15,1,L,U)}function Ys(L,U,H){if($)return st(16,1,L,U,H)}function Tt(L){Atomics.store(_(),L>>2,1),rt()&&Ju(L),Atomics.compareExchange(_(),L>>2,1,0)}function hr(L){return p()[L>>>2]+4294967296*_()[L+4>>>2]}function vn(L,U,H,Q,he,be){return $?st(17,1,L,U,H,Q,he,be):-52}function Qu(L,U,H,Q,he,be){if($)return st(18,1,L,U,H,Q,he,be)}function Ks(L){var U=Wt(L)+1,H=Yr(U);return H&&Gt(L,h(),H,U),H}function Di(L,U,H){function Q(On){return(On=On.toTimeString().match(/\(([A-Za-z ]+)\)$/))?On[1]:"GMT"}if($)return st(19,1,L,U,H);var he=(new Date).getFullYear(),be=new Date(he,0,1),Fe=new Date(he,6,1);he=be.getTimezoneOffset();var $t=Fe.getTimezoneOffset(),gr=Math.max(he,$t);_()[L>>2>>>0]=60*gr,_()[U>>2>>>0]=Number(he!=$t),L=Q(be),U=Q(Fe),L=Ks(L),U=Ks(U),$t<he?(p()[H>>2>>>0]=L,p()[H+4>>2>>>0]=U):(p()[H>>2>>>0]=U,p()[H+4>>2>>>0]=L)}function st(L,U){var H=arguments.length-2,Q=arguments;return qe(()=>{for(var he=Ai(8*H),be=he>>3,Fe=0;Fe<H;Fe++){var $t=Q[2+Fe];d()[be+Fe>>>0]=$t}return To(L,H,he,U)})}s.invokeEntryPoint=function(L,U){var H=pt[L];H||(L>=pt.length&&(pt.length=L+1),pt[L]=H=ln.get(L)),L=H(U),Jt()?ue.Ya(L):fe(L)},s.executeNotifiedProxyingQueue=Tt,Ct=O?()=>{var L=process.hrtime();return 1e3*L[0]+L[1]/1e6}:$?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Ti,pr=[],xi={};function Si(){if(!Ti){var L,U={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"};for(L in xi)void 0===xi[L]?delete U[L]:U[L]=xi[L];var H=[];for(L in U)H.push(L+"="+U[L]);Ti=H}return Ti}function Ei(L,U){if($)return st(20,1,L,U);var H=0;return Si().forEach(function(Q,he){var be=U+H;for(he=p()[L+4*he>>2>>>0]=be,be=0;be<Q.length;++be)h()[he++>>0>>>0]=Q.charCodeAt(be);h()[he>>0>>>0]=0,H+=Q.length+1}),0}function Xs(L,U){if($)return st(21,1,L,U);var H=Si();p()[L>>2>>>0]=H.length;var Q=0;return H.forEach(function(he){Q+=he.length+1}),p()[U>>2>>>0]=Q,0}function Zs(L){return $?st(22,1,L):52}function Qs(L,U,H,Q){return $?st(23,1,L,U,H,Q):52}function Js(L,U,H,Q,he){return $?st(24,1,L,U,H,Q,he):70}var _o=[null,[],[]];function Ii(L,U){var H=_o[L];0===U||10===U?((1===L?B:K)(Lt(H,0)),H.length=0):H.push(U)}function ea(L,U,H,Q){if($)return st(25,1,L,U,H,Q);for(var he=0,be=0;be<H;be++){var Fe=p()[U>>2>>>0],$t=p()[U+4>>2>>>0];U+=8;for(var gr=0;gr<$t;gr++)Ii(L,y()[Fe+gr>>>0]);he+=$t}return p()[Q>>2>>>0]=he,0}function ct(L){return L%4==0&&(L%100!=0||L%400==0)}var ta=[31,29,31,30,31,30,31,31,30,31,30,31],na=[31,28,31,30,31,30,31,31,30,31,30,31];function wo(L,U,H,Q){function he(te,Qe,Je){for(te="number"==typeof te?te.toString():te||"";te.length<Qe;)te=Je[0]+te;return te}function be(te,Qe){return he(te,Qe,"0")}function Fe(te,Qe){function Je(nl){return 0>nl?-1:0<nl?1:0}var He;return 0===(He=Je(te.getFullYear()-Qe.getFullYear()))&&0===(He=Je(te.getMonth()-Qe.getMonth()))&&(He=Je(te.getDate()-Qe.getDate())),He}function $t(te){switch(te.getDay()){case 0:return new Date(te.getFullYear()-1,11,29);case 1:return te;case 2:return new Date(te.getFullYear(),0,3);case 3:return new Date(te.getFullYear(),0,2);case 4:return new Date(te.getFullYear(),0,1);case 5:return new Date(te.getFullYear()-1,11,31);case 6:return new Date(te.getFullYear()-1,11,30)}}function gr(te){var Qe=te.Na;for(te=new Date(new Date(te.Oa+1900,0,1).getTime());0<Qe;){var Je=te.getMonth(),He=(ct(te.getFullYear())?ta:na)[Je];if(!(Qe>He-te.getDate())){te.setDate(te.getDate()+Qe);break}Qe-=He-te.getDate()+1,te.setDate(1),11>Je?te.setMonth(Je+1):(te.setMonth(0),te.setFullYear(te.getFullYear()+1))}return Je=new Date(te.getFullYear()+1,0,4),Qe=$t(new Date(te.getFullYear(),0,4)),Je=$t(Je),0>=Fe(Qe,te)?0>=Fe(Je,te)?te.getFullYear()+1:te.getFullYear():te.getFullYear()-1}var On=_()[Q+40>>2>>>0];for(var Vn in Q={tb:_()[Q>>2>>>0],sb:_()[Q+4>>2>>>0],Ta:_()[Q+8>>2>>>0],Wa:_()[Q+12>>2>>>0],Ua:_()[Q+16>>2>>>0],Oa:_()[Q+20>>2>>>0],Ka:_()[Q+24>>2>>>0],Na:_()[Q+28>>2>>>0],zb:_()[Q+32>>2>>>0],rb:_()[Q+36>>2>>>0],ub:On?xe(On):""},H=xe(H),On={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})H=H.replace(new RegExp(Vn,"g"),On[Vn]);var te,Qe,oa="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),tl="January February March April May June July August September October November December".split(" ");for(Vn in On={"%a":function(te){return oa[te.Ka].substring(0,3)},"%A":function(te){return oa[te.Ka]},"%b":function(te){return tl[te.Ua].substring(0,3)},"%B":function(te){return tl[te.Ua]},"%C":function(te){return be((te.Oa+1900)/100|0,2)},"%d":function(te){return be(te.Wa,2)},"%e":function(te){return he(te.Wa,2," ")},"%g":function(te){return gr(te).toString().substring(2)},"%G":function(te){return gr(te)},"%H":function(te){return be(te.Ta,2)},"%I":function(te){return 0==(te=te.Ta)?te=12:12<te&&(te-=12),be(te,2)},"%j":function(te){for(var Qe=0,Je=0;Je<=te.Ua-1;Qe+=(ct(te.Oa+1900)?ta:na)[Je++]);return be(te.Wa+Qe,3)},"%m":function(te){return be(te.Ua+1,2)},"%M":function(te){return be(te.sb,2)},"%n":function(){return"\n"},"%p":function(te){return 0<=te.Ta&&12>te.Ta?"AM":"PM"},"%S":function(te){return be(te.tb,2)},"%t":function(){return"\t"},"%u":function(te){return te.Ka||7},"%U":function(te){return be(Math.floor((te.Na+7-te.Ka)/7),2)},"%V":function(te){var Qe=Math.floor((te.Na+7-(te.Ka+6)%7)/7);if(2>=(te.Ka+371-te.Na-2)%7&&Qe++,Qe)53==Qe&&(4==(Je=(te.Ka+371-te.Na)%7)||3==Je&&ct(te.Oa)||(Qe=1));else{Qe=52;var Je=(te.Ka+7-te.Na-1)%7;(4==Je||5==Je&&ct(te.Oa%400-1))&&Qe++}return be(Qe,2)},"%w":function(te){return te.Ka},"%W":function(te){return be(Math.floor((te.Na+7-(te.Ka+6)%7)/7),2)},"%y":function(te){return(te.Oa+1900).toString().substring(2)},"%Y":function(te){return te.Oa+1900},"%z":function(te){var Qe=0<=(te=te.rb);return te=Math.abs(te)/60,(Qe?"+":"-")+String("0000"+(te/60*100+te%60)).slice(-4)},"%Z":function(te){return te.ub},"%%":function(){return"%"}},H=H.replace(/%%/g,"\0\0"),On)H.includes(Vn)&&(H=H.replace(new RegExp(Vn,"g"),On[Vn](Q)));return Gt(te=H=H.replace(/\0\0/g,"%"),Qe=Array(Wt(te)+1),0,Qe.length),(Vn=Qe).length>U?0:(function(te,Qe){h().set(te,Qe>>>0)}(Vn,L),Vn.length-1)}ue.Va();var at=[null,le,It,Un,Ye,lt,bn,Ut,Bs,Hs,zs,Gs,wi,Ws,qs,An,Ys,vn,Qu,Di,Ei,Xs,Zs,Qs,Js,ea],Ci={b:function(L){return Yr(L+24)+24},c:function(L,U,H){throw new jn(L).Va(U,H),L},L:function(L){De(L,!k,1,!N),ue.$a()},m:function(L){$?postMessage({cmd:"cleanupThread",thread:L}):W(L)},D:J,i:Ye,S:lt,y:bn,B:Ut,t:Bs,Q:Hs,I:zs,P:Gs,o:wi,z:Ws,w:qs,R:An,x:Ys,q:function(){},j:function(){mn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){mn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){return Date.now()},E:function(){return 2097152},U:function(){return!0},F:function(L,U,H,Q){if(L==U)setTimeout(()=>Tt(Q));else if($)postMessage({targetThread:L,cmd:"processProxyingQueue",queue:Q});else{if(!(L=ue.Ma[L]))return;L.postMessage({cmd:"processProxyingQueue",queue:Q})}return 1},K:function(){return-1},V:function(L,U){L=new Date(1e3*hr(L)),_()[U>>2>>>0]=L.getUTCSeconds(),_()[U+4>>2>>>0]=L.getUTCMinutes(),_()[U+8>>2>>>0]=L.getUTCHours(),_()[U+12>>2>>>0]=L.getUTCDate(),_()[U+16>>2>>>0]=L.getUTCMonth(),_()[U+20>>2>>>0]=L.getUTCFullYear()-1900,_()[U+24>>2>>>0]=L.getUTCDay(),L=(L.getTime()-Date.UTC(L.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,_()[U+28>>2>>>0]=L},W:function(L,U){L=new Date(1e3*hr(L)),_()[U>>2>>>0]=L.getSeconds(),_()[U+4>>2>>>0]=L.getMinutes(),_()[U+8>>2>>>0]=L.getHours(),_()[U+12>>2>>>0]=L.getDate(),_()[U+16>>2>>>0]=L.getMonth(),_()[U+20>>2>>>0]=L.getFullYear()-1900,_()[U+24>>2>>>0]=L.getDay();var H=new Date(L.getFullYear(),0,1),Q=(L.getTime()-H.getTime())/864e5|0;_()[U+28>>2>>>0]=Q,_()[U+36>>2>>>0]=-60*L.getTimezoneOffset(),Q=new Date(L.getFullYear(),6,1).getTimezoneOffset(),L=0|(Q!=(H=H.getTimezoneOffset())&&L.getTimezoneOffset()==Math.min(H,Q)),_()[U+32>>2>>>0]=L},X:function(L){var U=new Date(_()[L+20>>2>>>0]+1900,_()[L+16>>2>>>0],_()[L+12>>2>>>0],_()[L+8>>2>>>0],_()[L+4>>2>>>0],_()[L>>2>>>0],0),H=_()[L+32>>2>>>0],Q=U.getTimezoneOffset(),he=new Date(U.getFullYear(),0,1),be=new Date(U.getFullYear(),6,1).getTimezoneOffset(),Fe=he.getTimezoneOffset(),$t=Math.min(Fe,be);return 0>H?_()[L+32>>2>>>0]=Number(be!=Fe&&$t==Q):0<H!=($t==Q)&&(be=Math.max(Fe,be),U.setTime(U.getTime()+6e4*((0<H?$t:be)-Q))),_()[L+24>>2>>>0]=U.getDay(),H=(U.getTime()-he.getTime())/864e5|0,_()[L+28>>2>>>0]=H,_()[L>>2>>>0]=U.getSeconds(),_()[L+4>>2>>>0]=U.getMinutes(),_()[L+8>>2>>>0]=U.getHours(),_()[L+12>>2>>>0]=U.getDate(),_()[L+16>>2>>>0]=U.getMonth(),U.getTime()/1e3|0},G:vn,H:Qu,Y:function L(U,H,Q){L.kb||(L.kb=!0,Di(U,H,Q))},d:function(){mn("")},n:function(){if(!O&&!k){var L="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";Dt||(Dt={}),Dt[L]||(Dt[L]=1,O&&(L="warning: "+L),K(L))}},v:function(){return 4294901760},f:Ct,O:function(L,U,H){y().copyWithin(L>>>0,U>>>0,U+H>>>0)},g:function(){return O?P(3993).cpus().length:navigator.hardwareConcurrency},J:function(L,U,H){pr.length=U,H>>=3;for(var Q=0;Q<U;Q++)pr[Q]=d()[H+Q>>>0];return(0>L?_i[-L-1]:at[L]).apply(null,pr)},u:function(L){var U=y().length;if((L>>>=0)<=U||4294901760<L)return!1;for(var H=1;4>=H;H*=2){var Q=U*(1+.2/H);Q=Math.min(Q,L+100663296);var he=Math;Q=Math.max(L,Q),he=he.min.call(he,4294901760,Q+(65536-Q%65536)%65536);e:{try{re.grow(he-we.byteLength+65535>>>16),wt(re.buffer);var be=1;break e}catch{}be=void 0}if(be)return!0}return!1},T:function(){throw"unwind"},M:Ei,N:Xs,C:de,h:Zs,l:Qs,s:Js,k:ea,a:re||s.wasmMemory,A:wo,e:function(L,U,H,Q){return wo(L,U,H,Q)}};(function(){function L(he,be){s.asm=he.exports,ue.ab.push(s.asm.wa),ln=s.asm.ya,Cn.unshift(s.asm.Z),_e=be,$||(qt--,s.monitorRunDependencies&&s.monitorRunDependencies(qt),0==qt&&(null!==vo&&(clearInterval(vo),vo=null),er&&(he=er,er=null,he())))}function U(he){L(he.instance,he.module)}function H(he){return function(){if(!oe&&(N||k)){if("function"==typeof fetch&&!mt.startsWith("file://"))return fetch(mt,{credentials:"same-origin"}).then(function(be){if(!be.ok)throw"failed to load wasm binary file at '"+mt+"'";return be.arrayBuffer()}).catch(function(){return qr()});if(f)return new Promise(function(be,Fe){f(mt,function($t){be(new Uint8Array($t))},Fe)})}return Promise.resolve().then(function(){return qr()})}().then(function(be){return WebAssembly.instantiate(be,Q)}).then(function(be){return be}).then(he,function(be){K("failed to asynchronously prepare wasm: "+be),mn(be)})}var Q={a:Ci};if($||(qt++,s.monitorRunDependencies&&s.monitorRunDependencies(qt)),s.instantiateWasm)try{return s.instantiateWasm(Q,L)}catch(he){return K("Module.instantiateWasm callback failed with error: "+he),!1}(oe||"function"!=typeof WebAssembly.instantiateStreaming||yn()||mt.startsWith("file://")||O||"function"!=typeof fetch?H(U):fetch(mt,{credentials:"same-origin"}).then(function(he){return WebAssembly.instantiateStreaming(he,Q).then(U,function(be){return K("wasm streaming compile failed: "+be),K("falling back to ArrayBuffer instantiation"),H(U)})})).catch(u)})(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.Z).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm._).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.$).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.aa).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ba).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.ca).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.da).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.ea).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.fa).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ga).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ha).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ia).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ja).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.ka).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.la).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.ma).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.na).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.oa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.pa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.qa).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.ra).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.sa).apply(null,arguments)},Yr=s._malloc=function(){return(Yr=s._malloc=s.asm.ta).apply(null,arguments)};s._free=function(){return(s._free=s.asm.ua).apply(null,arguments)};var ra=s._fflush=function(){return(ra=s._fflush=s.asm.va).apply(null,arguments)};s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var Do=s.___funcs_on_exit=function(){return(Do=s.___funcs_on_exit=s.asm.xa).apply(null,arguments)},De=s.__emscripten_thread_init=function(){return(De=s.__emscripten_thread_init=s.asm.za).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.Aa).apply(null,arguments)};var Mr,To=s._emscripten_run_in_main_runtime_thread_js=function(){return(To=s._emscripten_run_in_main_runtime_thread_js=s.asm.Ba).apply(null,arguments)},Ju=s.__emscripten_proxy_execute_task_queue=function(){return(Ju=s.__emscripten_proxy_execute_task_queue=s.asm.Ca).apply(null,arguments)},xo=s.__emscripten_thread_free_data=function(){return(xo=s.__emscripten_thread_free_data=s.asm.Da).apply(null,arguments)},fe=s.__emscripten_thread_exit=function(){return(fe=s.__emscripten_thread_exit=s.asm.Ea).apply(null,arguments)},Kr=s._emscripten_stack_set_limits=function(){return(Kr=s._emscripten_stack_set_limits=s.asm.Fa).apply(null,arguments)},Re=s.stackSave=function(){return(Re=s.stackSave=s.asm.Ga).apply(null,arguments)},Ze=s.stackRestore=function(){return(Ze=s.stackRestore=s.asm.Ha).apply(null,arguments)},Ai=s.stackAlloc=function(){return(Ai=s.stackAlloc=s.asm.Ia).apply(null,arguments)};function el(){function L(){if(!Mr&&(Mr=!0,s.calledRun=!0,!Me)&&($||ye(Cn),o(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!$)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var U=s.postRun.shift();Wr.unshift(U)}ye(Wr)}}if(!(0<qt))if($)o(s),$||ye(Cn),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)Pr();ye(cn),0<qt||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),L()},1)):L())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ja).apply(null,arguments)},s.UTF8ToString=xe,s.stringToUTF8=function(L,U,H){return Gt(L,y(),U,H)},s.lengthBytesUTF8=Wt,s.keepRuntimeAlive=Jt,s.wasmMemory=re,s.stackSave=Re,s.stackRestore=Ze,s.stackAlloc=Ai,s.ExitStatus=tr,s.PThread=ue,er=function L(){Mr||el(),Mr||(er=L)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return el(),T.ready});q.exports=D},5118:q=>{"use strict";q.exports='"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\n'},932:(q,b,P)=>{var S,D=(S=(S=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(T){var h,y,_;T=T||{},h||(h=void 0!==T?T:{}),h.ready=new Promise(function(W,ee){y=W,_=ee});var p,d,s,o,u,l,f=Object.assign({},h),m="./this.program",v="object"==typeof window,x="function"==typeof importScripts,I="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,C="";I?(C=x?P(908).dirname(C)+"/":"//",l=()=>{u||(o=P(1384),u=P(908))},p=function(W,ee){return l(),W=u.normalize(W),o.readFileSync(W,ee?void 0:"utf8")},s=W=>((W=p(W,!0)).buffer||(W=new Uint8Array(W)),W),d=(W,ee,le)=>{l(),W=u.normalize(W),o.readFile(W,function(de,ue){de?le(de):ee(ue.buffer)})},1<process.argv.length&&(m=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(W){throw W}),process.on("unhandledRejection",function(W){throw W}),h.inspect=function(){return"[Emscripten Module object]"}):(v||x)&&(x?C=self.location.href:typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),S&&(C=S),C=0!==C.indexOf("blob:")?C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):"",p=W=>{var ee=new XMLHttpRequest;return ee.open("GET",W,!1),ee.send(null),ee.responseText},x&&(s=W=>{var ee=new XMLHttpRequest;return ee.open("GET",W,!1),ee.responseType="arraybuffer",ee.send(null),new Uint8Array(ee.response)}),d=(W,ee,le)=>{var de=new XMLHttpRequest;de.open("GET",W,!0),de.responseType="arraybuffer",de.onload=()=>{200==de.status||0==de.status&&de.response?ee(de.response):le()},de.onerror=le,de.send(null)});var A,R=h.print||console.log.bind(console),N=h.printErr||console.warn.bind(console);Object.assign(h,f),f=null,h.thisProgram&&(m=h.thisProgram),h.wasmBinary&&(A=h.wasmBinary),"object"!=typeof WebAssembly&&Lt("no native wasm support detected");var k,O,$,G,z,X,Z=!1,oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function B(W,ee,le){var de=(ee>>>=0)+le;for(le=ee;W[le]&&!(le>=de);)++le;if(16<le-ee&&W.buffer&&oe)return oe.decode(W.subarray(ee,le));for(de="";ee<le;){var ue=W[ee++];if(128&ue){var ye=63&W[ee++];if(192==(224&ue))de+=String.fromCharCode((31&ue)<<6|ye);else{var qe=63&W[ee++];65536>(ue=224==(240&ue)?(15&ue)<<12|ye<<6|qe:(7&ue)<<18|ye<<12|qe<<6|63&W[ee++])?de+=String.fromCharCode(ue):(ue-=65536,de+=String.fromCharCode(55296|ue>>10,56320|1023&ue))}}else de+=String.fromCharCode(ue)}return de}function K(W,ee){return(W>>>=0)?B(G,W,ee):""}function ve(W,ee,le,de){if(!(0<de))return 0;var ue=le>>>=0;de=le+de-1;for(var ye=0;ye<W.length;++ye){var qe=W.charCodeAt(ye);if(55296<=qe&&57343>=qe&&(qe=65536+((1023&qe)<<10)|1023&W.charCodeAt(++ye)),127>=qe){if(le>=de)break;ee[le++>>>0]=qe}else{if(2047>=qe){if(le+1>=de)break;ee[le++>>>0]=192|qe>>6}else{if(65535>=qe){if(le+2>=de)break;ee[le++>>>0]=224|qe>>12}else{if(le+3>=de)break;ee[le++>>>0]=240|qe>>18,ee[le++>>>0]=128|qe>>12&63}ee[le++>>>0]=128|qe>>6&63}ee[le++>>>0]=128|63&qe}}return ee[le>>>0]=0,le-ue}function re(W){for(var ee=0,le=0;le<W.length;++le){var de=W.charCodeAt(le);127>=de?ee++:2047>=de?ee+=2:55296<=de&&57343>=de?(ee+=4,++le):ee+=3}return ee}function _e(){var W=k.buffer;O=W,h.HEAP8=$=new Int8Array(W),h.HEAP16=new Int16Array(W),h.HEAP32=z=new Int32Array(W),h.HEAPU8=G=new Uint8Array(W),h.HEAPU16=new Uint16Array(W),h.HEAPU32=X=new Uint32Array(W),h.HEAPF32=new Float32Array(W),h.HEAPF64=new Float64Array(W)}var we=[],Ge=[],jt=[];function nt(){var W=h.preRun.shift();we.unshift(W)}var Te,Xe=0,Me=null,We=null;function Lt(W){throw h.onAbort&&h.onAbort(W),N(W="Aborted("+W+")"),Z=!0,W=new WebAssembly.RuntimeError(W+". Build with -sASSERTIONS for more info."),_(W),W}function xe(){return Te.startsWith("data:application/octet-stream;base64,")}if(Te="ort-wasm.wasm",!xe()){var Gt=Te;Te=h.locateFile?h.locateFile(Gt,C):C+Gt}function Wt(){var W=Te;try{if(W==Te&&A)return new Uint8Array(A);if(s)return s(W);throw"both async and sync fetching of the wasm failed"}catch(ee){Lt(ee)}}function wt(W){for(;0<W.length;)W.shift()(h)}function ut(W){this.ra=W-24,this.Ga=function(ee){X[this.ra+4>>2>>>0]=ee},this.za=function(ee){X[this.ra+8>>2>>>0]=ee},this.Aa=function(){z[this.ra>>2>>>0]=0},this.ya=function(){$[this.ra+12>>0>>>0]=0},this.Fa=function(){$[this.ra+13>>0>>>0]=0},this.wa=function(ee,le){this.xa(),this.Ga(ee),this.za(le),this.Aa(),this.ya(),this.Fa()},this.xa=function(){X[this.ra+16>>2>>>0]=0}}function ln(W){var ee=re(W)+1,le=er(ee);return le&&ve(W,$,le,ee),le}var cn={};function Cn(){if(!$n){var W,ee={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(W in cn)void 0===cn[W]?delete ee[W]:ee[W]=cn[W];var le=[];for(W in ee)le.push(W+"="+ee[W]);$n=le}return $n}var $n,Wr=[null,[],[]];function Jt(W){return W%4==0&&(W%100!=0||W%400==0)}var Pr=[31,29,31,30,31,30,31,31,30,31,30,31],mt=[31,28,31,30,31,30,31,31,30,31,30,31];function qt(W,ee,le,de){function ue(J,Ye,lt){for(J="number"==typeof J?J.toString():J||"";J.length<Ye;)J=lt[0]+J;return J}function ye(J,Ye){return ue(J,Ye,"0")}function qe(J,Ye){function lt(Ut){return 0>Ut?-1:0<Ut?1:0}var bn;return 0===(bn=lt(J.getFullYear()-Ye.getFullYear()))&&0===(bn=lt(J.getMonth()-Ye.getMonth()))&&(bn=lt(J.getDate()-Ye.getDate())),bn}function It(J){switch(J.getDay()){case 0:return new Date(J.getFullYear()-1,11,29);case 1:return J;case 2:return new Date(J.getFullYear(),0,3);case 3:return new Date(J.getFullYear(),0,2);case 4:return new Date(J.getFullYear(),0,1);case 5:return new Date(J.getFullYear()-1,11,31);case 6:return new Date(J.getFullYear()-1,11,30)}}function Dt(J){var Ye=J.pa;for(J=new Date(new Date(J.qa+1900,0,1).getTime());0<Ye;){var lt=J.getMonth(),bn=(Jt(J.getFullYear())?Pr:mt)[lt];if(!(Ye>bn-J.getDate())){J.setDate(J.getDate()+Ye);break}Ye-=bn-J.getDate()+1,J.setDate(1),11>lt?J.setMonth(lt+1):(J.setMonth(0),J.setFullYear(J.getFullYear()+1))}return lt=new Date(J.getFullYear()+1,0,4),Ye=It(new Date(J.getFullYear(),0,4)),lt=It(lt),0>=qe(Ye,J)?0>=qe(lt,J)?J.getFullYear()+1:J.getFullYear():J.getFullYear()-1}var Ct=z[de+40>>2>>>0];for(var pt in de={Da:z[de>>2>>>0],Ca:z[de+4>>2>>>0],sa:z[de+8>>2>>>0],ua:z[de+12>>2>>>0],ta:z[de+16>>2>>>0],qa:z[de+20>>2>>>0],ka:z[de+24>>2>>>0],pa:z[de+28>>2>>>0],Ha:z[de+32>>2>>>0],Ba:z[de+36>>2>>>0],Ea:Ct?K(Ct):""},le=K(le),Ct={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})le=le.replace(new RegExp(pt,"g"),Ct[pt]);var J,Ye,jn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Un="January February March April May June July August September October November December".split(" ");for(pt in Ct={"%a":function(J){return jn[J.ka].substring(0,3)},"%A":function(J){return jn[J.ka]},"%b":function(J){return Un[J.ta].substring(0,3)},"%B":function(J){return Un[J.ta]},"%C":function(J){return ye((J.qa+1900)/100|0,2)},"%d":function(J){return ye(J.ua,2)},"%e":function(J){return ue(J.ua,2," ")},"%g":function(J){return Dt(J).toString().substring(2)},"%G":function(J){return Dt(J)},"%H":function(J){return ye(J.sa,2)},"%I":function(J){return 0==(J=J.sa)?J=12:12<J&&(J-=12),ye(J,2)},"%j":function(J){for(var Ye=0,lt=0;lt<=J.ta-1;Ye+=(Jt(J.qa+1900)?Pr:mt)[lt++]);return ye(J.ua+Ye,3)},"%m":function(J){return ye(J.ta+1,2)},"%M":function(J){return ye(J.Ca,2)},"%n":function(){return"\n"},"%p":function(J){return 0<=J.sa&&12>J.sa?"AM":"PM"},"%S":function(J){return ye(J.Da,2)},"%t":function(){return"\t"},"%u":function(J){return J.ka||7},"%U":function(J){return ye(Math.floor((J.pa+7-J.ka)/7),2)},"%V":function(J){var Ye=Math.floor((J.pa+7-(J.ka+6)%7)/7);if(2>=(J.ka+371-J.pa-2)%7&&Ye++,Ye)53==Ye&&(4==(lt=(J.ka+371-J.pa)%7)||3==lt&&Jt(J.qa)||(Ye=1));else{Ye=52;var lt=(J.ka+7-J.pa-1)%7;(4==lt||5==lt&&Jt(J.qa%400-1))&&Ye++}return ye(Ye,2)},"%w":function(J){return J.ka},"%W":function(J){return ye(Math.floor((J.pa+7-(J.ka+6)%7)/7),2)},"%y":function(J){return(J.qa+1900).toString().substring(2)},"%Y":function(J){return J.qa+1900},"%z":function(J){var Ye=0<=(J=J.Ba);return J=Math.abs(J)/60,(Ye?"+":"-")+String("0000"+(J/60*100+J%60)).slice(-4)},"%Z":function(J){return J.Ea},"%%":function(){return"%"}},le=le.replace(/%%/g,"\0\0"),Ct)le.includes(pt)&&(le=le.replace(new RegExp(pt,"g"),Ct[pt](de)));return ve(J=le=le.replace(/\0\0/g,"%"),Ye=Array(re(J)+1),0,Ye.length),(pt=Ye).length>ee?0:($.set(pt,W>>>0),pt.length-1)}var vo={a:function(W){return er(W+24)+24},b:function(W,ee,le){throw new ut(W).wa(ee,le),W},g:function(){return 0},J:function(){},w:function(){},z:function(){},s:function(){return 0},H:function(){},C:function(){},G:function(){},k:function(){},y:function(){},u:function(){},I:function(){},v:function(){},o:function(){},q:function(){Lt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){Lt("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},K:function(){return!0},L:function(W,ee){W=new Date(1e3*(X[W>>>2]+4294967296*z[W+4>>>2])),z[ee>>2>>>0]=W.getUTCSeconds(),z[ee+4>>2>>>0]=W.getUTCMinutes(),z[ee+8>>2>>>0]=W.getUTCHours(),z[ee+12>>2>>>0]=W.getUTCDate(),z[ee+16>>2>>>0]=W.getUTCMonth(),z[ee+20>>2>>>0]=W.getUTCFullYear()-1900,z[ee+24>>2>>>0]=W.getUTCDay(),z[ee+28>>2>>>0]=(W.getTime()-Date.UTC(W.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},M:function(W,ee){W=new Date(1e3*(X[W>>>2]+4294967296*z[W+4>>>2])),z[ee>>2>>>0]=W.getSeconds(),z[ee+4>>2>>>0]=W.getMinutes(),z[ee+8>>2>>>0]=W.getHours(),z[ee+12>>2>>>0]=W.getDate(),z[ee+16>>2>>>0]=W.getMonth(),z[ee+20>>2>>>0]=W.getFullYear()-1900,z[ee+24>>2>>>0]=W.getDay();var le=new Date(W.getFullYear(),0,1);z[ee+28>>2>>>0]=(W.getTime()-le.getTime())/864e5|0,z[ee+36>>2>>>0]=-60*W.getTimezoneOffset();var de=new Date(W.getFullYear(),6,1).getTimezoneOffset();le=le.getTimezoneOffset(),z[ee+32>>2>>>0]=0|(de!=le&&W.getTimezoneOffset()==Math.min(le,de))},m:function(W){var ee=new Date(z[W+20>>2>>>0]+1900,z[W+16>>2>>>0],z[W+12>>2>>>0],z[W+8>>2>>>0],z[W+4>>2>>>0],z[W>>2>>>0],0),le=z[W+32>>2>>>0],de=ee.getTimezoneOffset(),ue=new Date(ee.getFullYear(),0,1),ye=new Date(ee.getFullYear(),6,1).getTimezoneOffset(),qe=ue.getTimezoneOffset(),It=Math.min(qe,ye);return 0>le?z[W+32>>2>>>0]=Number(ye!=qe&&It==de):0<le!=(It==de)&&(ye=Math.max(qe,ye),ee.setTime(ee.getTime()+6e4*((0<le?It:ye)-de))),z[W+24>>2>>>0]=ee.getDay(),z[W+28>>2>>>0]=(ee.getTime()-ue.getTime())/864e5|0,z[W>>2>>>0]=ee.getSeconds(),z[W+4>>2>>>0]=ee.getMinutes(),z[W+8>>2>>>0]=ee.getHours(),z[W+12>>2>>>0]=ee.getDate(),z[W+16>>2>>>0]=ee.getMonth(),ee.getTime()/1e3|0},A:function(){return-52},B:function(){},n:function W(ee,le,de){W.va||(W.va=!0,function(ue,ye,qe){function It(Un){return(Un=Un.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Un[1]:"GMT"}var Dt=(new Date).getFullYear(),Ct=new Date(Dt,0,1),pt=new Date(Dt,6,1);Dt=Ct.getTimezoneOffset();var jn=pt.getTimezoneOffset();z[ue>>2>>>0]=60*Math.max(Dt,jn),z[ye>>2>>>0]=Number(Dt!=jn),ue=It(Ct),ye=It(pt),ue=ln(ue),ye=ln(ye),jn<Dt?(X[qe>>2>>>0]=ue,X[qe+4>>2>>>0]=ye):(X[qe>>2>>>0]=ye,X[qe+4>>2>>>0]=ue)}(ee,le,de))},d:function(){Lt("")},t:function(){return 4294901760},h:I?()=>{var W=process.hrtime();return 1e3*W[0]+W[1]/1e6}:()=>performance.now(),F:function(W,ee,le){G.copyWithin(W>>>0,ee>>>0,ee+le>>>0)},f:function(W){var ee=G.length;if(4294901760<(W>>>=0))return!1;for(var le=1;4>=le;le*=2){var de=ee*(1+.2/le);de=Math.min(de,W+100663296);var ue=Math;de=Math.max(W,de),ue=ue.min.call(ue,4294901760,de+(65536-de%65536)%65536);e:{try{k.grow(ue-O.byteLength+65535>>>16),_e();var ye=1;break e}catch{}ye=void 0}if(ye)return!0}return!1},D:function(W,ee){var le=0;return Cn().forEach(function(de,ue){var ye=ee+le;for(ue=X[W+4*ue>>2>>>0]=ye,ye=0;ye<de.length;++ye)$[ue++>>0>>>0]=de.charCodeAt(ye);$[ue>>0>>>0]=0,le+=de.length+1}),0},E:function(W,ee){var le=Cn();X[W>>2>>>0]=le.length;var de=0;return le.forEach(function(ue){de+=ue.length+1}),X[ee>>2>>>0]=de,0},e:function(){return 52},j:function(){return 52},r:function(){return 70},i:function(W,ee,le,de){for(var ue=0,ye=0;ye<le;ye++){var qe=X[ee>>2>>>0],It=X[ee+4>>2>>>0];ee+=8;for(var Dt=0;Dt<It;Dt++){var Ct=G[qe+Dt>>>0],pt=Wr[W];0===Ct||10===Ct?((1===W?R:N)(B(pt,0)),pt.length=0):pt.push(Ct)}ue+=It}return X[de>>2>>>0]=ue,0},x:qt,c:function(W,ee,le,de){return qt(W,ee,le,de)}};(function(){function W(ue){h.asm=ue.exports,k=h.asm.N,_e(),Ge.unshift(h.asm.O),Xe--,h.monitorRunDependencies&&h.monitorRunDependencies(Xe),0==Xe&&(null!==Me&&(clearInterval(Me),Me=null),We&&(ue=We,We=null,ue()))}function ee(ue){W(ue.instance)}function le(ue){return function(){if(!A&&(v||x)){if("function"==typeof fetch&&!Te.startsWith("file://"))return fetch(Te,{credentials:"same-origin"}).then(function(ye){if(!ye.ok)throw"failed to load wasm binary file at '"+Te+"'";return ye.arrayBuffer()}).catch(function(){return Wt()});if(d)return new Promise(function(ye,qe){d(Te,function(It){ye(new Uint8Array(It))},qe)})}return Promise.resolve().then(function(){return Wt()})}().then(function(ye){return WebAssembly.instantiate(ye,de)}).then(function(ye){return ye}).then(ue,function(ye){N("failed to asynchronously prepare wasm: "+ye),Lt(ye)})}var de={a:vo};if(Xe++,h.monitorRunDependencies&&h.monitorRunDependencies(Xe),h.instantiateWasm)try{return h.instantiateWasm(de,W)}catch(ue){return N("Module.instantiateWasm callback failed with error: "+ue),!1}(A||"function"!=typeof WebAssembly.instantiateStreaming||xe()||Te.startsWith("file://")||I||"function"!=typeof fetch?le(ee):fetch(Te,{credentials:"same-origin"}).then(function(ue){return WebAssembly.instantiateStreaming(ue,de).then(ee,function(ye){return N("wasm streaming compile failed: "+ye),N("falling back to ArrayBuffer instantiation"),le(ee)})})).catch(_)})(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.O).apply(null,arguments)},h._OrtInit=function(){return(h._OrtInit=h.asm.P).apply(null,arguments)},h._OrtCreateSessionOptions=function(){return(h._OrtCreateSessionOptions=h.asm.Q).apply(null,arguments)},h._OrtAppendExecutionProvider=function(){return(h._OrtAppendExecutionProvider=h.asm.R).apply(null,arguments)},h._OrtAddSessionConfigEntry=function(){return(h._OrtAddSessionConfigEntry=h.asm.S).apply(null,arguments)},h._OrtReleaseSessionOptions=function(){return(h._OrtReleaseSessionOptions=h.asm.T).apply(null,arguments)},h._OrtCreateSession=function(){return(h._OrtCreateSession=h.asm.U).apply(null,arguments)},h._OrtReleaseSession=function(){return(h._OrtReleaseSession=h.asm.V).apply(null,arguments)},h._OrtGetInputCount=function(){return(h._OrtGetInputCount=h.asm.W).apply(null,arguments)},h._OrtGetOutputCount=function(){return(h._OrtGetOutputCount=h.asm.X).apply(null,arguments)},h._OrtGetInputName=function(){return(h._OrtGetInputName=h.asm.Y).apply(null,arguments)},h._OrtGetOutputName=function(){return(h._OrtGetOutputName=h.asm.Z).apply(null,arguments)},h._OrtFree=function(){return(h._OrtFree=h.asm._).apply(null,arguments)},h._OrtCreateTensor=function(){return(h._OrtCreateTensor=h.asm.$).apply(null,arguments)},h._OrtGetTensorData=function(){return(h._OrtGetTensorData=h.asm.aa).apply(null,arguments)},h._OrtReleaseTensor=function(){return(h._OrtReleaseTensor=h.asm.ba).apply(null,arguments)},h._OrtCreateRunOptions=function(){return(h._OrtCreateRunOptions=h.asm.ca).apply(null,arguments)},h._OrtAddRunConfigEntry=function(){return(h._OrtAddRunConfigEntry=h.asm.da).apply(null,arguments)},h._OrtReleaseRunOptions=function(){return(h._OrtReleaseRunOptions=h.asm.ea).apply(null,arguments)},h._OrtRun=function(){return(h._OrtRun=h.asm.fa).apply(null,arguments)},h._OrtEndProfiling=function(){return(h._OrtEndProfiling=h.asm.ga).apply(null,arguments)};var er=h._malloc=function(){return(er=h._malloc=h.asm.ha).apply(null,arguments)};h._free=function(){return(h._free=h.asm.ia).apply(null,arguments)},h._fflush=function(){return(h._fflush=h.asm.ja).apply(null,arguments)};var mn,yn=h.stackSave=function(){return(yn=h.stackSave=h.asm.la).apply(null,arguments)},qr=h.stackRestore=function(){return(qr=h.stackRestore=h.asm.ma).apply(null,arguments)},_i=h.stackAlloc=function(){return(_i=h.stackAlloc=h.asm.na).apply(null,arguments)};function tr(){function W(){if(!mn&&(mn=!0,h.calledRun=!0,!Z)){if(wt(Ge),y(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;){var ee=h.postRun.shift();jt.unshift(ee)}wt(jt)}}if(!(0<Xe)){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)nt();wt(we),0<Xe||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),W()},1)):W())}}if(h.___cxa_is_pointer_type=function(){return(h.___cxa_is_pointer_type=h.asm.oa).apply(null,arguments)},h.UTF8ToString=K,h.stringToUTF8=function(W,ee,le){return ve(W,G,ee,le)},h.lengthBytesUTF8=re,h.stackSave=yn,h.stackRestore=qr,h.stackAlloc=_i,We=function W(){mn||tr(),mn||(We=W)},h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return tr(),T.ready});q.exports=D},4537:q=>{"use strict";q.exports=function(b,P){for(var S=new Array(arguments.length-1),D=0,T=2,h=!0;T<arguments.length;)S[D++]=arguments[T++];return new Promise(function(y,_){S[D]=function(p){if(h)if(h=!1,p)_(p);else{for(var d=new Array(arguments.length-1),s=0;s<d.length;)d[s++]=arguments[s];y.apply(null,d)}};try{b.apply(P||null,S)}catch(p){h&&(h=!1,_(p))}})}},7419:(q,b)=>{"use strict";var P=b;P.length=function(y){var _=y.length;if(!_)return 0;for(var p=0;--_%4>1&&"="===y.charAt(_);)++p;return Math.ceil(3*y.length)/4-p};for(var S=new Array(64),D=new Array(123),T=0;T<64;)D[S[T]=T<26?T+65:T<52?T+71:T<62?T-4:T-59|43]=T++;P.encode=function(y,_,p){for(var d,s=null,o=[],u=0,l=0;_<p;){var f=y[_++];switch(l){case 0:o[u++]=S[f>>2],d=(3&f)<<4,l=1;break;case 1:o[u++]=S[d|f>>4],d=(15&f)<<2,l=2;break;case 2:o[u++]=S[d|f>>6],o[u++]=S[63&f],l=0}u>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),u=0)}return l&&(o[u++]=S[d],o[u++]=61,1===l&&(o[u++]=61)),s?(u&&s.push(String.fromCharCode.apply(String,o.slice(0,u))),s.join("")):String.fromCharCode.apply(String,o.slice(0,u))};var h="invalid encoding";P.decode=function(y,_,p){for(var d,s=p,o=0,u=0;u<y.length;){var l=y.charCodeAt(u++);if(61===l&&o>1)break;if(void 0===(l=D[l]))throw Error(h);switch(o){case 0:d=l,o=1;break;case 1:_[p++]=d<<2|(48&l)>>4,d=l,o=2;break;case 2:_[p++]=(15&d)<<4|(60&l)>>2,d=l,o=3;break;case 3:_[p++]=(3&d)<<6|l,o=0}}if(1===o)throw Error(h);return p-s},P.test=function(y){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(y)}},9211:q=>{"use strict";function b(){this._listeners={}}q.exports=b,b.prototype.on=function(P,S,D){return(this._listeners[P]||(this._listeners[P]=[])).push({fn:S,ctx:D||this}),this},b.prototype.off=function(P,S){if(void 0===P)this._listeners={};else if(void 0===S)this._listeners[P]=[];else for(var D=this._listeners[P],T=0;T<D.length;)D[T].fn===S?D.splice(T,1):++T;return this},b.prototype.emit=function(P){var S=this._listeners[P];if(S){for(var D=[],T=1;T<arguments.length;)D.push(arguments[T++]);for(T=0;T<S.length;)S[T].fn.apply(S[T++].ctx,D)}return this}},945:q=>{"use strict";function b(h){return typeof Float32Array<"u"?function(){var y=new Float32Array([-0]),_=new Uint8Array(y.buffer),p=128===_[3];function d(l,f,m){y[0]=l,f[m]=_[0],f[m+1]=_[1],f[m+2]=_[2],f[m+3]=_[3]}function s(l,f,m){y[0]=l,f[m]=_[3],f[m+1]=_[2],f[m+2]=_[1],f[m+3]=_[0]}function o(l,f){return _[0]=l[f],_[1]=l[f+1],_[2]=l[f+2],_[3]=l[f+3],y[0]}function u(l,f){return _[3]=l[f],_[2]=l[f+1],_[1]=l[f+2],_[0]=l[f+3],y[0]}h.writeFloatLE=p?d:s,h.writeFloatBE=p?s:d,h.readFloatLE=p?o:u,h.readFloatBE=p?u:o}():function(){function y(p,d,s,o){var u=d<0?1:0;if(u&&(d=-d),0===d)p(1/d>0?0:2147483648,s,o);else if(isNaN(d))p(2143289344,s,o);else if(d>34028234663852886e22)p((u<<31|2139095040)>>>0,s,o);else if(d<11754943508222875e-54)p((u<<31|Math.round(d/1401298464324817e-60))>>>0,s,o);else{var l=Math.floor(Math.log(d)/Math.LN2);p((u<<31|l+127<<23|8388607&Math.round(d*Math.pow(2,-l)*8388608))>>>0,s,o)}}function _(p,d,s){var o=p(d,s),u=2*(o>>31)+1,l=o>>>23&255,f=8388607&o;return 255===l?f?NaN:u*(1/0):0===l?1401298464324817e-60*u*f:u*Math.pow(2,l-150)*(f+8388608)}h.writeFloatLE=y.bind(null,P),h.writeFloatBE=y.bind(null,S),h.readFloatLE=_.bind(null,D),h.readFloatBE=_.bind(null,T)}(),typeof Float64Array<"u"?function(){var y=new Float64Array([-0]),_=new Uint8Array(y.buffer),p=128===_[7];function d(l,f,m){y[0]=l,f[m]=_[0],f[m+1]=_[1],f[m+2]=_[2],f[m+3]=_[3],f[m+4]=_[4],f[m+5]=_[5],f[m+6]=_[6],f[m+7]=_[7]}function s(l,f,m){y[0]=l,f[m]=_[7],f[m+1]=_[6],f[m+2]=_[5],f[m+3]=_[4],f[m+4]=_[3],f[m+5]=_[2],f[m+6]=_[1],f[m+7]=_[0]}function o(l,f){return _[0]=l[f],_[1]=l[f+1],_[2]=l[f+2],_[3]=l[f+3],_[4]=l[f+4],_[5]=l[f+5],_[6]=l[f+6],_[7]=l[f+7],y[0]}function u(l,f){return _[7]=l[f],_[6]=l[f+1],_[5]=l[f+2],_[4]=l[f+3],_[3]=l[f+4],_[2]=l[f+5],_[1]=l[f+6],_[0]=l[f+7],y[0]}h.writeDoubleLE=p?d:s,h.writeDoubleBE=p?s:d,h.readDoubleLE=p?o:u,h.readDoubleBE=p?u:o}():function(){function y(p,d,s,o,u,l){var f=o<0?1:0;if(f&&(o=-o),0===o)p(0,u,l+d),p(1/o>0?0:2147483648,u,l+s);else if(isNaN(o))p(0,u,l+d),p(2146959360,u,l+s);else if(o>17976931348623157e292)p(0,u,l+d),p((f<<31|2146435072)>>>0,u,l+s);else{var m;if(o<22250738585072014e-324)p((m=o/5e-324)>>>0,u,l+d),p((f<<31|m/4294967296)>>>0,u,l+s);else{var v=Math.floor(Math.log(o)/Math.LN2);1024===v&&(v=1023),p(4503599627370496*(m=o*Math.pow(2,-v))>>>0,u,l+d),p((f<<31|v+1023<<20|1048576*m&1048575)>>>0,u,l+s)}}}function _(p,d,s,o,u){var l=p(o,u+d),f=p(o,u+s),m=2*(f>>31)+1,v=f>>>20&2047,x=4294967296*(1048575&f)+l;return 2047===v?x?NaN:m*(1/0):0===v?5e-324*m*x:m*Math.pow(2,v-1075)*(x+4503599627370496)}h.writeDoubleLE=y.bind(null,P,0,4),h.writeDoubleBE=y.bind(null,S,4,0),h.readDoubleLE=_.bind(null,D,0,4),h.readDoubleBE=_.bind(null,T,4,0)}(),h}function P(h,y,_){y[_]=255&h,y[_+1]=h>>>8&255,y[_+2]=h>>>16&255,y[_+3]=h>>>24}function S(h,y,_){y[_]=h>>>24,y[_+1]=h>>>16&255,y[_+2]=h>>>8&255,y[_+3]=255&h}function D(h,y){return(h[y]|h[y+1]<<8|h[y+2]<<16|h[y+3]<<24)>>>0}function T(h,y){return(h[y]<<24|h[y+1]<<16|h[y+2]<<8|h[y+3])>>>0}q.exports=b(b)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(q){}return null}module.exports=inquire},6662:q=>{"use strict";q.exports=function(b,P,S){var D=S||8192,T=D>>>1,h=null,y=D;return function(_){if(_<1||_>T)return b(_);y+_>D&&(h=b(D),y=0);var p=P.call(h,y,y+=_);return 7&y&&(y=1+(7|y)),p}}},4997:(q,b)=>{"use strict";var P=b;P.length=function(S){for(var D=0,T=0,h=0;h<S.length;++h)(T=S.charCodeAt(h))<128?D+=1:T<2048?D+=2:55296==(64512&T)&&56320==(64512&S.charCodeAt(h+1))?(++h,D+=4):D+=3;return D},P.read=function(S,D,T){if(T-D<1)return"";for(var h,y=null,_=[],p=0;D<T;)(h=S[D++])<128?_[p++]=h:h>191&&h<224?_[p++]=(31&h)<<6|63&S[D++]:h>239&&h<365?(h=((7&h)<<18|(63&S[D++])<<12|(63&S[D++])<<6|63&S[D++])-65536,_[p++]=55296+(h>>10),_[p++]=56320+(1023&h)):_[p++]=(15&h)<<12|(63&S[D++])<<6|63&S[D++],p>8191&&((y||(y=[])).push(String.fromCharCode.apply(String,_)),p=0);return y?(p&&y.push(String.fromCharCode.apply(String,_.slice(0,p))),y.join("")):String.fromCharCode.apply(String,_.slice(0,p))},P.write=function(S,D,T){for(var h,y,_=T,p=0;p<S.length;++p)(h=S.charCodeAt(p))<128?D[T++]=h:h<2048?(D[T++]=h>>6|192,D[T++]=63&h|128):55296==(64512&h)&&56320==(64512&(y=S.charCodeAt(p+1)))?(++p,D[T++]=(h=65536+((1023&h)<<10)+(1023&y))>>18|240,D[T++]=h>>12&63|128,D[T++]=h>>6&63|128,D[T++]=63&h|128):(D[T++]=h>>12|224,D[T++]=h>>6&63|128,D[T++]=63&h|128);return T-_}},4819:(q,b,P)=>{"use strict";P.r(b),P.d(b,{flatbuffers:()=>S});var S={SIZEOF_SHORT:2,SIZEOF_INT:4,FILE_IDENTIFIER_LENGTH:4,SIZE_PREFIX_LENGTH:4,Encoding:{UTF8_BYTES:1,UTF16_STRING:2}};S.int32=new Int32Array(2),S.float32=new Float32Array(S.int32.buffer),S.float64=new Float64Array(S.int32.buffer),S.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],S.Long=function(D,T){this.low=0|D,this.high=0|T},S.Long.create=function(D,T){return 0==D&&0==T?S.Long.ZERO:new S.Long(D,T)},S.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},S.Long.prototype.equals=function(D){return this.low==D.low&&this.high==D.high},S.Long.ZERO=new S.Long(0,0),S.Builder=function(D){if(D)T=D;else var T=1024;this.bb=S.ByteBuffer.allocate(T),this.space=T,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},S.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},S.Builder.prototype.forceDefaults=function(D){this.force_defaults=D},S.Builder.prototype.dataBuffer=function(){return this.bb},S.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},S.Builder.prototype.prep=function(D,T){D>this.minalign&&(this.minalign=D);for(var h=1+~(this.bb.capacity()-this.space+T)&D-1;this.space<h+D+T;){var y=this.bb.capacity();this.bb=S.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-y}this.pad(h)},S.Builder.prototype.pad=function(D){for(var T=0;T<D;T++)this.bb.writeInt8(--this.space,0)},S.Builder.prototype.writeInt8=function(D){this.bb.writeInt8(this.space-=1,D)},S.Builder.prototype.writeInt16=function(D){this.bb.writeInt16(this.space-=2,D)},S.Builder.prototype.writeInt32=function(D){this.bb.writeInt32(this.space-=4,D)},S.Builder.prototype.writeInt64=function(D){this.bb.writeInt64(this.space-=8,D)},S.Builder.prototype.writeFloat32=function(D){this.bb.writeFloat32(this.space-=4,D)},S.Builder.prototype.writeFloat64=function(D){this.bb.writeFloat64(this.space-=8,D)},S.Builder.prototype.addInt8=function(D){this.prep(1,0),this.writeInt8(D)},S.Builder.prototype.addInt16=function(D){this.prep(2,0),this.writeInt16(D)},S.Builder.prototype.addInt32=function(D){this.prep(4,0),this.writeInt32(D)},S.Builder.prototype.addInt64=function(D){this.prep(8,0),this.writeInt64(D)},S.Builder.prototype.addFloat32=function(D){this.prep(4,0),this.writeFloat32(D)},S.Builder.prototype.addFloat64=function(D){this.prep(8,0),this.writeFloat64(D)},S.Builder.prototype.addFieldInt8=function(D,T,h){(this.force_defaults||T!=h)&&(this.addInt8(T),this.slot(D))},S.Builder.prototype.addFieldInt16=function(D,T,h){(this.force_defaults||T!=h)&&(this.addInt16(T),this.slot(D))},S.Builder.prototype.addFieldInt32=function(D,T,h){(this.force_defaults||T!=h)&&(this.addInt32(T),this.slot(D))},S.Builder.prototype.addFieldInt64=function(D,T,h){!this.force_defaults&&T.equals(h)||(this.addInt64(T),this.slot(D))},S.Builder.prototype.addFieldFloat32=function(D,T,h){(this.force_defaults||T!=h)&&(this.addFloat32(T),this.slot(D))},S.Builder.prototype.addFieldFloat64=function(D,T,h){(this.force_defaults||T!=h)&&(this.addFloat64(T),this.slot(D))},S.Builder.prototype.addFieldOffset=function(D,T,h){(this.force_defaults||T!=h)&&(this.addOffset(T),this.slot(D))},S.Builder.prototype.addFieldStruct=function(D,T,h){T!=h&&(this.nested(T),this.slot(D))},S.Builder.prototype.nested=function(D){if(D!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},S.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},S.Builder.prototype.slot=function(D){this.vtable[D]=this.offset()},S.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},S.Builder.growByteBuffer=function(D){var T=D.capacity();if(3221225472&T)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var h=T<<1,y=S.ByteBuffer.allocate(h);return y.setPosition(h-T),y.bytes().set(D.bytes(),h-T),y},S.Builder.prototype.addOffset=function(D){this.prep(S.SIZEOF_INT,0),this.writeInt32(this.offset()-D+S.SIZEOF_INT)},S.Builder.prototype.startObject=function(D){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=D;for(var T=0;T<D;T++)this.vtable[T]=0;this.isNested=!0,this.object_start=this.offset()},S.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var D=this.offset(),T=this.vtable_in_use-1;T>=0&&0==this.vtable[T];T--);for(var h=T+1;T>=0;T--)this.addInt16(0!=this.vtable[T]?D-this.vtable[T]:0);this.addInt16(D-this.object_start);var y=(h+2)*S.SIZEOF_SHORT;this.addInt16(y);var _=0,p=this.space;e:for(T=0;T<this.vtables.length;T++){var d=this.bb.capacity()-this.vtables[T];if(y==this.bb.readInt16(d)){for(var s=S.SIZEOF_SHORT;s<y;s+=S.SIZEOF_SHORT)if(this.bb.readInt16(p+s)!=this.bb.readInt16(d+s))continue e;_=this.vtables[T];break}}return _?(this.space=this.bb.capacity()-D,this.bb.writeInt32(this.space,_-D)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-D,this.offset()-D)),this.isNested=!1,D},S.Builder.prototype.finish=function(D,T,h){var y=h?S.SIZE_PREFIX_LENGTH:0;if(T){var _=T;if(this.prep(this.minalign,S.SIZEOF_INT+S.FILE_IDENTIFIER_LENGTH+y),_.length!=S.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+S.FILE_IDENTIFIER_LENGTH);for(var p=S.FILE_IDENTIFIER_LENGTH-1;p>=0;p--)this.writeInt8(_.charCodeAt(p))}this.prep(this.minalign,S.SIZEOF_INT+y),this.addOffset(D),y&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},S.Builder.prototype.finishSizePrefixed=function(D,T){this.finish(D,T,!0)},S.Builder.prototype.requiredField=function(D,T){var h=this.bb.capacity()-D,y=h-this.bb.readInt32(h);if(0==this.bb.readInt16(y+T))throw new Error("FlatBuffers: field "+T+" must be set")},S.Builder.prototype.startVector=function(D,T,h){this.notNested(),this.vector_num_elems=T,this.prep(S.SIZEOF_INT,D*T),this.prep(h,D*T)},S.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},S.Builder.prototype.createString=function(D){if(D instanceof Uint8Array)var T=D;else{T=[];for(var h=0;h<D.length;){var y,_=D.charCodeAt(h++);(y=_<55296||_>=56320?_:(_<<10)+D.charCodeAt(h++)+-56613888)<128?T.push(y):(y<2048?T.push(y>>6&31|192):(y<65536?T.push(y>>12&15|224):T.push(y>>18&7|240,y>>12&63|128),T.push(y>>6&63|128)),T.push(63&y|128))}}this.addInt8(0),this.startVector(1,T.length,1),this.bb.setPosition(this.space-=T.length),h=0;for(var p=this.space,d=this.bb.bytes();h<T.length;h++)d[p++]=T[h];return this.endVector()},S.Builder.prototype.createLong=function(D,T){return S.Long.create(D,T)},S.ByteBuffer=function(D){this.bytes_=D,this.position_=0},S.ByteBuffer.allocate=function(D){return new S.ByteBuffer(new Uint8Array(D))},S.ByteBuffer.prototype.clear=function(){this.position_=0},S.ByteBuffer.prototype.bytes=function(){return this.bytes_},S.ByteBuffer.prototype.position=function(){return this.position_},S.ByteBuffer.prototype.setPosition=function(D){this.position_=D},S.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},S.ByteBuffer.prototype.readInt8=function(D){return this.readUint8(D)<<24>>24},S.ByteBuffer.prototype.readUint8=function(D){return this.bytes_[D]},S.ByteBuffer.prototype.readInt16=function(D){return this.readUint16(D)<<16>>16},S.ByteBuffer.prototype.readUint16=function(D){return this.bytes_[D]|this.bytes_[D+1]<<8},S.ByteBuffer.prototype.readInt32=function(D){return this.bytes_[D]|this.bytes_[D+1]<<8|this.bytes_[D+2]<<16|this.bytes_[D+3]<<24},S.ByteBuffer.prototype.readUint32=function(D){return this.readInt32(D)>>>0},S.ByteBuffer.prototype.readInt64=function(D){return new S.Long(this.readInt32(D),this.readInt32(D+4))},S.ByteBuffer.prototype.readUint64=function(D){return new S.Long(this.readUint32(D),this.readUint32(D+4))},S.ByteBuffer.prototype.readFloat32=function(D){return S.int32[0]=this.readInt32(D),S.float32[0]},S.ByteBuffer.prototype.readFloat64=function(D){return S.int32[S.isLittleEndian?0:1]=this.readInt32(D),S.int32[S.isLittleEndian?1:0]=this.readInt32(D+4),S.float64[0]},S.ByteBuffer.prototype.writeInt8=function(D,T){this.bytes_[D]=T},S.ByteBuffer.prototype.writeUint8=function(D,T){this.bytes_[D]=T},S.ByteBuffer.prototype.writeInt16=function(D,T){this.bytes_[D]=T,this.bytes_[D+1]=T>>8},S.ByteBuffer.prototype.writeUint16=function(D,T){this.bytes_[D]=T,this.bytes_[D+1]=T>>8},S.ByteBuffer.prototype.writeInt32=function(D,T){this.bytes_[D]=T,this.bytes_[D+1]=T>>8,this.bytes_[D+2]=T>>16,this.bytes_[D+3]=T>>24},S.ByteBuffer.prototype.writeUint32=function(D,T){this.bytes_[D]=T,this.bytes_[D+1]=T>>8,this.bytes_[D+2]=T>>16,this.bytes_[D+3]=T>>24},S.ByteBuffer.prototype.writeInt64=function(D,T){this.writeInt32(D,T.low),this.writeInt32(D+4,T.high)},S.ByteBuffer.prototype.writeUint64=function(D,T){this.writeUint32(D,T.low),this.writeUint32(D+4,T.high)},S.ByteBuffer.prototype.writeFloat32=function(D,T){S.float32[0]=T,this.writeInt32(D,S.int32[0])},S.ByteBuffer.prototype.writeFloat64=function(D,T){S.float64[0]=T,this.writeInt32(D,S.int32[S.isLittleEndian?0:1]),this.writeInt32(D+4,S.int32[S.isLittleEndian?1:0])},S.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+S.SIZEOF_INT+S.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var D="",T=0;T<S.FILE_IDENTIFIER_LENGTH;T++)D+=String.fromCharCode(this.readInt8(this.position_+S.SIZEOF_INT+T));return D},S.ByteBuffer.prototype.__offset=function(D,T){var h=D-this.readInt32(D);return T<this.readInt16(h)?this.readInt16(h+T):0},S.ByteBuffer.prototype.__union=function(D,T){return D.bb_pos=T+this.readInt32(T),D.bb=this,D},S.ByteBuffer.prototype.__string=function(D,T){D+=this.readInt32(D);var h=this.readInt32(D),y="",_=0;if(D+=S.SIZEOF_INT,T===S.Encoding.UTF8_BYTES)return this.bytes_.subarray(D,D+h);for(;_<h;){var p,d=this.readUint8(D+_++);if(d<192)p=d;else{var s=this.readUint8(D+_++);if(d<224)p=(31&d)<<6|63&s;else{var o=this.readUint8(D+_++);p=d<240?(15&d)<<12|(63&s)<<6|63&o:(7&d)<<18|(63&s)<<12|(63&o)<<6|63&this.readUint8(D+_++)}}p<65536?y+=String.fromCharCode(p):(p-=65536,y+=String.fromCharCode(55296+(p>>10),56320+(1023&p)))}return y},S.ByteBuffer.prototype.__indirect=function(D){return D+this.readInt32(D)},S.ByteBuffer.prototype.__vector=function(D){return D+this.readInt32(D)+S.SIZEOF_INT},S.ByteBuffer.prototype.__vector_len=function(D){return this.readInt32(D+this.readInt32(D))},S.ByteBuffer.prototype.__has_identifier=function(D){if(D.length!=S.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+S.FILE_IDENTIFIER_LENGTH);for(var T=0;T<S.FILE_IDENTIFIER_LENGTH;T++)if(D.charCodeAt(T)!=this.readInt8(this.position_+S.SIZEOF_INT+T))return!1;return!0},S.ByteBuffer.prototype.createLong=function(D,T){return S.Long.create(D,T)}},3442:(q,b)=>{"use strict";b.__esModule=!0;var P=function(){function S(D){if(!D)throw new TypeError("Invalid argument; `value` has no value.");this.value=S.EMPTY,D&&S.isGuid(D)&&(this.value=D)}return S.isGuid=function(D){var T=D.toString();return D&&(D instanceof S||S.validator.test(T))},S.create=function(){return new S([S.gen(2),S.gen(1),S.gen(1),S.gen(1),S.gen(3)].join("-"))},S.createEmpty=function(){return new S("emptyguid")},S.parse=function(D){return new S(D)},S.raw=function(){return[S.gen(2),S.gen(1),S.gen(1),S.gen(1),S.gen(3)].join("-")},S.gen=function(D){for(var T="",h=0;h<D;h++)T+=(65536*(1+Math.random())|0).toString(16).substring(1);return T},S.prototype.equals=function(D){return S.isGuid(D)&&this.value===D.toString()},S.prototype.isEmpty=function(){return this.value===S.EMPTY},S.prototype.toString=function(){return this.value},S.prototype.toJSON=function(){return{value:this.value}},S.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),S.EMPTY="00000000-0000-0000-0000-000000000000",S}();b.Guid=P},3720:q=>{q.exports=P;var b=null;try{b=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function P(O,$,G){this.low=0|O,this.high=0|$,this.unsigned=!!G}function S(O){return!0===(O&&O.__isLong__)}Object.defineProperty(P.prototype,"__isLong__",{value:!0}),P.isLong=S;var D={},T={};function h(O,$){var G,z,X;return $?(X=0<=(O>>>=0)&&O<256)&&(z=T[O])?z:(G=_(O,(0|O)<0?-1:0,!0),X&&(T[O]=G),G):(X=-128<=(O|=0)&&O<128)&&(z=D[O])?z:(G=_(O,O<0?-1:0,!1),X&&(D[O]=G),G)}function y(O,$){if(isNaN(O))return $?v:m;if($){if(O<0)return v;if(O>=u)return R}else{if(O<=-l)return N;if(O+1>=l)return A}return O<0?y(-O,$).neg():_(O%o|0,O/o|0,$)}function _(O,$,G){return new P(O,$,G)}P.fromInt=h,P.fromNumber=y,P.fromBits=_;var p=Math.pow;function d(O,$,G){if(0===O.length)throw Error("empty string");if("NaN"===O||"Infinity"===O||"+Infinity"===O||"-Infinity"===O)return m;if("number"==typeof $?(G=$,$=!1):$=!!$,(G=G||10)<2||36<G)throw RangeError("radix");var z;if((z=O.indexOf("-"))>0)throw Error("interior hyphen");if(0===z)return d(O.substring(1),$,G).neg();for(var X=y(p(G,8)),Z=m,oe=0;oe<O.length;oe+=8){var B=Math.min(8,O.length-oe),K=parseInt(O.substring(oe,oe+B),G);if(B<8){var ve=y(p(G,B));Z=Z.mul(ve).add(y(K))}else Z=(Z=Z.mul(X)).add(y(K))}return Z.unsigned=$,Z}function s(O,$){return"number"==typeof O?y(O,$):"string"==typeof O?d(O,$):_(O.low,O.high,"boolean"==typeof $?$:O.unsigned)}P.fromString=d,P.fromValue=s;var o=4294967296,u=o*o,l=u/2,f=h(1<<24),m=h(0);P.ZERO=m;var v=h(0,!0);P.UZERO=v;var x=h(1);P.ONE=x;var I=h(1,!0);P.UONE=I;var C=h(-1);P.NEG_ONE=C;var A=_(-1,2147483647,!1);P.MAX_VALUE=A;var R=_(-1,-1,!0);P.MAX_UNSIGNED_VALUE=R;var N=_(0,-2147483648,!1);P.MIN_VALUE=N;var k=P.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)},k.toString=function(O){if((O=O||10)<2||36<O)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(N)){var $=y(O),G=this.div($),z=G.mul($).sub(this);return G.toString(O)+z.toInt().toString(O)}return"-"+this.neg().toString(O)}for(var X=y(p(O,6),this.unsigned),Z=this,oe="";;){var B=Z.div(X),K=(Z.sub(B.mul(X)).toInt()>>>0).toString(O);if((Z=B).isZero())return K+oe;for(;K.length<6;)K="0"+K;oe=""+K+oe}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(N)?64:this.neg().getNumBitsAbs();for(var O=0!=this.high?this.high:this.low,$=31;$>0&&!(O&1<<$);$--);return 0!=this.high?$+33:$+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1==(1&this.low)},k.isEven=function(){return 0==(1&this.low)},k.equals=function(O){return S(O)||(O=s(O)),(this.unsigned===O.unsigned||this.high>>>31!=1||O.high>>>31!=1)&&this.high===O.high&&this.low===O.low},k.eq=k.equals,k.notEquals=function(O){return!this.eq(O)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(O){return this.comp(O)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(O){return this.comp(O)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(O){return this.comp(O)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(O){return this.comp(O)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(O){if(S(O)||(O=s(O)),this.eq(O))return 0;var $=this.isNegative(),G=O.isNegative();return $&&!G?-1:!$&&G?1:this.unsigned?O.high>>>0>this.high>>>0||O.high===this.high&&O.low>>>0>this.low>>>0?-1:1:this.sub(O).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(N)?N:this.not().add(x)},k.neg=k.negate,k.add=function(O){S(O)||(O=s(O));var K=0,ve=0,re=0,_e=0;return re+=(_e+=(65535&this.low)+(65535&O.low))>>>16,ve+=(re+=(this.low>>>16)+(O.low>>>16))>>>16,K+=(ve+=(65535&this.high)+(65535&O.high))>>>16,K+=(this.high>>>16)+(O.high>>>16),_((re&=65535)<<16|(_e&=65535),(K&=65535)<<16|(ve&=65535),this.unsigned)},k.subtract=function(O){return S(O)||(O=s(O)),this.add(O.neg())},k.sub=k.subtract,k.multiply=function(O){if(this.isZero())return m;if(S(O)||(O=s(O)),b)return _(b.mul(this.low,this.high,O.low,O.high),b.get_high(),this.unsigned);if(O.isZero())return m;if(this.eq(N))return O.isOdd()?N:m;if(O.eq(N))return this.isOdd()?N:m;if(this.isNegative())return O.isNegative()?this.neg().mul(O.neg()):this.neg().mul(O).neg();if(O.isNegative())return this.mul(O.neg()).neg();if(this.lt(f)&&O.lt(f))return y(this.toNumber()*O.toNumber(),this.unsigned);var G=65535&this.high,z=this.low>>>16,X=65535&this.low,oe=65535&O.high,B=O.low>>>16,K=65535&O.low,ve=0,re=0,_e=0,we=0;return _e+=(we+=X*K)>>>16,re+=(_e+=z*K)>>>16,_e&=65535,re+=(_e+=X*B)>>>16,ve+=(re+=G*K)>>>16,re&=65535,ve+=(re+=z*B)>>>16,re&=65535,ve+=(re+=X*oe)>>>16,ve+=(this.high>>>16)*K+G*B+z*oe+X*(O.high>>>16),_((_e&=65535)<<16|(we&=65535),(ve&=65535)<<16|(re&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(O){if(S(O)||(O=s(O)),O.isZero())throw Error("division by zero");var $,G,z;if(b)return this.unsigned||-2147483648!==this.high||-1!==O.low||-1!==O.high?_((this.unsigned?b.div_u:b.div_s)(this.low,this.high,O.low,O.high),b.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:m;if(this.unsigned){if(O.unsigned||(O=O.toUnsigned()),O.gt(this))return v;if(O.gt(this.shru(1)))return I;z=v}else{if(this.eq(N))return O.eq(x)||O.eq(C)?N:O.eq(N)?x:($=this.shr(1).div(O).shl(1)).eq(m)?O.isNegative()?x:C:(G=this.sub(O.mul($)),z=$.add(G.div(O)));if(O.eq(N))return this.unsigned?v:m;if(this.isNegative())return O.isNegative()?this.neg().div(O.neg()):this.neg().div(O).neg();if(O.isNegative())return this.div(O.neg()).neg();z=m}for(G=this;G.gte(O);){$=Math.max(1,Math.floor(G.toNumber()/O.toNumber()));for(var X=Math.ceil(Math.log($)/Math.LN2),Z=X<=48?1:p(2,X-48),oe=y($),B=oe.mul(O);B.isNegative()||B.gt(G);)B=(oe=y($-=Z,this.unsigned)).mul(O);oe.isZero()&&(oe=x),z=z.add(oe),G=G.sub(B)}return z},k.div=k.divide,k.modulo=function(O){return S(O)||(O=s(O)),b?_((this.unsigned?b.rem_u:b.rem_s)(this.low,this.high,O.low,O.high),b.get_high(),this.unsigned):this.sub(this.div(O).mul(O))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return _(~this.low,~this.high,this.unsigned)},k.and=function(O){return S(O)||(O=s(O)),_(this.low&O.low,this.high&O.high,this.unsigned)},k.or=function(O){return S(O)||(O=s(O)),_(this.low|O.low,this.high|O.high,this.unsigned)},k.xor=function(O){return S(O)||(O=s(O)),_(this.low^O.low,this.high^O.high,this.unsigned)},k.shiftLeft=function(O){return S(O)&&(O=O.toInt()),0==(O&=63)?this:O<32?_(this.low<<O,this.high<<O|this.low>>>32-O,this.unsigned):_(0,this.low<<O-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(O){return S(O)&&(O=O.toInt()),0==(O&=63)?this:O<32?_(this.low>>>O|this.high<<32-O,this.high>>O,this.unsigned):_(this.high>>O-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(O){if(S(O)&&(O=O.toInt()),0==(O&=63))return this;var $=this.high;return O<32?_(this.low>>>O|$<<32-O,$>>>O,this.unsigned):_(32===O?$:$>>>O-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?_(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:_(this.low,this.high,!0)},k.toBytes=function(O){return O?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var O=this.high,$=this.low;return[255&$,$>>>8&255,$>>>16&255,$>>>24,255&O,O>>>8&255,O>>>16&255,O>>>24]},k.toBytesBE=function(){var O=this.high,$=this.low;return[O>>>24,O>>>16&255,O>>>8&255,255&O,$>>>24,$>>>16&255,$>>>8&255,255&$]},P.fromBytes=function(O,$,G){return G?P.fromBytesLE(O,$):P.fromBytesBE(O,$)},P.fromBytesLE=function(O,$){return new P(O[0]|O[1]<<8|O[2]<<16|O[3]<<24,O[4]|O[5]<<8|O[6]<<16|O[7]<<24,$)},P.fromBytesBE=function(O,$){return new P(O[4]<<24|O[5]<<16|O[6]<<8|O[7],O[0]<<24|O[1]<<16|O[2]<<8|O[3],$)}},1446:(q,b,P)=>{"use strict";var S,D,T,h=P(2100),y=h.Reader,_=h.Writer,p=h.util,d=h.roots.default||(h.roots.default={});d.onnx=((T={}).Version=(S={},(D=Object.create(S))[S[0]="_START_VERSION"]=0,D[S[1]="IR_VERSION_2017_10_10"]=1,D[S[2]="IR_VERSION_2017_10_30"]=2,D[S[3]="IR_VERSION_2017_11_3"]=3,D[S[4]="IR_VERSION_2019_1_22"]=4,D[S[5]="IR_VERSION"]=5,D),T.AttributeProto=function(){function s(o){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.name="",s.prototype.refAttrName="",s.prototype.docString="",s.prototype.type=0,s.prototype.f=0,s.prototype.i=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.s=p.newBuffer([]),s.prototype.t=null,s.prototype.g=null,s.prototype.floats=p.emptyArray,s.prototype.ints=p.emptyArray,s.prototype.strings=p.emptyArray,s.prototype.tensors=p.emptyArray,s.prototype.graphs=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.name&&o.hasOwnProperty("name")&&u.uint32(10).string(o.name),null!=o.f&&o.hasOwnProperty("f")&&u.uint32(21).float(o.f),null!=o.i&&o.hasOwnProperty("i")&&u.uint32(24).int64(o.i),null!=o.s&&o.hasOwnProperty("s")&&u.uint32(34).bytes(o.s),null!=o.t&&o.hasOwnProperty("t")&&d.onnx.TensorProto.encode(o.t,u.uint32(42).fork()).ldelim(),null!=o.g&&o.hasOwnProperty("g")&&d.onnx.GraphProto.encode(o.g,u.uint32(50).fork()).ldelim(),null!=o.floats&&o.floats.length){u.uint32(58).fork();for(var l=0;l<o.floats.length;++l)u.float(o.floats[l]);u.ldelim()}if(null!=o.ints&&o.ints.length){for(u.uint32(66).fork(),l=0;l<o.ints.length;++l)u.int64(o.ints[l]);u.ldelim()}if(null!=o.strings&&o.strings.length)for(l=0;l<o.strings.length;++l)u.uint32(74).bytes(o.strings[l]);if(null!=o.tensors&&o.tensors.length)for(l=0;l<o.tensors.length;++l)d.onnx.TensorProto.encode(o.tensors[l],u.uint32(82).fork()).ldelim();if(null!=o.graphs&&o.graphs.length)for(l=0;l<o.graphs.length;++l)d.onnx.GraphProto.encode(o.graphs[l],u.uint32(90).fork()).ldelim();return null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(106).string(o.docString),null!=o.type&&o.hasOwnProperty("type")&&u.uint32(160).int32(o.type),null!=o.refAttrName&&o.hasOwnProperty("refAttrName")&&u.uint32(170).string(o.refAttrName),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.AttributeProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.name=o.string();break;case 21:f.refAttrName=o.string();break;case 13:f.docString=o.string();break;case 20:f.type=o.int32();break;case 2:f.f=o.float();break;case 3:f.i=o.int64();break;case 4:f.s=o.bytes();break;case 5:f.t=d.onnx.TensorProto.decode(o,o.uint32());break;case 6:f.g=d.onnx.GraphProto.decode(o,o.uint32());break;case 7:if(f.floats&&f.floats.length||(f.floats=[]),2==(7&m))for(var v=o.uint32()+o.pos;o.pos<v;)f.floats.push(o.float());else f.floats.push(o.float());break;case 8:if(f.ints&&f.ints.length||(f.ints=[]),2==(7&m))for(v=o.uint32()+o.pos;o.pos<v;)f.ints.push(o.int64());else f.ints.push(o.int64());break;case 9:f.strings&&f.strings.length||(f.strings=[]),f.strings.push(o.bytes());break;case 10:f.tensors&&f.tensors.length||(f.tensors=[]),f.tensors.push(d.onnx.TensorProto.decode(o,o.uint32()));break;case 11:f.graphs&&f.graphs.length||(f.graphs=[]),f.graphs.push(d.onnx.GraphProto.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.refAttrName&&o.hasOwnProperty("refAttrName")&&!p.isString(o.refAttrName))return"refAttrName: string expected";if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.type&&o.hasOwnProperty("type"))switch(o.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(null!=o.f&&o.hasOwnProperty("f")&&"number"!=typeof o.f)return"f: number expected";if(null!=o.i&&o.hasOwnProperty("i")&&!(p.isInteger(o.i)||o.i&&p.isInteger(o.i.low)&&p.isInteger(o.i.high)))return"i: integer|Long expected";if(null!=o.s&&o.hasOwnProperty("s")&&!(o.s&&"number"==typeof o.s.length||p.isString(o.s)))return"s: buffer expected";if(null!=o.t&&o.hasOwnProperty("t")&&(l=d.onnx.TensorProto.verify(o.t)))return"t."+l;if(null!=o.g&&o.hasOwnProperty("g")&&(l=d.onnx.GraphProto.verify(o.g)))return"g."+l;if(null!=o.floats&&o.hasOwnProperty("floats")){if(!Array.isArray(o.floats))return"floats: array expected";for(var u=0;u<o.floats.length;++u)if("number"!=typeof o.floats[u])return"floats: number[] expected"}if(null!=o.ints&&o.hasOwnProperty("ints")){if(!Array.isArray(o.ints))return"ints: array expected";for(u=0;u<o.ints.length;++u)if(!(p.isInteger(o.ints[u])||o.ints[u]&&p.isInteger(o.ints[u].low)&&p.isInteger(o.ints[u].high)))return"ints: integer|Long[] expected"}if(null!=o.strings&&o.hasOwnProperty("strings")){if(!Array.isArray(o.strings))return"strings: array expected";for(u=0;u<o.strings.length;++u)if(!(o.strings[u]&&"number"==typeof o.strings[u].length||p.isString(o.strings[u])))return"strings: buffer[] expected"}if(null!=o.tensors&&o.hasOwnProperty("tensors")){if(!Array.isArray(o.tensors))return"tensors: array expected";for(u=0;u<o.tensors.length;++u)if(l=d.onnx.TensorProto.verify(o.tensors[u]))return"tensors."+l}if(null!=o.graphs&&o.hasOwnProperty("graphs")){if(!Array.isArray(o.graphs))return"graphs: array expected";for(u=0;u<o.graphs.length;++u){var l;if(l=d.onnx.GraphProto.verify(o.graphs[u]))return"graphs."+l}}return null},s.fromObject=function(o){if(o instanceof d.onnx.AttributeProto)return o;var u=new d.onnx.AttributeProto;switch(null!=o.name&&(u.name=String(o.name)),null!=o.refAttrName&&(u.refAttrName=String(o.refAttrName)),null!=o.docString&&(u.docString=String(o.docString)),o.type){case"UNDEFINED":case 0:u.type=0;break;case"FLOAT":case 1:u.type=1;break;case"INT":case 2:u.type=2;break;case"STRING":case 3:u.type=3;break;case"TENSOR":case 4:u.type=4;break;case"GRAPH":case 5:u.type=5;break;case"FLOATS":case 6:u.type=6;break;case"INTS":case 7:u.type=7;break;case"STRINGS":case 8:u.type=8;break;case"TENSORS":case 9:u.type=9;break;case"GRAPHS":case 10:u.type=10}if(null!=o.f&&(u.f=Number(o.f)),null!=o.i&&(p.Long?(u.i=p.Long.fromValue(o.i)).unsigned=!1:"string"==typeof o.i?u.i=parseInt(o.i,10):"number"==typeof o.i?u.i=o.i:"object"==typeof o.i&&(u.i=new p.LongBits(o.i.low>>>0,o.i.high>>>0).toNumber())),null!=o.s&&("string"==typeof o.s?p.base64.decode(o.s,u.s=p.newBuffer(p.base64.length(o.s)),0):o.s.length&&(u.s=o.s)),null!=o.t){if("object"!=typeof o.t)throw TypeError(".onnx.AttributeProto.t: object expected");u.t=d.onnx.TensorProto.fromObject(o.t)}if(null!=o.g){if("object"!=typeof o.g)throw TypeError(".onnx.AttributeProto.g: object expected");u.g=d.onnx.GraphProto.fromObject(o.g)}if(o.floats){if(!Array.isArray(o.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");u.floats=[];for(var l=0;l<o.floats.length;++l)u.floats[l]=Number(o.floats[l])}if(o.ints){if(!Array.isArray(o.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(u.ints=[],l=0;l<o.ints.length;++l)p.Long?(u.ints[l]=p.Long.fromValue(o.ints[l])).unsigned=!1:"string"==typeof o.ints[l]?u.ints[l]=parseInt(o.ints[l],10):"number"==typeof o.ints[l]?u.ints[l]=o.ints[l]:"object"==typeof o.ints[l]&&(u.ints[l]=new p.LongBits(o.ints[l].low>>>0,o.ints[l].high>>>0).toNumber())}if(o.strings){if(!Array.isArray(o.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(u.strings=[],l=0;l<o.strings.length;++l)"string"==typeof o.strings[l]?p.base64.decode(o.strings[l],u.strings[l]=p.newBuffer(p.base64.length(o.strings[l])),0):o.strings[l].length&&(u.strings[l]=o.strings[l])}if(o.tensors){if(!Array.isArray(o.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(u.tensors=[],l=0;l<o.tensors.length;++l){if("object"!=typeof o.tensors[l])throw TypeError(".onnx.AttributeProto.tensors: object expected");u.tensors[l]=d.onnx.TensorProto.fromObject(o.tensors[l])}}if(o.graphs){if(!Array.isArray(o.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(u.graphs=[],l=0;l<o.graphs.length;++l){if("object"!=typeof o.graphs[l])throw TypeError(".onnx.AttributeProto.graphs: object expected");u.graphs[l]=d.onnx.GraphProto.fromObject(o.graphs[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.floats=[],l.ints=[],l.strings=[],l.tensors=[],l.graphs=[]),u.defaults){if(l.name="",l.f=0,p.Long){var f=new p.Long(0,0,!1);l.i=u.longs===String?f.toString():u.longs===Number?f.toNumber():f}else l.i=u.longs===String?"0":0;u.bytes===String?l.s="":(l.s=[],u.bytes!==Array&&(l.s=p.newBuffer(l.s))),l.t=null,l.g=null,l.docString="",l.type=u.enums===String?"UNDEFINED":0,l.refAttrName=""}if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.f&&o.hasOwnProperty("f")&&(l.f=u.json&&!isFinite(o.f)?String(o.f):o.f),null!=o.i&&o.hasOwnProperty("i")&&(l.i="number"==typeof o.i?u.longs===String?String(o.i):o.i:u.longs===String?p.Long.prototype.toString.call(o.i):u.longs===Number?new p.LongBits(o.i.low>>>0,o.i.high>>>0).toNumber():o.i),null!=o.s&&o.hasOwnProperty("s")&&(l.s=u.bytes===String?p.base64.encode(o.s,0,o.s.length):u.bytes===Array?Array.prototype.slice.call(o.s):o.s),null!=o.t&&o.hasOwnProperty("t")&&(l.t=d.onnx.TensorProto.toObject(o.t,u)),null!=o.g&&o.hasOwnProperty("g")&&(l.g=d.onnx.GraphProto.toObject(o.g,u)),o.floats&&o.floats.length){l.floats=[];for(var m=0;m<o.floats.length;++m)l.floats[m]=u.json&&!isFinite(o.floats[m])?String(o.floats[m]):o.floats[m]}if(o.ints&&o.ints.length)for(l.ints=[],m=0;m<o.ints.length;++m)l.ints[m]="number"==typeof o.ints[m]?u.longs===String?String(o.ints[m]):o.ints[m]:u.longs===String?p.Long.prototype.toString.call(o.ints[m]):u.longs===Number?new p.LongBits(o.ints[m].low>>>0,o.ints[m].high>>>0).toNumber():o.ints[m];if(o.strings&&o.strings.length)for(l.strings=[],m=0;m<o.strings.length;++m)l.strings[m]=u.bytes===String?p.base64.encode(o.strings[m],0,o.strings[m].length):u.bytes===Array?Array.prototype.slice.call(o.strings[m]):o.strings[m];if(o.tensors&&o.tensors.length)for(l.tensors=[],m=0;m<o.tensors.length;++m)l.tensors[m]=d.onnx.TensorProto.toObject(o.tensors[m],u);if(o.graphs&&o.graphs.length)for(l.graphs=[],m=0;m<o.graphs.length;++m)l.graphs[m]=d.onnx.GraphProto.toObject(o.graphs[m],u);return null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),null!=o.type&&o.hasOwnProperty("type")&&(l.type=u.enums===String?d.onnx.AttributeProto.AttributeType[o.type]:o.type),null!=o.refAttrName&&o.hasOwnProperty("refAttrName")&&(l.refAttrName=o.refAttrName),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s.AttributeType=(o={},(u=Object.create(o))[o[0]="UNDEFINED"]=0,u[o[1]="FLOAT"]=1,u[o[2]="INT"]=2,u[o[3]="STRING"]=3,u[o[4]="TENSOR"]=4,u[o[5]="GRAPH"]=5,u[o[6]="FLOATS"]=6,u[o[7]="INTS"]=7,u[o[8]="STRINGS"]=8,u[o[9]="TENSORS"]=9,u[o[10]="GRAPHS"]=10,u),s;var o,u}(),T.ValueInfoProto=function(){function s(o){if(o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.name="",s.prototype.type=null,s.prototype.docString="",s.create=function(o){return new s(o)},s.encode=function(o,u){return u||(u=_.create()),null!=o.name&&o.hasOwnProperty("name")&&u.uint32(10).string(o.name),null!=o.type&&o.hasOwnProperty("type")&&d.onnx.TypeProto.encode(o.type,u.uint32(18).fork()).ldelim(),null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(26).string(o.docString),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.ValueInfoProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.name=o.string();break;case 2:f.type=d.onnx.TypeProto.decode(o,o.uint32());break;case 3:f.docString=o.string();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.type&&o.hasOwnProperty("type")){var u=d.onnx.TypeProto.verify(o.type);if(u)return"type."+u}return null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString)?"docString: string expected":null},s.fromObject=function(o){if(o instanceof d.onnx.ValueInfoProto)return o;var u=new d.onnx.ValueInfoProto;if(null!=o.name&&(u.name=String(o.name)),null!=o.type){if("object"!=typeof o.type)throw TypeError(".onnx.ValueInfoProto.type: object expected");u.type=d.onnx.TypeProto.fromObject(o.type)}return null!=o.docString&&(u.docString=String(o.docString)),u},s.toObject=function(o,u){u||(u={});var l={};return u.defaults&&(l.name="",l.type=null,l.docString=""),null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.type&&o.hasOwnProperty("type")&&(l.type=d.onnx.TypeProto.toObject(o.type,u)),null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T.NodeProto=function(){function s(o){if(this.input=[],this.output=[],this.attribute=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.input=p.emptyArray,s.prototype.output=p.emptyArray,s.prototype.name="",s.prototype.opType="",s.prototype.domain="",s.prototype.attribute=p.emptyArray,s.prototype.docString="",s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.input&&o.input.length)for(var l=0;l<o.input.length;++l)u.uint32(10).string(o.input[l]);if(null!=o.output&&o.output.length)for(l=0;l<o.output.length;++l)u.uint32(18).string(o.output[l]);if(null!=o.name&&o.hasOwnProperty("name")&&u.uint32(26).string(o.name),null!=o.opType&&o.hasOwnProperty("opType")&&u.uint32(34).string(o.opType),null!=o.attribute&&o.attribute.length)for(l=0;l<o.attribute.length;++l)d.onnx.AttributeProto.encode(o.attribute[l],u.uint32(42).fork()).ldelim();return null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(50).string(o.docString),null!=o.domain&&o.hasOwnProperty("domain")&&u.uint32(58).string(o.domain),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.NodeProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.input&&f.input.length||(f.input=[]),f.input.push(o.string());break;case 2:f.output&&f.output.length||(f.output=[]),f.output.push(o.string());break;case 3:f.name=o.string();break;case 4:f.opType=o.string();break;case 7:f.domain=o.string();break;case 5:f.attribute&&f.attribute.length||(f.attribute=[]),f.attribute.push(d.onnx.AttributeProto.decode(o,o.uint32()));break;case 6:f.docString=o.string();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.input&&o.hasOwnProperty("input")){if(!Array.isArray(o.input))return"input: array expected";for(var u=0;u<o.input.length;++u)if(!p.isString(o.input[u]))return"input: string[] expected"}if(null!=o.output&&o.hasOwnProperty("output")){if(!Array.isArray(o.output))return"output: array expected";for(u=0;u<o.output.length;++u)if(!p.isString(o.output[u]))return"output: string[] expected"}if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.opType&&o.hasOwnProperty("opType")&&!p.isString(o.opType))return"opType: string expected";if(null!=o.domain&&o.hasOwnProperty("domain")&&!p.isString(o.domain))return"domain: string expected";if(null!=o.attribute&&o.hasOwnProperty("attribute")){if(!Array.isArray(o.attribute))return"attribute: array expected";for(u=0;u<o.attribute.length;++u){var l=d.onnx.AttributeProto.verify(o.attribute[u]);if(l)return"attribute."+l}}return null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString)?"docString: string expected":null},s.fromObject=function(o){if(o instanceof d.onnx.NodeProto)return o;var u=new d.onnx.NodeProto;if(o.input){if(!Array.isArray(o.input))throw TypeError(".onnx.NodeProto.input: array expected");u.input=[];for(var l=0;l<o.input.length;++l)u.input[l]=String(o.input[l])}if(o.output){if(!Array.isArray(o.output))throw TypeError(".onnx.NodeProto.output: array expected");for(u.output=[],l=0;l<o.output.length;++l)u.output[l]=String(o.output[l])}if(null!=o.name&&(u.name=String(o.name)),null!=o.opType&&(u.opType=String(o.opType)),null!=o.domain&&(u.domain=String(o.domain)),o.attribute){if(!Array.isArray(o.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(u.attribute=[],l=0;l<o.attribute.length;++l){if("object"!=typeof o.attribute[l])throw TypeError(".onnx.NodeProto.attribute: object expected");u.attribute[l]=d.onnx.AttributeProto.fromObject(o.attribute[l])}}return null!=o.docString&&(u.docString=String(o.docString)),u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.input=[],l.output=[],l.attribute=[]),u.defaults&&(l.name="",l.opType="",l.docString="",l.domain=""),o.input&&o.input.length){l.input=[];for(var f=0;f<o.input.length;++f)l.input[f]=o.input[f]}if(o.output&&o.output.length)for(l.output=[],f=0;f<o.output.length;++f)l.output[f]=o.output[f];if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.opType&&o.hasOwnProperty("opType")&&(l.opType=o.opType),o.attribute&&o.attribute.length)for(l.attribute=[],f=0;f<o.attribute.length;++f)l.attribute[f]=d.onnx.AttributeProto.toObject(o.attribute[f],u);return null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),null!=o.domain&&o.hasOwnProperty("domain")&&(l.domain=o.domain),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T.ModelProto=function(){function s(o){if(this.opsetImport=[],this.metadataProps=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.irVersion=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.opsetImport=p.emptyArray,s.prototype.producerName="",s.prototype.producerVersion="",s.prototype.domain="",s.prototype.modelVersion=p.Long?p.Long.fromBits(0,0,!1):0,s.prototype.docString="",s.prototype.graph=null,s.prototype.metadataProps=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.irVersion&&o.hasOwnProperty("irVersion")&&u.uint32(8).int64(o.irVersion),null!=o.producerName&&o.hasOwnProperty("producerName")&&u.uint32(18).string(o.producerName),null!=o.producerVersion&&o.hasOwnProperty("producerVersion")&&u.uint32(26).string(o.producerVersion),null!=o.domain&&o.hasOwnProperty("domain")&&u.uint32(34).string(o.domain),null!=o.modelVersion&&o.hasOwnProperty("modelVersion")&&u.uint32(40).int64(o.modelVersion),null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(50).string(o.docString),null!=o.graph&&o.hasOwnProperty("graph")&&d.onnx.GraphProto.encode(o.graph,u.uint32(58).fork()).ldelim(),null!=o.opsetImport&&o.opsetImport.length)for(var l=0;l<o.opsetImport.length;++l)d.onnx.OperatorSetIdProto.encode(o.opsetImport[l],u.uint32(66).fork()).ldelim();if(null!=o.metadataProps&&o.metadataProps.length)for(l=0;l<o.metadataProps.length;++l)d.onnx.StringStringEntryProto.encode(o.metadataProps[l],u.uint32(114).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.ModelProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.irVersion=o.int64();break;case 8:f.opsetImport&&f.opsetImport.length||(f.opsetImport=[]),f.opsetImport.push(d.onnx.OperatorSetIdProto.decode(o,o.uint32()));break;case 2:f.producerName=o.string();break;case 3:f.producerVersion=o.string();break;case 4:f.domain=o.string();break;case 5:f.modelVersion=o.int64();break;case 6:f.docString=o.string();break;case 7:f.graph=d.onnx.GraphProto.decode(o,o.uint32());break;case 14:f.metadataProps&&f.metadataProps.length||(f.metadataProps=[]),f.metadataProps.push(d.onnx.StringStringEntryProto.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.irVersion&&o.hasOwnProperty("irVersion")&&!(p.isInteger(o.irVersion)||o.irVersion&&p.isInteger(o.irVersion.low)&&p.isInteger(o.irVersion.high)))return"irVersion: integer|Long expected";if(null!=o.opsetImport&&o.hasOwnProperty("opsetImport")){if(!Array.isArray(o.opsetImport))return"opsetImport: array expected";for(var u=0;u<o.opsetImport.length;++u)if(l=d.onnx.OperatorSetIdProto.verify(o.opsetImport[u]))return"opsetImport."+l}if(null!=o.producerName&&o.hasOwnProperty("producerName")&&!p.isString(o.producerName))return"producerName: string expected";if(null!=o.producerVersion&&o.hasOwnProperty("producerVersion")&&!p.isString(o.producerVersion))return"producerVersion: string expected";if(null!=o.domain&&o.hasOwnProperty("domain")&&!p.isString(o.domain))return"domain: string expected";if(null!=o.modelVersion&&o.hasOwnProperty("modelVersion")&&!(p.isInteger(o.modelVersion)||o.modelVersion&&p.isInteger(o.modelVersion.low)&&p.isInteger(o.modelVersion.high)))return"modelVersion: integer|Long expected";if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.graph&&o.hasOwnProperty("graph")&&(l=d.onnx.GraphProto.verify(o.graph)))return"graph."+l;if(null!=o.metadataProps&&o.hasOwnProperty("metadataProps")){if(!Array.isArray(o.metadataProps))return"metadataProps: array expected";for(u=0;u<o.metadataProps.length;++u){var l;if(l=d.onnx.StringStringEntryProto.verify(o.metadataProps[u]))return"metadataProps."+l}}return null},s.fromObject=function(o){if(o instanceof d.onnx.ModelProto)return o;var u=new d.onnx.ModelProto;if(null!=o.irVersion&&(p.Long?(u.irVersion=p.Long.fromValue(o.irVersion)).unsigned=!1:"string"==typeof o.irVersion?u.irVersion=parseInt(o.irVersion,10):"number"==typeof o.irVersion?u.irVersion=o.irVersion:"object"==typeof o.irVersion&&(u.irVersion=new p.LongBits(o.irVersion.low>>>0,o.irVersion.high>>>0).toNumber())),o.opsetImport){if(!Array.isArray(o.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");u.opsetImport=[];for(var l=0;l<o.opsetImport.length;++l){if("object"!=typeof o.opsetImport[l])throw TypeError(".onnx.ModelProto.opsetImport: object expected");u.opsetImport[l]=d.onnx.OperatorSetIdProto.fromObject(o.opsetImport[l])}}if(null!=o.producerName&&(u.producerName=String(o.producerName)),null!=o.producerVersion&&(u.producerVersion=String(o.producerVersion)),null!=o.domain&&(u.domain=String(o.domain)),null!=o.modelVersion&&(p.Long?(u.modelVersion=p.Long.fromValue(o.modelVersion)).unsigned=!1:"string"==typeof o.modelVersion?u.modelVersion=parseInt(o.modelVersion,10):"number"==typeof o.modelVersion?u.modelVersion=o.modelVersion:"object"==typeof o.modelVersion&&(u.modelVersion=new p.LongBits(o.modelVersion.low>>>0,o.modelVersion.high>>>0).toNumber())),null!=o.docString&&(u.docString=String(o.docString)),null!=o.graph){if("object"!=typeof o.graph)throw TypeError(".onnx.ModelProto.graph: object expected");u.graph=d.onnx.GraphProto.fromObject(o.graph)}if(o.metadataProps){if(!Array.isArray(o.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(u.metadataProps=[],l=0;l<o.metadataProps.length;++l){if("object"!=typeof o.metadataProps[l])throw TypeError(".onnx.ModelProto.metadataProps: object expected");u.metadataProps[l]=d.onnx.StringStringEntryProto.fromObject(o.metadataProps[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.opsetImport=[],l.metadataProps=[]),u.defaults){if(p.Long){var f=new p.Long(0,0,!1);l.irVersion=u.longs===String?f.toString():u.longs===Number?f.toNumber():f}else l.irVersion=u.longs===String?"0":0;l.producerName="",l.producerVersion="",l.domain="",p.Long?(f=new p.Long(0,0,!1),l.modelVersion=u.longs===String?f.toString():u.longs===Number?f.toNumber():f):l.modelVersion=u.longs===String?"0":0,l.docString="",l.graph=null}if(null!=o.irVersion&&o.hasOwnProperty("irVersion")&&(l.irVersion="number"==typeof o.irVersion?u.longs===String?String(o.irVersion):o.irVersion:u.longs===String?p.Long.prototype.toString.call(o.irVersion):u.longs===Number?new p.LongBits(o.irVersion.low>>>0,o.irVersion.high>>>0).toNumber():o.irVersion),null!=o.producerName&&o.hasOwnProperty("producerName")&&(l.producerName=o.producerName),null!=o.producerVersion&&o.hasOwnProperty("producerVersion")&&(l.producerVersion=o.producerVersion),null!=o.domain&&o.hasOwnProperty("domain")&&(l.domain=o.domain),null!=o.modelVersion&&o.hasOwnProperty("modelVersion")&&(l.modelVersion="number"==typeof o.modelVersion?u.longs===String?String(o.modelVersion):o.modelVersion:u.longs===String?p.Long.prototype.toString.call(o.modelVersion):u.longs===Number?new p.LongBits(o.modelVersion.low>>>0,o.modelVersion.high>>>0).toNumber():o.modelVersion),null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),null!=o.graph&&o.hasOwnProperty("graph")&&(l.graph=d.onnx.GraphProto.toObject(o.graph,u)),o.opsetImport&&o.opsetImport.length){l.opsetImport=[];for(var m=0;m<o.opsetImport.length;++m)l.opsetImport[m]=d.onnx.OperatorSetIdProto.toObject(o.opsetImport[m],u)}if(o.metadataProps&&o.metadataProps.length)for(l.metadataProps=[],m=0;m<o.metadataProps.length;++m)l.metadataProps[m]=d.onnx.StringStringEntryProto.toObject(o.metadataProps[m],u);return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T.StringStringEntryProto=function(){function s(o){if(o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.key="",s.prototype.value="",s.create=function(o){return new s(o)},s.encode=function(o,u){return u||(u=_.create()),null!=o.key&&o.hasOwnProperty("key")&&u.uint32(10).string(o.key),null!=o.value&&o.hasOwnProperty("value")&&u.uint32(18).string(o.value),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.StringStringEntryProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.key=o.string();break;case 2:f.value=o.string();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){return"object"!=typeof o||null===o?"object expected":null!=o.key&&o.hasOwnProperty("key")&&!p.isString(o.key)?"key: string expected":null!=o.value&&o.hasOwnProperty("value")&&!p.isString(o.value)?"value: string expected":null},s.fromObject=function(o){if(o instanceof d.onnx.StringStringEntryProto)return o;var u=new d.onnx.StringStringEntryProto;return null!=o.key&&(u.key=String(o.key)),null!=o.value&&(u.value=String(o.value)),u},s.toObject=function(o,u){u||(u={});var l={};return u.defaults&&(l.key="",l.value=""),null!=o.key&&o.hasOwnProperty("key")&&(l.key=o.key),null!=o.value&&o.hasOwnProperty("value")&&(l.value=o.value),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T.TensorAnnotation=function(){function s(o){if(this.quantParameterTensorNames=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.tensorName="",s.prototype.quantParameterTensorNames=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.tensorName&&o.hasOwnProperty("tensorName")&&u.uint32(10).string(o.tensorName),null!=o.quantParameterTensorNames&&o.quantParameterTensorNames.length)for(var l=0;l<o.quantParameterTensorNames.length;++l)d.onnx.StringStringEntryProto.encode(o.quantParameterTensorNames[l],u.uint32(18).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.TensorAnnotation;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.tensorName=o.string();break;case 2:f.quantParameterTensorNames&&f.quantParameterTensorNames.length||(f.quantParameterTensorNames=[]),f.quantParameterTensorNames.push(d.onnx.StringStringEntryProto.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.tensorName&&o.hasOwnProperty("tensorName")&&!p.isString(o.tensorName))return"tensorName: string expected";if(null!=o.quantParameterTensorNames&&o.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(o.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var u=0;u<o.quantParameterTensorNames.length;++u){var l=d.onnx.StringStringEntryProto.verify(o.quantParameterTensorNames[u]);if(l)return"quantParameterTensorNames."+l}}return null},s.fromObject=function(o){if(o instanceof d.onnx.TensorAnnotation)return o;var u=new d.onnx.TensorAnnotation;if(null!=o.tensorName&&(u.tensorName=String(o.tensorName)),o.quantParameterTensorNames){if(!Array.isArray(o.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");u.quantParameterTensorNames=[];for(var l=0;l<o.quantParameterTensorNames.length;++l){if("object"!=typeof o.quantParameterTensorNames[l])throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");u.quantParameterTensorNames[l]=d.onnx.StringStringEntryProto.fromObject(o.quantParameterTensorNames[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.quantParameterTensorNames=[]),u.defaults&&(l.tensorName=""),null!=o.tensorName&&o.hasOwnProperty("tensorName")&&(l.tensorName=o.tensorName),o.quantParameterTensorNames&&o.quantParameterTensorNames.length){l.quantParameterTensorNames=[];for(var f=0;f<o.quantParameterTensorNames.length;++f)l.quantParameterTensorNames[f]=d.onnx.StringStringEntryProto.toObject(o.quantParameterTensorNames[f],u)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T.GraphProto=function(){function s(o){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.node=p.emptyArray,s.prototype.name="",s.prototype.initializer=p.emptyArray,s.prototype.docString="",s.prototype.input=p.emptyArray,s.prototype.output=p.emptyArray,s.prototype.valueInfo=p.emptyArray,s.prototype.quantizationAnnotation=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.node&&o.node.length)for(var l=0;l<o.node.length;++l)d.onnx.NodeProto.encode(o.node[l],u.uint32(10).fork()).ldelim();if(null!=o.name&&o.hasOwnProperty("name")&&u.uint32(18).string(o.name),null!=o.initializer&&o.initializer.length)for(l=0;l<o.initializer.length;++l)d.onnx.TensorProto.encode(o.initializer[l],u.uint32(42).fork()).ldelim();if(null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(82).string(o.docString),null!=o.input&&o.input.length)for(l=0;l<o.input.length;++l)d.onnx.ValueInfoProto.encode(o.input[l],u.uint32(90).fork()).ldelim();if(null!=o.output&&o.output.length)for(l=0;l<o.output.length;++l)d.onnx.ValueInfoProto.encode(o.output[l],u.uint32(98).fork()).ldelim();if(null!=o.valueInfo&&o.valueInfo.length)for(l=0;l<o.valueInfo.length;++l)d.onnx.ValueInfoProto.encode(o.valueInfo[l],u.uint32(106).fork()).ldelim();if(null!=o.quantizationAnnotation&&o.quantizationAnnotation.length)for(l=0;l<o.quantizationAnnotation.length;++l)d.onnx.TensorAnnotation.encode(o.quantizationAnnotation[l],u.uint32(114).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.GraphProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.node&&f.node.length||(f.node=[]),f.node.push(d.onnx.NodeProto.decode(o,o.uint32()));break;case 2:f.name=o.string();break;case 5:f.initializer&&f.initializer.length||(f.initializer=[]),f.initializer.push(d.onnx.TensorProto.decode(o,o.uint32()));break;case 10:f.docString=o.string();break;case 11:f.input&&f.input.length||(f.input=[]),f.input.push(d.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 12:f.output&&f.output.length||(f.output=[]),f.output.push(d.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 13:f.valueInfo&&f.valueInfo.length||(f.valueInfo=[]),f.valueInfo.push(d.onnx.ValueInfoProto.decode(o,o.uint32()));break;case 14:f.quantizationAnnotation&&f.quantizationAnnotation.length||(f.quantizationAnnotation=[]),f.quantizationAnnotation.push(d.onnx.TensorAnnotation.decode(o,o.uint32()));break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.node&&o.hasOwnProperty("node")){if(!Array.isArray(o.node))return"node: array expected";for(var u=0;u<o.node.length;++u)if(l=d.onnx.NodeProto.verify(o.node[u]))return"node."+l}if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.initializer&&o.hasOwnProperty("initializer")){if(!Array.isArray(o.initializer))return"initializer: array expected";for(u=0;u<o.initializer.length;++u)if(l=d.onnx.TensorProto.verify(o.initializer[u]))return"initializer."+l}if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.input&&o.hasOwnProperty("input")){if(!Array.isArray(o.input))return"input: array expected";for(u=0;u<o.input.length;++u)if(l=d.onnx.ValueInfoProto.verify(o.input[u]))return"input."+l}if(null!=o.output&&o.hasOwnProperty("output")){if(!Array.isArray(o.output))return"output: array expected";for(u=0;u<o.output.length;++u)if(l=d.onnx.ValueInfoProto.verify(o.output[u]))return"output."+l}if(null!=o.valueInfo&&o.hasOwnProperty("valueInfo")){if(!Array.isArray(o.valueInfo))return"valueInfo: array expected";for(u=0;u<o.valueInfo.length;++u)if(l=d.onnx.ValueInfoProto.verify(o.valueInfo[u]))return"valueInfo."+l}if(null!=o.quantizationAnnotation&&o.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(o.quantizationAnnotation))return"quantizationAnnotation: array expected";for(u=0;u<o.quantizationAnnotation.length;++u){var l;if(l=d.onnx.TensorAnnotation.verify(o.quantizationAnnotation[u]))return"quantizationAnnotation."+l}}return null},s.fromObject=function(o){if(o instanceof d.onnx.GraphProto)return o;var u=new d.onnx.GraphProto;if(o.node){if(!Array.isArray(o.node))throw TypeError(".onnx.GraphProto.node: array expected");u.node=[];for(var l=0;l<o.node.length;++l){if("object"!=typeof o.node[l])throw TypeError(".onnx.GraphProto.node: object expected");u.node[l]=d.onnx.NodeProto.fromObject(o.node[l])}}if(null!=o.name&&(u.name=String(o.name)),o.initializer){if(!Array.isArray(o.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(u.initializer=[],l=0;l<o.initializer.length;++l){if("object"!=typeof o.initializer[l])throw TypeError(".onnx.GraphProto.initializer: object expected");u.initializer[l]=d.onnx.TensorProto.fromObject(o.initializer[l])}}if(null!=o.docString&&(u.docString=String(o.docString)),o.input){if(!Array.isArray(o.input))throw TypeError(".onnx.GraphProto.input: array expected");for(u.input=[],l=0;l<o.input.length;++l){if("object"!=typeof o.input[l])throw TypeError(".onnx.GraphProto.input: object expected");u.input[l]=d.onnx.ValueInfoProto.fromObject(o.input[l])}}if(o.output){if(!Array.isArray(o.output))throw TypeError(".onnx.GraphProto.output: array expected");for(u.output=[],l=0;l<o.output.length;++l){if("object"!=typeof o.output[l])throw TypeError(".onnx.GraphProto.output: object expected");u.output[l]=d.onnx.ValueInfoProto.fromObject(o.output[l])}}if(o.valueInfo){if(!Array.isArray(o.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(u.valueInfo=[],l=0;l<o.valueInfo.length;++l){if("object"!=typeof o.valueInfo[l])throw TypeError(".onnx.GraphProto.valueInfo: object expected");u.valueInfo[l]=d.onnx.ValueInfoProto.fromObject(o.valueInfo[l])}}if(o.quantizationAnnotation){if(!Array.isArray(o.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(u.quantizationAnnotation=[],l=0;l<o.quantizationAnnotation.length;++l){if("object"!=typeof o.quantizationAnnotation[l])throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");u.quantizationAnnotation[l]=d.onnx.TensorAnnotation.fromObject(o.quantizationAnnotation[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.node=[],l.initializer=[],l.input=[],l.output=[],l.valueInfo=[],l.quantizationAnnotation=[]),u.defaults&&(l.name="",l.docString=""),o.node&&o.node.length){l.node=[];for(var f=0;f<o.node.length;++f)l.node[f]=d.onnx.NodeProto.toObject(o.node[f],u)}if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),o.initializer&&o.initializer.length)for(l.initializer=[],f=0;f<o.initializer.length;++f)l.initializer[f]=d.onnx.TensorProto.toObject(o.initializer[f],u);if(null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),o.input&&o.input.length)for(l.input=[],f=0;f<o.input.length;++f)l.input[f]=d.onnx.ValueInfoProto.toObject(o.input[f],u);if(o.output&&o.output.length)for(l.output=[],f=0;f<o.output.length;++f)l.output[f]=d.onnx.ValueInfoProto.toObject(o.output[f],u);if(o.valueInfo&&o.valueInfo.length)for(l.valueInfo=[],f=0;f<o.valueInfo.length;++f)l.valueInfo[f]=d.onnx.ValueInfoProto.toObject(o.valueInfo[f],u);if(o.quantizationAnnotation&&o.quantizationAnnotation.length)for(l.quantizationAnnotation=[],f=0;f<o.quantizationAnnotation.length;++f)l.quantizationAnnotation[f]=d.onnx.TensorAnnotation.toObject(o.quantizationAnnotation[f],u);return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T.TensorProto=function(){function s(o){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.dims=p.emptyArray,s.prototype.dataType=0,s.prototype.segment=null,s.prototype.floatData=p.emptyArray,s.prototype.int32Data=p.emptyArray,s.prototype.stringData=p.emptyArray,s.prototype.int64Data=p.emptyArray,s.prototype.name="",s.prototype.docString="",s.prototype.rawData=p.newBuffer([]),s.prototype.externalData=p.emptyArray,s.prototype.dataLocation=0,s.prototype.doubleData=p.emptyArray,s.prototype.uint64Data=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.dims&&o.dims.length){u.uint32(10).fork();for(var l=0;l<o.dims.length;++l)u.int64(o.dims[l]);u.ldelim()}if(null!=o.dataType&&o.hasOwnProperty("dataType")&&u.uint32(16).int32(o.dataType),null!=o.segment&&o.hasOwnProperty("segment")&&d.onnx.TensorProto.Segment.encode(o.segment,u.uint32(26).fork()).ldelim(),null!=o.floatData&&o.floatData.length){for(u.uint32(34).fork(),l=0;l<o.floatData.length;++l)u.float(o.floatData[l]);u.ldelim()}if(null!=o.int32Data&&o.int32Data.length){for(u.uint32(42).fork(),l=0;l<o.int32Data.length;++l)u.int32(o.int32Data[l]);u.ldelim()}if(null!=o.stringData&&o.stringData.length)for(l=0;l<o.stringData.length;++l)u.uint32(50).bytes(o.stringData[l]);if(null!=o.int64Data&&o.int64Data.length){for(u.uint32(58).fork(),l=0;l<o.int64Data.length;++l)u.int64(o.int64Data[l]);u.ldelim()}if(null!=o.name&&o.hasOwnProperty("name")&&u.uint32(66).string(o.name),null!=o.rawData&&o.hasOwnProperty("rawData")&&u.uint32(74).bytes(o.rawData),null!=o.doubleData&&o.doubleData.length){for(u.uint32(82).fork(),l=0;l<o.doubleData.length;++l)u.double(o.doubleData[l]);u.ldelim()}if(null!=o.uint64Data&&o.uint64Data.length){for(u.uint32(90).fork(),l=0;l<o.uint64Data.length;++l)u.uint64(o.uint64Data[l]);u.ldelim()}if(null!=o.docString&&o.hasOwnProperty("docString")&&u.uint32(98).string(o.docString),null!=o.externalData&&o.externalData.length)for(l=0;l<o.externalData.length;++l)d.onnx.StringStringEntryProto.encode(o.externalData[l],u.uint32(106).fork()).ldelim();return null!=o.dataLocation&&o.hasOwnProperty("dataLocation")&&u.uint32(112).int32(o.dataLocation),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.TensorProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:if(f.dims&&f.dims.length||(f.dims=[]),2==(7&m))for(var v=o.uint32()+o.pos;o.pos<v;)f.dims.push(o.int64());else f.dims.push(o.int64());break;case 2:f.dataType=o.int32();break;case 3:f.segment=d.onnx.TensorProto.Segment.decode(o,o.uint32());break;case 4:if(f.floatData&&f.floatData.length||(f.floatData=[]),2==(7&m))for(v=o.uint32()+o.pos;o.pos<v;)f.floatData.push(o.float());else f.floatData.push(o.float());break;case 5:if(f.int32Data&&f.int32Data.length||(f.int32Data=[]),2==(7&m))for(v=o.uint32()+o.pos;o.pos<v;)f.int32Data.push(o.int32());else f.int32Data.push(o.int32());break;case 6:f.stringData&&f.stringData.length||(f.stringData=[]),f.stringData.push(o.bytes());break;case 7:if(f.int64Data&&f.int64Data.length||(f.int64Data=[]),2==(7&m))for(v=o.uint32()+o.pos;o.pos<v;)f.int64Data.push(o.int64());else f.int64Data.push(o.int64());break;case 8:f.name=o.string();break;case 12:f.docString=o.string();break;case 9:f.rawData=o.bytes();break;case 13:f.externalData&&f.externalData.length||(f.externalData=[]),f.externalData.push(d.onnx.StringStringEntryProto.decode(o,o.uint32()));break;case 14:f.dataLocation=o.int32();break;case 10:if(f.doubleData&&f.doubleData.length||(f.doubleData=[]),2==(7&m))for(v=o.uint32()+o.pos;o.pos<v;)f.doubleData.push(o.double());else f.doubleData.push(o.double());break;case 11:if(f.uint64Data&&f.uint64Data.length||(f.uint64Data=[]),2==(7&m))for(v=o.uint32()+o.pos;o.pos<v;)f.uint64Data.push(o.uint64());else f.uint64Data.push(o.uint64());break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.dims&&o.hasOwnProperty("dims")){if(!Array.isArray(o.dims))return"dims: array expected";for(var u=0;u<o.dims.length;++u)if(!(p.isInteger(o.dims[u])||o.dims[u]&&p.isInteger(o.dims[u].low)&&p.isInteger(o.dims[u].high)))return"dims: integer|Long[] expected"}if(null!=o.dataType&&o.hasOwnProperty("dataType")&&!p.isInteger(o.dataType))return"dataType: integer expected";if(null!=o.segment&&o.hasOwnProperty("segment")&&(l=d.onnx.TensorProto.Segment.verify(o.segment)))return"segment."+l;if(null!=o.floatData&&o.hasOwnProperty("floatData")){if(!Array.isArray(o.floatData))return"floatData: array expected";for(u=0;u<o.floatData.length;++u)if("number"!=typeof o.floatData[u])return"floatData: number[] expected"}if(null!=o.int32Data&&o.hasOwnProperty("int32Data")){if(!Array.isArray(o.int32Data))return"int32Data: array expected";for(u=0;u<o.int32Data.length;++u)if(!p.isInteger(o.int32Data[u]))return"int32Data: integer[] expected"}if(null!=o.stringData&&o.hasOwnProperty("stringData")){if(!Array.isArray(o.stringData))return"stringData: array expected";for(u=0;u<o.stringData.length;++u)if(!(o.stringData[u]&&"number"==typeof o.stringData[u].length||p.isString(o.stringData[u])))return"stringData: buffer[] expected"}if(null!=o.int64Data&&o.hasOwnProperty("int64Data")){if(!Array.isArray(o.int64Data))return"int64Data: array expected";for(u=0;u<o.int64Data.length;++u)if(!(p.isInteger(o.int64Data[u])||o.int64Data[u]&&p.isInteger(o.int64Data[u].low)&&p.isInteger(o.int64Data[u].high)))return"int64Data: integer|Long[] expected"}if(null!=o.name&&o.hasOwnProperty("name")&&!p.isString(o.name))return"name: string expected";if(null!=o.docString&&o.hasOwnProperty("docString")&&!p.isString(o.docString))return"docString: string expected";if(null!=o.rawData&&o.hasOwnProperty("rawData")&&!(o.rawData&&"number"==typeof o.rawData.length||p.isString(o.rawData)))return"rawData: buffer expected";if(null!=o.externalData&&o.hasOwnProperty("externalData")){if(!Array.isArray(o.externalData))return"externalData: array expected";for(u=0;u<o.externalData.length;++u){var l;if(l=d.onnx.StringStringEntryProto.verify(o.externalData[u]))return"externalData."+l}}if(null!=o.dataLocation&&o.hasOwnProperty("dataLocation"))switch(o.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(null!=o.doubleData&&o.hasOwnProperty("doubleData")){if(!Array.isArray(o.doubleData))return"doubleData: array expected";for(u=0;u<o.doubleData.length;++u)if("number"!=typeof o.doubleData[u])return"doubleData: number[] expected"}if(null!=o.uint64Data&&o.hasOwnProperty("uint64Data")){if(!Array.isArray(o.uint64Data))return"uint64Data: array expected";for(u=0;u<o.uint64Data.length;++u)if(!(p.isInteger(o.uint64Data[u])||o.uint64Data[u]&&p.isInteger(o.uint64Data[u].low)&&p.isInteger(o.uint64Data[u].high)))return"uint64Data: integer|Long[] expected"}return null},s.fromObject=function(o){if(o instanceof d.onnx.TensorProto)return o;var u=new d.onnx.TensorProto;if(o.dims){if(!Array.isArray(o.dims))throw TypeError(".onnx.TensorProto.dims: array expected");u.dims=[];for(var l=0;l<o.dims.length;++l)p.Long?(u.dims[l]=p.Long.fromValue(o.dims[l])).unsigned=!1:"string"==typeof o.dims[l]?u.dims[l]=parseInt(o.dims[l],10):"number"==typeof o.dims[l]?u.dims[l]=o.dims[l]:"object"==typeof o.dims[l]&&(u.dims[l]=new p.LongBits(o.dims[l].low>>>0,o.dims[l].high>>>0).toNumber())}if(null!=o.dataType&&(u.dataType=0|o.dataType),null!=o.segment){if("object"!=typeof o.segment)throw TypeError(".onnx.TensorProto.segment: object expected");u.segment=d.onnx.TensorProto.Segment.fromObject(o.segment)}if(o.floatData){if(!Array.isArray(o.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(u.floatData=[],l=0;l<o.floatData.length;++l)u.floatData[l]=Number(o.floatData[l])}if(o.int32Data){if(!Array.isArray(o.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(u.int32Data=[],l=0;l<o.int32Data.length;++l)u.int32Data[l]=0|o.int32Data[l]}if(o.stringData){if(!Array.isArray(o.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(u.stringData=[],l=0;l<o.stringData.length;++l)"string"==typeof o.stringData[l]?p.base64.decode(o.stringData[l],u.stringData[l]=p.newBuffer(p.base64.length(o.stringData[l])),0):o.stringData[l].length&&(u.stringData[l]=o.stringData[l])}if(o.int64Data){if(!Array.isArray(o.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(u.int64Data=[],l=0;l<o.int64Data.length;++l)p.Long?(u.int64Data[l]=p.Long.fromValue(o.int64Data[l])).unsigned=!1:"string"==typeof o.int64Data[l]?u.int64Data[l]=parseInt(o.int64Data[l],10):"number"==typeof o.int64Data[l]?u.int64Data[l]=o.int64Data[l]:"object"==typeof o.int64Data[l]&&(u.int64Data[l]=new p.LongBits(o.int64Data[l].low>>>0,o.int64Data[l].high>>>0).toNumber())}if(null!=o.name&&(u.name=String(o.name)),null!=o.docString&&(u.docString=String(o.docString)),null!=o.rawData&&("string"==typeof o.rawData?p.base64.decode(o.rawData,u.rawData=p.newBuffer(p.base64.length(o.rawData)),0):o.rawData.length&&(u.rawData=o.rawData)),o.externalData){if(!Array.isArray(o.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(u.externalData=[],l=0;l<o.externalData.length;++l){if("object"!=typeof o.externalData[l])throw TypeError(".onnx.TensorProto.externalData: object expected");u.externalData[l]=d.onnx.StringStringEntryProto.fromObject(o.externalData[l])}}switch(o.dataLocation){case"DEFAULT":case 0:u.dataLocation=0;break;case"EXTERNAL":case 1:u.dataLocation=1}if(o.doubleData){if(!Array.isArray(o.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(u.doubleData=[],l=0;l<o.doubleData.length;++l)u.doubleData[l]=Number(o.doubleData[l])}if(o.uint64Data){if(!Array.isArray(o.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(u.uint64Data=[],l=0;l<o.uint64Data.length;++l)p.Long?(u.uint64Data[l]=p.Long.fromValue(o.uint64Data[l])).unsigned=!0:"string"==typeof o.uint64Data[l]?u.uint64Data[l]=parseInt(o.uint64Data[l],10):"number"==typeof o.uint64Data[l]?u.uint64Data[l]=o.uint64Data[l]:"object"==typeof o.uint64Data[l]&&(u.uint64Data[l]=new p.LongBits(o.uint64Data[l].low>>>0,o.uint64Data[l].high>>>0).toNumber(!0))}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.dims=[],l.floatData=[],l.int32Data=[],l.stringData=[],l.int64Data=[],l.doubleData=[],l.uint64Data=[],l.externalData=[]),u.defaults&&(l.dataType=0,l.segment=null,l.name="",u.bytes===String?l.rawData="":(l.rawData=[],u.bytes!==Array&&(l.rawData=p.newBuffer(l.rawData))),l.docString="",l.dataLocation=u.enums===String?"DEFAULT":0),o.dims&&o.dims.length){l.dims=[];for(var f=0;f<o.dims.length;++f)l.dims[f]="number"==typeof o.dims[f]?u.longs===String?String(o.dims[f]):o.dims[f]:u.longs===String?p.Long.prototype.toString.call(o.dims[f]):u.longs===Number?new p.LongBits(o.dims[f].low>>>0,o.dims[f].high>>>0).toNumber():o.dims[f]}if(null!=o.dataType&&o.hasOwnProperty("dataType")&&(l.dataType=o.dataType),null!=o.segment&&o.hasOwnProperty("segment")&&(l.segment=d.onnx.TensorProto.Segment.toObject(o.segment,u)),o.floatData&&o.floatData.length)for(l.floatData=[],f=0;f<o.floatData.length;++f)l.floatData[f]=u.json&&!isFinite(o.floatData[f])?String(o.floatData[f]):o.floatData[f];if(o.int32Data&&o.int32Data.length)for(l.int32Data=[],f=0;f<o.int32Data.length;++f)l.int32Data[f]=o.int32Data[f];if(o.stringData&&o.stringData.length)for(l.stringData=[],f=0;f<o.stringData.length;++f)l.stringData[f]=u.bytes===String?p.base64.encode(o.stringData[f],0,o.stringData[f].length):u.bytes===Array?Array.prototype.slice.call(o.stringData[f]):o.stringData[f];if(o.int64Data&&o.int64Data.length)for(l.int64Data=[],f=0;f<o.int64Data.length;++f)l.int64Data[f]="number"==typeof o.int64Data[f]?u.longs===String?String(o.int64Data[f]):o.int64Data[f]:u.longs===String?p.Long.prototype.toString.call(o.int64Data[f]):u.longs===Number?new p.LongBits(o.int64Data[f].low>>>0,o.int64Data[f].high>>>0).toNumber():o.int64Data[f];if(null!=o.name&&o.hasOwnProperty("name")&&(l.name=o.name),null!=o.rawData&&o.hasOwnProperty("rawData")&&(l.rawData=u.bytes===String?p.base64.encode(o.rawData,0,o.rawData.length):u.bytes===Array?Array.prototype.slice.call(o.rawData):o.rawData),o.doubleData&&o.doubleData.length)for(l.doubleData=[],f=0;f<o.doubleData.length;++f)l.doubleData[f]=u.json&&!isFinite(o.doubleData[f])?String(o.doubleData[f]):o.doubleData[f];if(o.uint64Data&&o.uint64Data.length)for(l.uint64Data=[],f=0;f<o.uint64Data.length;++f)l.uint64Data[f]="number"==typeof o.uint64Data[f]?u.longs===String?String(o.uint64Data[f]):o.uint64Data[f]:u.longs===String?p.Long.prototype.toString.call(o.uint64Data[f]):u.longs===Number?new p.LongBits(o.uint64Data[f].low>>>0,o.uint64Data[f].high>>>0).toNumber(!0):o.uint64Data[f];if(null!=o.docString&&o.hasOwnProperty("docString")&&(l.docString=o.docString),o.externalData&&o.externalData.length)for(l.externalData=[],f=0;f<o.externalData.length;++f)l.externalData[f]=d.onnx.StringStringEntryProto.toObject(o.externalData[f],u);return null!=o.dataLocation&&o.hasOwnProperty("dataLocation")&&(l.dataLocation=u.enums===String?d.onnx.TensorProto.DataLocation[o.dataLocation]:o.dataLocation),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s.DataType=(o={},(u=Object.create(o))[o[0]="UNDEFINED"]=0,u[o[1]="FLOAT"]=1,u[o[2]="UINT8"]=2,u[o[3]="INT8"]=3,u[o[4]="UINT16"]=4,u[o[5]="INT16"]=5,u[o[6]="INT32"]=6,u[o[7]="INT64"]=7,u[o[8]="STRING"]=8,u[o[9]="BOOL"]=9,u[o[10]="FLOAT16"]=10,u[o[11]="DOUBLE"]=11,u[o[12]="UINT32"]=12,u[o[13]="UINT64"]=13,u[o[14]="COMPLEX64"]=14,u[o[15]="COMPLEX128"]=15,u[o[16]="BFLOAT16"]=16,u),s.Segment=function(){function o(u){if(u)for(var l=Object.keys(u),f=0;f<l.length;++f)null!=u[l[f]]&&(this[l[f]]=u[l[f]])}return o.prototype.begin=p.Long?p.Long.fromBits(0,0,!1):0,o.prototype.end=p.Long?p.Long.fromBits(0,0,!1):0,o.create=function(u){return new o(u)},o.encode=function(u,l){return l||(l=_.create()),null!=u.begin&&u.hasOwnProperty("begin")&&l.uint32(8).int64(u.begin),null!=u.end&&u.hasOwnProperty("end")&&l.uint32(16).int64(u.end),l},o.encodeDelimited=function(u,l){return this.encode(u,l).ldelim()},o.decode=function(u,l){u instanceof y||(u=y.create(u));for(var f=void 0===l?u.len:u.pos+l,m=new d.onnx.TensorProto.Segment;u.pos<f;){var v=u.uint32();switch(v>>>3){case 1:m.begin=u.int64();break;case 2:m.end=u.int64();break;default:u.skipType(7&v)}}return m},o.decodeDelimited=function(u){return u instanceof y||(u=new y(u)),this.decode(u,u.uint32())},o.verify=function(u){return"object"!=typeof u||null===u?"object expected":null!=u.begin&&u.hasOwnProperty("begin")&&!(p.isInteger(u.begin)||u.begin&&p.isInteger(u.begin.low)&&p.isInteger(u.begin.high))?"begin: integer|Long expected":null!=u.end&&u.hasOwnProperty("end")&&!(p.isInteger(u.end)||u.end&&p.isInteger(u.end.low)&&p.isInteger(u.end.high))?"end: integer|Long expected":null},o.fromObject=function(u){if(u instanceof d.onnx.TensorProto.Segment)return u;var l=new d.onnx.TensorProto.Segment;return null!=u.begin&&(p.Long?(l.begin=p.Long.fromValue(u.begin)).unsigned=!1:"string"==typeof u.begin?l.begin=parseInt(u.begin,10):"number"==typeof u.begin?l.begin=u.begin:"object"==typeof u.begin&&(l.begin=new p.LongBits(u.begin.low>>>0,u.begin.high>>>0).toNumber())),null!=u.end&&(p.Long?(l.end=p.Long.fromValue(u.end)).unsigned=!1:"string"==typeof u.end?l.end=parseInt(u.end,10):"number"==typeof u.end?l.end=u.end:"object"==typeof u.end&&(l.end=new p.LongBits(u.end.low>>>0,u.end.high>>>0).toNumber())),l},o.toObject=function(u,l){l||(l={});var f={};if(l.defaults){if(p.Long){var m=new p.Long(0,0,!1);f.begin=l.longs===String?m.toString():l.longs===Number?m.toNumber():m}else f.begin=l.longs===String?"0":0;p.Long?(m=new p.Long(0,0,!1),f.end=l.longs===String?m.toString():l.longs===Number?m.toNumber():m):f.end=l.longs===String?"0":0}return null!=u.begin&&u.hasOwnProperty("begin")&&(f.begin="number"==typeof u.begin?l.longs===String?String(u.begin):u.begin:l.longs===String?p.Long.prototype.toString.call(u.begin):l.longs===Number?new p.LongBits(u.begin.low>>>0,u.begin.high>>>0).toNumber():u.begin),null!=u.end&&u.hasOwnProperty("end")&&(f.end="number"==typeof u.end?l.longs===String?String(u.end):u.end:l.longs===String?p.Long.prototype.toString.call(u.end):l.longs===Number?new p.LongBits(u.end.low>>>0,u.end.high>>>0).toNumber():u.end),f},o.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},o}(),s.DataLocation=function(){var o={},u=Object.create(o);return u[o[0]="DEFAULT"]=0,u[o[1]="EXTERNAL"]=1,u}(),s;var o,u}(),T.TensorShapeProto=function(){function s(o){if(this.dim=[],o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.dim=p.emptyArray,s.create=function(o){return new s(o)},s.encode=function(o,u){if(u||(u=_.create()),null!=o.dim&&o.dim.length)for(var l=0;l<o.dim.length;++l)d.onnx.TensorShapeProto.Dimension.encode(o.dim[l],u.uint32(10).fork()).ldelim();return u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.TensorShapeProto;o.pos<l;){var m=o.uint32();m>>>3==1?(f.dim&&f.dim.length||(f.dim=[]),f.dim.push(d.onnx.TensorShapeProto.Dimension.decode(o,o.uint32()))):o.skipType(7&m)}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){if("object"!=typeof o||null===o)return"object expected";if(null!=o.dim&&o.hasOwnProperty("dim")){if(!Array.isArray(o.dim))return"dim: array expected";for(var u=0;u<o.dim.length;++u){var l=d.onnx.TensorShapeProto.Dimension.verify(o.dim[u]);if(l)return"dim."+l}}return null},s.fromObject=function(o){if(o instanceof d.onnx.TensorShapeProto)return o;var u=new d.onnx.TensorShapeProto;if(o.dim){if(!Array.isArray(o.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");u.dim=[];for(var l=0;l<o.dim.length;++l){if("object"!=typeof o.dim[l])throw TypeError(".onnx.TensorShapeProto.dim: object expected");u.dim[l]=d.onnx.TensorShapeProto.Dimension.fromObject(o.dim[l])}}return u},s.toObject=function(o,u){u||(u={});var l={};if((u.arrays||u.defaults)&&(l.dim=[]),o.dim&&o.dim.length){l.dim=[];for(var f=0;f<o.dim.length;++f)l.dim[f]=d.onnx.TensorShapeProto.Dimension.toObject(o.dim[f],u)}return l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s.Dimension=function(){function o(l){if(l)for(var f=Object.keys(l),m=0;m<f.length;++m)null!=l[f[m]]&&(this[f[m]]=l[f[m]])}var u;return o.prototype.dimValue=p.Long?p.Long.fromBits(0,0,!1):0,o.prototype.dimParam="",o.prototype.denotation="",Object.defineProperty(o.prototype,"value",{get:p.oneOfGetter(u=["dimValue","dimParam"]),set:p.oneOfSetter(u)}),o.create=function(l){return new o(l)},o.encode=function(l,f){return f||(f=_.create()),null!=l.dimValue&&l.hasOwnProperty("dimValue")&&f.uint32(8).int64(l.dimValue),null!=l.dimParam&&l.hasOwnProperty("dimParam")&&f.uint32(18).string(l.dimParam),null!=l.denotation&&l.hasOwnProperty("denotation")&&f.uint32(26).string(l.denotation),f},o.encodeDelimited=function(l,f){return this.encode(l,f).ldelim()},o.decode=function(l,f){l instanceof y||(l=y.create(l));for(var m=void 0===f?l.len:l.pos+f,v=new d.onnx.TensorShapeProto.Dimension;l.pos<m;){var x=l.uint32();switch(x>>>3){case 1:v.dimValue=l.int64();break;case 2:v.dimParam=l.string();break;case 3:v.denotation=l.string();break;default:l.skipType(7&x)}}return v},o.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},o.verify=function(l){if("object"!=typeof l||null===l)return"object expected";var f={};if(null!=l.dimValue&&l.hasOwnProperty("dimValue")&&(f.value=1,!(p.isInteger(l.dimValue)||l.dimValue&&p.isInteger(l.dimValue.low)&&p.isInteger(l.dimValue.high))))return"dimValue: integer|Long expected";if(null!=l.dimParam&&l.hasOwnProperty("dimParam")){if(1===f.value)return"value: multiple values";if(f.value=1,!p.isString(l.dimParam))return"dimParam: string expected"}return null!=l.denotation&&l.hasOwnProperty("denotation")&&!p.isString(l.denotation)?"denotation: string expected":null},o.fromObject=function(l){if(l instanceof d.onnx.TensorShapeProto.Dimension)return l;var f=new d.onnx.TensorShapeProto.Dimension;return null!=l.dimValue&&(p.Long?(f.dimValue=p.Long.fromValue(l.dimValue)).unsigned=!1:"string"==typeof l.dimValue?f.dimValue=parseInt(l.dimValue,10):"number"==typeof l.dimValue?f.dimValue=l.dimValue:"object"==typeof l.dimValue&&(f.dimValue=new p.LongBits(l.dimValue.low>>>0,l.dimValue.high>>>0).toNumber())),null!=l.dimParam&&(f.dimParam=String(l.dimParam)),null!=l.denotation&&(f.denotation=String(l.denotation)),f},o.toObject=function(l,f){f||(f={});var m={};return f.defaults&&(m.denotation=""),null!=l.dimValue&&l.hasOwnProperty("dimValue")&&(m.dimValue="number"==typeof l.dimValue?f.longs===String?String(l.dimValue):l.dimValue:f.longs===String?p.Long.prototype.toString.call(l.dimValue):f.longs===Number?new p.LongBits(l.dimValue.low>>>0,l.dimValue.high>>>0).toNumber():l.dimValue,f.oneofs&&(m.value="dimValue")),null!=l.dimParam&&l.hasOwnProperty("dimParam")&&(m.dimParam=l.dimParam,f.oneofs&&(m.value="dimParam")),null!=l.denotation&&l.hasOwnProperty("denotation")&&(m.denotation=l.denotation),m},o.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},o}(),s}(),T.TypeProto=function(){function s(u){if(u)for(var l=Object.keys(u),f=0;f<l.length;++f)null!=u[l[f]]&&(this[l[f]]=u[l[f]])}var o;return s.prototype.tensorType=null,s.prototype.denotation="",Object.defineProperty(s.prototype,"value",{get:p.oneOfGetter(o=["tensorType"]),set:p.oneOfSetter(o)}),s.create=function(u){return new s(u)},s.encode=function(u,l){return l||(l=_.create()),null!=u.tensorType&&u.hasOwnProperty("tensorType")&&d.onnx.TypeProto.Tensor.encode(u.tensorType,l.uint32(10).fork()).ldelim(),null!=u.denotation&&u.hasOwnProperty("denotation")&&l.uint32(50).string(u.denotation),l},s.encodeDelimited=function(u,l){return this.encode(u,l).ldelim()},s.decode=function(u,l){u instanceof y||(u=y.create(u));for(var f=void 0===l?u.len:u.pos+l,m=new d.onnx.TypeProto;u.pos<f;){var v=u.uint32();switch(v>>>3){case 1:m.tensorType=d.onnx.TypeProto.Tensor.decode(u,u.uint32());break;case 6:m.denotation=u.string();break;default:u.skipType(7&v)}}return m},s.decodeDelimited=function(u){return u instanceof y||(u=new y(u)),this.decode(u,u.uint32())},s.verify=function(u){if("object"!=typeof u||null===u)return"object expected";if(null!=u.tensorType&&u.hasOwnProperty("tensorType")){var l=d.onnx.TypeProto.Tensor.verify(u.tensorType);if(l)return"tensorType."+l}return null!=u.denotation&&u.hasOwnProperty("denotation")&&!p.isString(u.denotation)?"denotation: string expected":null},s.fromObject=function(u){if(u instanceof d.onnx.TypeProto)return u;var l=new d.onnx.TypeProto;if(null!=u.tensorType){if("object"!=typeof u.tensorType)throw TypeError(".onnx.TypeProto.tensorType: object expected");l.tensorType=d.onnx.TypeProto.Tensor.fromObject(u.tensorType)}return null!=u.denotation&&(l.denotation=String(u.denotation)),l},s.toObject=function(u,l){l||(l={});var f={};return l.defaults&&(f.denotation=""),null!=u.tensorType&&u.hasOwnProperty("tensorType")&&(f.tensorType=d.onnx.TypeProto.Tensor.toObject(u.tensorType,l),l.oneofs&&(f.value="tensorType")),null!=u.denotation&&u.hasOwnProperty("denotation")&&(f.denotation=u.denotation),f},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s.Tensor=function(){function u(l){if(l)for(var f=Object.keys(l),m=0;m<f.length;++m)null!=l[f[m]]&&(this[f[m]]=l[f[m]])}return u.prototype.elemType=0,u.prototype.shape=null,u.create=function(l){return new u(l)},u.encode=function(l,f){return f||(f=_.create()),null!=l.elemType&&l.hasOwnProperty("elemType")&&f.uint32(8).int32(l.elemType),null!=l.shape&&l.hasOwnProperty("shape")&&d.onnx.TensorShapeProto.encode(l.shape,f.uint32(18).fork()).ldelim(),f},u.encodeDelimited=function(l,f){return this.encode(l,f).ldelim()},u.decode=function(l,f){l instanceof y||(l=y.create(l));for(var m=void 0===f?l.len:l.pos+f,v=new d.onnx.TypeProto.Tensor;l.pos<m;){var x=l.uint32();switch(x>>>3){case 1:v.elemType=l.int32();break;case 2:v.shape=d.onnx.TensorShapeProto.decode(l,l.uint32());break;default:l.skipType(7&x)}}return v},u.decodeDelimited=function(l){return l instanceof y||(l=new y(l)),this.decode(l,l.uint32())},u.verify=function(l){if("object"!=typeof l||null===l)return"object expected";if(null!=l.elemType&&l.hasOwnProperty("elemType")&&!p.isInteger(l.elemType))return"elemType: integer expected";if(null!=l.shape&&l.hasOwnProperty("shape")){var f=d.onnx.TensorShapeProto.verify(l.shape);if(f)return"shape."+f}return null},u.fromObject=function(l){if(l instanceof d.onnx.TypeProto.Tensor)return l;var f=new d.onnx.TypeProto.Tensor;if(null!=l.elemType&&(f.elemType=0|l.elemType),null!=l.shape){if("object"!=typeof l.shape)throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");f.shape=d.onnx.TensorShapeProto.fromObject(l.shape)}return f},u.toObject=function(l,f){f||(f={});var m={};return f.defaults&&(m.elemType=0,m.shape=null),null!=l.elemType&&l.hasOwnProperty("elemType")&&(m.elemType=l.elemType),null!=l.shape&&l.hasOwnProperty("shape")&&(m.shape=d.onnx.TensorShapeProto.toObject(l.shape,f)),m},u.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},u}(),s}(),T.OperatorSetIdProto=function(){function s(o){if(o)for(var u=Object.keys(o),l=0;l<u.length;++l)null!=o[u[l]]&&(this[u[l]]=o[u[l]])}return s.prototype.domain="",s.prototype.version=p.Long?p.Long.fromBits(0,0,!1):0,s.create=function(o){return new s(o)},s.encode=function(o,u){return u||(u=_.create()),null!=o.domain&&o.hasOwnProperty("domain")&&u.uint32(10).string(o.domain),null!=o.version&&o.hasOwnProperty("version")&&u.uint32(16).int64(o.version),u},s.encodeDelimited=function(o,u){return this.encode(o,u).ldelim()},s.decode=function(o,u){o instanceof y||(o=y.create(o));for(var l=void 0===u?o.len:o.pos+u,f=new d.onnx.OperatorSetIdProto;o.pos<l;){var m=o.uint32();switch(m>>>3){case 1:f.domain=o.string();break;case 2:f.version=o.int64();break;default:o.skipType(7&m)}}return f},s.decodeDelimited=function(o){return o instanceof y||(o=new y(o)),this.decode(o,o.uint32())},s.verify=function(o){return"object"!=typeof o||null===o?"object expected":null!=o.domain&&o.hasOwnProperty("domain")&&!p.isString(o.domain)?"domain: string expected":null!=o.version&&o.hasOwnProperty("version")&&!(p.isInteger(o.version)||o.version&&p.isInteger(o.version.low)&&p.isInteger(o.version.high))?"version: integer|Long expected":null},s.fromObject=function(o){if(o instanceof d.onnx.OperatorSetIdProto)return o;var u=new d.onnx.OperatorSetIdProto;return null!=o.domain&&(u.domain=String(o.domain)),null!=o.version&&(p.Long?(u.version=p.Long.fromValue(o.version)).unsigned=!1:"string"==typeof o.version?u.version=parseInt(o.version,10):"number"==typeof o.version?u.version=o.version:"object"==typeof o.version&&(u.version=new p.LongBits(o.version.low>>>0,o.version.high>>>0).toNumber())),u},s.toObject=function(o,u){u||(u={});var l={};if(u.defaults)if(l.domain="",p.Long){var f=new p.Long(0,0,!1);l.version=u.longs===String?f.toString():u.longs===Number?f.toNumber():f}else l.version=u.longs===String?"0":0;return null!=o.domain&&o.hasOwnProperty("domain")&&(l.domain=o.domain),null!=o.version&&o.hasOwnProperty("version")&&(l.version="number"==typeof o.version?u.longs===String?String(o.version):o.version:u.longs===String?p.Long.prototype.toString.call(o.version):u.longs===Number?new p.LongBits(o.version.low>>>0,o.version.high>>>0).toNumber():o.version),l},s.prototype.toJSON=function(){return this.constructor.toObject(this,h.util.toJSONOptions)},s}(),T),q.exports=d},2100:(q,b,P)=>{"use strict";q.exports=P(9482)},9482:(q,b,P)=>{"use strict";var S=b;function D(){S.util._configure(),S.Writer._configure(S.BufferWriter),S.Reader._configure(S.BufferReader)}S.build="minimal",S.Writer=P(1173),S.BufferWriter=P(3155),S.Reader=P(1408),S.BufferReader=P(593),S.util=P(9693),S.rpc=P(5994),S.roots=P(5054),S.configure=D,D()},1408:(q,b,P)=>{"use strict";q.exports=_;var S,D=P(9693),T=D.LongBits,h=D.utf8;function y(f,m){return RangeError("index out of range: "+f.pos+" + "+(m||1)+" > "+f.len)}function _(f){this.buf=f,this.pos=0,this.len=f.length}var p,d=typeof Uint8Array<"u"?function(f){if(f instanceof Uint8Array||Array.isArray(f))return new _(f);throw Error("illegal buffer")}:function(f){if(Array.isArray(f))return new _(f);throw Error("illegal buffer")},s=function(){return D.Buffer?function(f){return(_.create=function(m){return D.Buffer.isBuffer(m)?new S(m):d(m)})(f)}:d};function o(){var f=new T(0,0),m=0;if(!(this.len-this.pos>4)){for(;m<3;++m){if(this.pos>=this.len)throw y(this);if(f.lo=(f.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return f}return f.lo=(f.lo|(127&this.buf[this.pos++])<<7*m)>>>0,f}for(;m<4;++m)if(f.lo=(f.lo|(127&this.buf[this.pos])<<7*m)>>>0,this.buf[this.pos++]<128)return f;if(f.lo=(f.lo|(127&this.buf[this.pos])<<28)>>>0,f.hi=(f.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return f;if(m=0,this.len-this.pos>4){for(;m<5;++m)if(f.hi=(f.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return f}else for(;m<5;++m){if(this.pos>=this.len)throw y(this);if(f.hi=(f.hi|(127&this.buf[this.pos])<<7*m+3)>>>0,this.buf[this.pos++]<128)return f}throw Error("invalid varint encoding")}function u(f,m){return(f[m-4]|f[m-3]<<8|f[m-2]<<16|f[m-1]<<24)>>>0}function l(){if(this.pos+8>this.len)throw y(this,8);return new T(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}_.create=s(),_.prototype._slice=D.Array.prototype.subarray||D.Array.prototype.slice,_.prototype.uint32=(p=4294967295,function(){if(p=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(p=(p|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(p=(p|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(p=(p|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(p=(p|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return p;if((this.pos+=5)>this.len)throw this.pos=this.len,y(this,10);return p}),_.prototype.int32=function(){return 0|this.uint32()},_.prototype.sint32=function(){var f=this.uint32();return f>>>1^-(1&f)|0},_.prototype.bool=function(){return 0!==this.uint32()},_.prototype.fixed32=function(){if(this.pos+4>this.len)throw y(this,4);return u(this.buf,this.pos+=4)},_.prototype.sfixed32=function(){if(this.pos+4>this.len)throw y(this,4);return 0|u(this.buf,this.pos+=4)},_.prototype.float=function(){if(this.pos+4>this.len)throw y(this,4);var f=D.float.readFloatLE(this.buf,this.pos);return this.pos+=4,f},_.prototype.double=function(){if(this.pos+8>this.len)throw y(this,4);var f=D.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,f},_.prototype.bytes=function(){var f=this.uint32(),m=this.pos,v=this.pos+f;if(v>this.len)throw y(this,f);return this.pos+=f,Array.isArray(this.buf)?this.buf.slice(m,v):m===v?new this.buf.constructor(0):this._slice.call(this.buf,m,v)},_.prototype.string=function(){var f=this.bytes();return h.read(f,0,f.length)},_.prototype.skip=function(f){if("number"==typeof f){if(this.pos+f>this.len)throw y(this,f);this.pos+=f}else do{if(this.pos>=this.len)throw y(this)}while(128&this.buf[this.pos++]);return this},_.prototype.skipType=function(f){switch(f){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(f=7&this.uint32());)this.skipType(f);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+f+" at offset "+this.pos)}return this},_._configure=function(f){S=f,_.create=s(),S._configure();var m=D.Long?"toLong":"toNumber";D.merge(_.prototype,{int64:function(){return o.call(this)[m](!1)},uint64:function(){return o.call(this)[m](!0)},sint64:function(){return o.call(this).zzDecode()[m](!1)},fixed64:function(){return l.call(this)[m](!0)},sfixed64:function(){return l.call(this)[m](!1)}})}},593:(q,b,P)=>{"use strict";q.exports=T;var S=P(1408);(T.prototype=Object.create(S.prototype)).constructor=T;var D=P(9693);function T(h){S.call(this,h)}T._configure=function(){D.Buffer&&(T.prototype._slice=D.Buffer.prototype.slice)},T.prototype.string=function(){var h=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+h,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+h,this.len))},T._configure()},5054:q=>{"use strict";q.exports={}},5994:(q,b,P)=>{"use strict";b.Service=P(7948)},7948:(q,b,P)=>{"use strict";q.exports=D;var S=P(9693);function D(T,h,y){if("function"!=typeof T)throw TypeError("rpcImpl must be a function");S.EventEmitter.call(this),this.rpcImpl=T,this.requestDelimited=Boolean(h),this.responseDelimited=Boolean(y)}(D.prototype=Object.create(S.EventEmitter.prototype)).constructor=D,D.prototype.rpcCall=function T(h,y,_,p,d){if(!p)throw TypeError("request must be specified");var s=this;if(!d)return S.asPromise(T,s,h,y,_,p);if(s.rpcImpl)try{return s.rpcImpl(h,y[s.requestDelimited?"encodeDelimited":"encode"](p).finish(),function(o,u){if(o)return s.emit("error",o,h),d(o);if(null!==u){if(!(u instanceof _))try{u=_[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(l){return s.emit("error",l,h),d(l)}return s.emit("data",u,h),d(null,u)}s.end(!0)})}catch(o){return s.emit("error",o,h),void setTimeout(function(){d(o)},0)}else setTimeout(function(){d(Error("already ended"))},0)},D.prototype.end=function(T){return this.rpcImpl&&(T||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(q,b,P)=>{"use strict";q.exports=D;var S=P(9693);function D(_,p){this.lo=_>>>0,this.hi=p>>>0}var T=D.zero=new D(0,0);T.toNumber=function(){return 0},T.zzEncode=T.zzDecode=function(){return this},T.length=function(){return 1};var h=D.zeroHash="\0\0\0\0\0\0\0\0";D.fromNumber=function(_){if(0===_)return T;var p=_<0;p&&(_=-_);var d=_>>>0,s=(_-d)/4294967296>>>0;return p&&(s=~s>>>0,d=~d>>>0,++d>4294967295&&(d=0,++s>4294967295&&(s=0))),new D(d,s)},D.from=function(_){if("number"==typeof _)return D.fromNumber(_);if(S.isString(_)){if(!S.Long)return D.fromNumber(parseInt(_,10));_=S.Long.fromString(_)}return _.low||_.high?new D(_.low>>>0,_.high>>>0):T},D.prototype.toNumber=function(_){if(!_&&this.hi>>>31){var p=1+~this.lo>>>0,d=~this.hi>>>0;return p||(d=d+1>>>0),-(p+4294967296*d)}return this.lo+4294967296*this.hi},D.prototype.toLong=function(_){return S.Long?new S.Long(0|this.lo,0|this.hi,Boolean(_)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(_)}};var y=String.prototype.charCodeAt;D.fromHash=function(_){return _===h?T:new D((y.call(_,0)|y.call(_,1)<<8|y.call(_,2)<<16|y.call(_,3)<<24)>>>0,(y.call(_,4)|y.call(_,5)<<8|y.call(_,6)<<16|y.call(_,7)<<24)>>>0)},D.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},D.prototype.zzEncode=function(){var _=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^_)>>>0,this.lo=(this.lo<<1^_)>>>0,this},D.prototype.zzDecode=function(){var _=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^_)>>>0,this.hi=(this.hi>>>1^_)>>>0,this},D.prototype.length=function(){var _=this.lo,p=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return 0===d?0===p?_<16384?_<128?1:2:_<2097152?3:4:p<16384?p<128?5:6:p<2097152?7:8:d<128?9:10}},9693:function(q,b,P){"use strict";var S=b;function D(h,y,_){for(var p=Object.keys(y),d=0;d<p.length;++d)void 0!==h[p[d]]&&_||(h[p[d]]=y[p[d]]);return h}function T(h){function y(_,p){if(!(this instanceof y))return new y(_,p);Object.defineProperty(this,"message",{get:function(){return _}}),Error.captureStackTrace?Error.captureStackTrace(this,y):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),p&&D(this,p)}return(y.prototype=Object.create(Error.prototype)).constructor=y,Object.defineProperty(y.prototype,"name",{get:function(){return h}}),y.prototype.toString=function(){return this.name+": "+this.message},y}S.asPromise=P(4537),S.base64=P(7419),S.EventEmitter=P(9211),S.float=P(945),S.inquire=P(7199),S.utf8=P(4997),S.pool=P(6662),S.LongBits=P(1945),S.isNode=Boolean(void 0!==P.g&&P.g&&P.g.process&&P.g.process.versions&&P.g.process.versions.node),S.global=S.isNode&&P.g||typeof window<"u"&&window||typeof self<"u"&&self||this,S.emptyArray=Object.freeze?Object.freeze([]):[],S.emptyObject=Object.freeze?Object.freeze({}):{},S.isInteger=Number.isInteger||function(h){return"number"==typeof h&&isFinite(h)&&Math.floor(h)===h},S.isString=function(h){return"string"==typeof h||h instanceof String},S.isObject=function(h){return h&&"object"==typeof h},S.isset=S.isSet=function(h,y){var _=h[y];return!(null==_||!h.hasOwnProperty(y))&&("object"!=typeof _||(Array.isArray(_)?_.length:Object.keys(_).length)>0)},S.Buffer=function(){try{var h=S.inquire("buffer").Buffer;return h.prototype.utf8Write?h:null}catch{return null}}(),S._Buffer_from=null,S._Buffer_allocUnsafe=null,S.newBuffer=function(h){return"number"==typeof h?S.Buffer?S._Buffer_allocUnsafe(h):new S.Array(h):S.Buffer?S._Buffer_from(h):typeof Uint8Array>"u"?h:new Uint8Array(h)},S.Array=typeof Uint8Array<"u"?Uint8Array:Array,S.Long=S.global.dcodeIO&&S.global.dcodeIO.Long||S.global.Long||S.inquire("long"),S.key2Re=/^true|false|0|1$/,S.key32Re=/^-?(?:0|[1-9][0-9]*)$/,S.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,S.longToHash=function(h){return h?S.LongBits.from(h).toHash():S.LongBits.zeroHash},S.longFromHash=function(h,y){var _=S.LongBits.fromHash(h);return S.Long?S.Long.fromBits(_.lo,_.hi,y):_.toNumber(Boolean(y))},S.merge=D,S.lcFirst=function(h){return h.charAt(0).toLowerCase()+h.substring(1)},S.newError=T,S.ProtocolError=T("ProtocolError"),S.oneOfGetter=function(h){for(var y={},_=0;_<h.length;++_)y[h[_]]=1;return function(){for(var p=Object.keys(this),d=p.length-1;d>-1;--d)if(1===y[p[d]]&&null!=this[p[d]])return p[d]}},S.oneOfSetter=function(h){return function(y){for(var _=0;_<h.length;++_)h[_]!==y&&delete this[h[_]]}},S.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},S._configure=function(){var h=S.Buffer;h?(S._Buffer_from=h.from!==Uint8Array.from&&h.from||function(y,_){return new h(y,_)},S._Buffer_allocUnsafe=h.allocUnsafe||function(y){return new h(y)}):S._Buffer_from=S._Buffer_allocUnsafe=null}},1173:(q,b,P)=>{"use strict";q.exports=s;var S,D=P(9693),T=D.LongBits,h=D.base64,y=D.utf8;function _(x,I,C){this.fn=x,this.len=I,this.next=void 0,this.val=C}function p(){}function d(x){this.head=x.head,this.tail=x.tail,this.len=x.len,this.next=x.states}function s(){this.len=0,this.head=new _(p,0,0),this.tail=this.head,this.states=null}var o=function(){return D.Buffer?function(){return(s.create=function(){return new S})()}:function(){return new s}};function u(x,I,C){I[C]=255&x}function l(x,I){this.len=x,this.next=void 0,this.val=I}function f(x,I,C){for(;x.hi;)I[C++]=127&x.lo|128,x.lo=(x.lo>>>7|x.hi<<25)>>>0,x.hi>>>=7;for(;x.lo>127;)I[C++]=127&x.lo|128,x.lo=x.lo>>>7;I[C++]=x.lo}function m(x,I,C){I[C]=255&x,I[C+1]=x>>>8&255,I[C+2]=x>>>16&255,I[C+3]=x>>>24}s.create=o(),s.alloc=function(x){return new D.Array(x)},D.Array!==Array&&(s.alloc=D.pool(s.alloc,D.Array.prototype.subarray)),s.prototype._push=function(x,I,C){return this.tail=this.tail.next=new _(x,I,C),this.len+=I,this},(l.prototype=Object.create(_.prototype)).fn=function(x,I,C){for(;x>127;)I[C++]=127&x|128,x>>>=7;I[C]=x},s.prototype.uint32=function(x){return this.len+=(this.tail=this.tail.next=new l((x>>>=0)<128?1:x<16384?2:x<2097152?3:x<268435456?4:5,x)).len,this},s.prototype.int32=function(x){return x<0?this._push(f,10,T.fromNumber(x)):this.uint32(x)},s.prototype.sint32=function(x){return this.uint32((x<<1^x>>31)>>>0)},s.prototype.int64=s.prototype.uint64=function(x){var I=T.from(x);return this._push(f,I.length(),I)},s.prototype.sint64=function(x){var I=T.from(x).zzEncode();return this._push(f,I.length(),I)},s.prototype.bool=function(x){return this._push(u,1,x?1:0)},s.prototype.sfixed32=s.prototype.fixed32=function(x){return this._push(m,4,x>>>0)},s.prototype.sfixed64=s.prototype.fixed64=function(x){var I=T.from(x);return this._push(m,4,I.lo)._push(m,4,I.hi)},s.prototype.float=function(x){return this._push(D.float.writeFloatLE,4,x)},s.prototype.double=function(x){return this._push(D.float.writeDoubleLE,8,x)};var v=D.Array.prototype.set?function(x,I,C){I.set(x,C)}:function(x,I,C){for(var A=0;A<x.length;++A)I[C+A]=x[A]};s.prototype.bytes=function(x){var I=x.length>>>0;if(!I)return this._push(u,1,0);if(D.isString(x)){var C=s.alloc(I=h.length(x));h.decode(x,C,0),x=C}return this.uint32(I)._push(v,I,x)},s.prototype.string=function(x){var I=y.length(x);return I?this.uint32(I)._push(y.write,I,x):this._push(u,1,0)},s.prototype.fork=function(){return this.states=new d(this),this.head=this.tail=new _(p,0,0),this.len=0,this},s.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _(p,0,0),this.len=0),this},s.prototype.ldelim=function(){var x=this.head,I=this.tail,C=this.len;return this.reset().uint32(C),C&&(this.tail.next=x.next,this.tail=I,this.len+=C),this},s.prototype.finish=function(){for(var x=this.head.next,I=this.constructor.alloc(this.len),C=0;x;)x.fn(x.val,I,C),C+=x.len,x=x.next;return I},s._configure=function(x){S=x,s.create=o(),S._configure()}},3155:(q,b,P)=>{"use strict";q.exports=T;var S=P(1173);(T.prototype=Object.create(S.prototype)).constructor=T;var D=P(9693);function T(){S.call(this)}function h(y,_,p){y.length<40?D.utf8.write(y,_,p):_.utf8Write?_.utf8Write(y,p):_.write(y,p)}T._configure=function(){T.alloc=D._Buffer_allocUnsafe,T.writeBytesBuffer=D.Buffer&&D.Buffer.prototype instanceof Uint8Array&&"set"===D.Buffer.prototype.set.name?function(y,_,p){_.set(y,p)}:function(y,_,p){if(y.copy)y.copy(_,p,0,y.length);else for(var d=0;d<y.length;)_[p++]=y[d++]}},T.prototype.bytes=function(y){D.isString(y)&&(y=D._Buffer_from(y,"base64"));var _=y.length>>>0;return this.uint32(_),_&&this._push(T.writeBytesBuffer,_,y),this},T.prototype.string=function(y){var _=D.Buffer.byteLength(y);return this.uint32(_),_&&this._push(h,_,y),this},T._configure()},7714:(q,b,P)=>{"use strict";b.R=void 0;const S=P(6919),D=P(7448);b.R=new class{init(){return _asyncToGenerator(function*(){})()}createSessionHandler(T,h){return _asyncToGenerator(function*(){const y=new S.Session(h);return yield y.loadModel(T),new D.OnnxjsSessionHandler(y)})()}}},4200:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.wasmBackend=b.initializeFlags=void 0;const S=P(2203),D=P(2174),T=P(5381),h=P(8022),y=P(2157),_=P(2306);b.initializeFlags=()=>{if(("number"!=typeof D.env.wasm.initTimeout||D.env.wasm.initTimeout<0)&&(D.env.wasm.initTimeout=0),"boolean"!=typeof D.env.wasm.simd&&(D.env.wasm.simd=!0),"boolean"!=typeof D.env.wasm.proxy&&(D.env.wasm.proxy=!1),"number"!=typeof D.env.wasm.numThreads||!Number.isInteger(D.env.wasm.numThreads)||D.env.wasm.numThreads<=0){const p=typeof navigator>"u"?T.cpus().length:navigator.hardwareConcurrency;D.env.wasm.numThreads=Math.min(4,Math.ceil((p||1)/2))}},b.wasmBackend=new class{init(){return _asyncToGenerator(function*(){b.initializeFlags(),yield y.initWasm()})()}createSessionHandler(p,d){return _asyncToGenerator(function*(){let s;if("string"==typeof p)if(typeof fetch>"u")s=yield h.promisify(S.readFile)(p);else{const u=yield fetch(p),l=yield u.arrayBuffer();s=new Uint8Array(l)}else s=p;const o=new _.OnnxruntimeWebAssemblySessionHandler;return yield o.loadModel(s,d),Promise.resolve(o)})()}}},6018:function(q,b,P){"use strict";var S=this&&this.__createBinding||(Object.create?function(h,y,_,p){void 0===p&&(p=_),Object.defineProperty(h,p,{enumerable:!0,get:function(){return y[_]}})}:function(h,y,_,p){void 0===p&&(p=_),h[p]=y[_]}),D=this&&this.__exportStar||function(h,y){for(var _ in h)"default"===_||Object.prototype.hasOwnProperty.call(y,_)||S(y,h,_)};Object.defineProperty(b,"__esModule",{value:!0}),D(P(2174),b);const T=P(2174);{const h=P(7714).R;T.registerBackend("webgl",h,-10)}{const h=P(4200).wasmBackend;T.registerBackend("cpu",h,10),T.registerBackend("wasm",h,10),T.registerBackend("xnnpack",h,9)}},246:(q,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createAttributeWithCacheKey=void 0;class P{constructor(D){Object.assign(this,D)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(D=>`${this[D]}`).join(";")),this._cacheKey}}b.createAttributeWithCacheKey=S=>new P(S)},7778:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Attribute=void 0;const S=P(1446),D=P(9395),T=P(9162),h=P(2517);var y=D.onnxruntime.experimental.fbs;class _{constructor(d){if(this._attributes=new Map,null!=d){for(const s of d)s instanceof S.onnx.AttributeProto?this._attributes.set(s.name,[_.getValue(s),_.getType(s)]):s instanceof y.Attribute&&this._attributes.set(s.name(),[_.getValue(s),_.getType(s)]);if(this._attributes.size<d.length)throw new Error("duplicated attribute names")}}set(d,s,o){this._attributes.set(d,[o,s])}delete(d){this._attributes.delete(d)}getFloat(d,s){return this.get(d,"float",s)}getInt(d,s){return this.get(d,"int",s)}getString(d,s){return this.get(d,"string",s)}getTensor(d,s){return this.get(d,"tensor",s)}getFloats(d,s){return this.get(d,"floats",s)}getInts(d,s){return this.get(d,"ints",s)}getStrings(d,s){return this.get(d,"strings",s)}getTensors(d,s){return this.get(d,"tensors",s)}get(d,s,o){const u=this._attributes.get(d);if(void 0===u){if(void 0!==o)return o;throw new Error(`required attribute not found: ${d}`)}if(u[1]!==s)throw new Error(`type mismatch: expected ${s} but got ${u[1]}`);return u[0]}static getType(d){const s=d instanceof S.onnx.AttributeProto?d.type:d.type();switch(s){case S.onnx.AttributeProto.AttributeType.FLOAT:return"float";case S.onnx.AttributeProto.AttributeType.INT:return"int";case S.onnx.AttributeProto.AttributeType.STRING:return"string";case S.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case S.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case S.onnx.AttributeProto.AttributeType.INTS:return"ints";case S.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case S.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${S.onnx.AttributeProto.AttributeType[s]}`)}}static getValue(d){const s=d instanceof S.onnx.AttributeProto?d.type:d.type();if(s===S.onnx.AttributeProto.AttributeType.GRAPH||s===S.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const o=this.getValueNoCheck(d);if(s===S.onnx.AttributeProto.AttributeType.INT&&h.LongUtil.isLong(o))return h.LongUtil.longToNumber(o);if(s===S.onnx.AttributeProto.AttributeType.INTS){const u=o,l=new Array(u.length);for(let f=0;f<u.length;f++)l[f]=h.LongUtil.longToNumber(u[f]);return l}if(s===S.onnx.AttributeProto.AttributeType.TENSOR)return d instanceof S.onnx.AttributeProto?T.Tensor.fromProto(o):T.Tensor.fromOrtTensor(o);if(s===S.onnx.AttributeProto.AttributeType.TENSORS){if(d instanceof S.onnx.AttributeProto)return o.map(u=>T.Tensor.fromProto(u));if(d instanceof y.Attribute)return o.map(u=>T.Tensor.fromOrtTensor(u))}return s===S.onnx.AttributeProto.AttributeType.STRING&&d instanceof S.onnx.AttributeProto?h.decodeUtf8String(o):s===S.onnx.AttributeProto.AttributeType.STRINGS&&d instanceof S.onnx.AttributeProto?o.map(h.decodeUtf8String):o}static getValueNoCheck(d){return d instanceof S.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(d):this.getValueNoCheckFromOrtFormat(d)}static getValueNoCheckFromOnnxFormat(d){switch(d.type){case S.onnx.AttributeProto.AttributeType.FLOAT:return d.f;case S.onnx.AttributeProto.AttributeType.INT:return d.i;case S.onnx.AttributeProto.AttributeType.STRING:return d.s;case S.onnx.AttributeProto.AttributeType.TENSOR:return d.t;case S.onnx.AttributeProto.AttributeType.GRAPH:return d.g;case S.onnx.AttributeProto.AttributeType.FLOATS:return d.floats;case S.onnx.AttributeProto.AttributeType.INTS:return d.ints;case S.onnx.AttributeProto.AttributeType.STRINGS:return d.strings;case S.onnx.AttributeProto.AttributeType.TENSORS:return d.tensors;case S.onnx.AttributeProto.AttributeType.GRAPHS:return d.graphs;default:throw new Error(`unsupported attribute type: ${S.onnx.AttributeProto.AttributeType[d.type]}`)}}static getValueNoCheckFromOrtFormat(d){switch(d.type()){case y.AttributeType.FLOAT:return d.f();case y.AttributeType.INT:return d.i();case y.AttributeType.STRING:return d.s();case y.AttributeType.TENSOR:return d.t();case y.AttributeType.GRAPH:return d.g();case y.AttributeType.FLOATS:return d.floatsArray();case y.AttributeType.INTS:{const s=[];for(let o=0;o<d.intsLength();o++)s.push(d.ints(o));return s}case y.AttributeType.STRINGS:{const s=[];for(let o=0;o<d.stringsLength();o++)s.push(d.strings(o));return s}case y.AttributeType.TENSORS:{const s=[];for(let o=0;o<d.tensorsLength();o++)s.push(d.tensors(o));return s}default:throw new Error(`unsupported attribute type: ${y.AttributeType[d.type()]}`)}}}b.Attribute=_},7091:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolveBackend=b.backend=void 0;const S=P(5038),D=new Map;function T(y){return h.apply(this,arguments)}function h(){return(h=_asyncToGenerator(function*(y){const _=b.backend;if(void 0!==_[y]&&"initialize"in(p=_[y])&&"function"==typeof p.initialize&&"createSessionHandler"in p&&"function"==typeof p.createSessionHandler&&"dispose"in p&&"function"==typeof p.dispose){const p=_[y];let d=p.initialize();if("object"==typeof d&&"then"in d&&(d=yield d),d)return D.set(y,p),p}var p})).apply(this,arguments)}b.backend={webgl:new S.WebGLBackend},b.resolveBackend=function(){var y=_asyncToGenerator(function*(p){if(!p)return _(["webgl"]);{const d="string"==typeof p?[p]:p;for(const s of d){const o=D.get(s);if(o)return o;const u=yield T(s);if(u)return u}}throw new Error("no available backend to use")});function _(p){return y.apply(this,arguments)}return _}()},5038:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLBackend=void 0;const S=P(2174),D=P(6231),T=P(6416),h=P(7305);b.WebGLBackend=class{get contextId(){return S.env.webgl.contextId}set contextId(y){S.env.webgl.contextId=y}get matmulMaxBatchSize(){return S.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(y){S.env.webgl.matmulMaxBatchSize=y}get textureCacheMode(){return S.env.webgl.textureCacheMode}set textureCacheMode(y){S.env.webgl.textureCacheMode=y}get pack(){return S.env.webgl.pack}set pack(y){S.env.webgl.pack=y}get async(){return S.env.webgl.async}set async(y){S.env.webgl.async=y}initialize(){try{return this.glContext=h.createWebGLContext(this.contextId),"number"!=typeof this.matmulMaxBatchSize&&(this.matmulMaxBatchSize=16),"string"!=typeof this.textureCacheMode&&(this.textureCacheMode="full"),"boolean"!=typeof this.pack&&(this.pack=!1),"boolean"!=typeof this.async&&(this.async=!1),D.Logger.setWithEnv(S.env),D.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(y){return D.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${y}`),!1}}createSessionHandler(y){return new T.WebGLSessionHandler(this,y)}dispose(){this.glContext.dispose()}}},5107:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CoordsGlslLib=void 0;const S=P(2517),D=P(8520),T=P(5060),h=P(7859),y=P(9390);b.CoordsGlslLib=class _ extends D.GlslLib{constructor(d){super(d)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new D.GlslLibRoutine("\n      vec2 offsetToCoords(int offset, int width, int height) {\n        int t = offset / width;\n        int s = offset - t*width;\n        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);\n        return coords;\n      }\n      ")}}coordsToOffset(){return{coordsToOffset:new D.GlslLibRoutine("\n      int coordsToOffset(vec2 coords, int width, int height) {\n        float s = coords.s * float(width);\n        float t = coords.t * float(height);\n        int offset = int(t) * width + int(s);\n        return offset;\n      }\n      ")}}getOutputSamplingSnippet(){const d=this.context.outputTextureLayout;return d.isPacked?this.getPackedOutputSamplingSnippet(d):this.getUnpackedOutputSamplingSnippet(d)}getPackedOutputSamplingSnippet(d){const s=d.unpackedShape,o=[d.width,d.height],u={},l="getOutputCoords";switch(s.length){case 0:u[l]=this.getOutputScalarCoords();break;case 1:u[l]=this.getOutputPacked1DCoords(s,o);break;case 2:u[l]=this.getOutputPacked2DCoords(s,o);break;case 3:u[l]=this.getOutputPacked3DCoords(s,o);break;default:u[l]=this.getOutputPackedNDCoords(s,o)}const f=`\n      void setOutput(vec4 val) {\n        ${T.getGlsl(this.context.glContext.version).output} = val;\n      }\n    `;return u.floatTextureSetRGBA=new D.GlslLibRoutine(f),u}getUnpackedOutputSamplingSnippet(d){const s=d.unpackedShape,o=[d.width,d.height],u={},l="getOutputCoords";switch(s.length){case 0:u[l]=this.getOutputScalarCoords();break;case 1:u[l]=this.getOutputUnpacked1DCoords(s,o);break;case 2:u[l]=this.getOutputUnpacked2DCoords(s,o);break;case 3:u[l]=this.getOutputUnpacked3DCoords(s,o);break;case 4:u[l]=this.getOutputUnpacked4DCoords(s,o);break;case 5:u[l]=this.getOutputUnpacked5DCoords(s,o);break;case 6:u[l]=this.getOutputUnpacked6DCoords(s,o);break;default:throw new Error(`Unsupported output dimensionality: ${s.length}`)}const f=`\n        void setOutput(float val) {\n          ${T.getGlsl(this.context.glContext.version).output} = vec4(val, 0, 0, 0);\n        }\n    `;return u.floatTextureSetR=new D.GlslLibRoutine(f),u}getOutputScalarCoords(){return new D.GlslLibRoutine("\n      int getOutputCoords() {\n        return 0;\n      }\n    ")}getOutputPacked1DCoords(d,s){const o=s;let u="";return 1===o[0]?(u=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.y * ${o[1]}.0);\n          }\n        `,new D.GlslLibRoutine(u)):1===o[1]?(u=`\n          int getOutputCoords() {\n            return 2 * int(TexCoords.x * ${o[0]}.0);\n          }\n        `,new D.GlslLibRoutine(u)):(u=`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                 vec2(${o[0]}, ${o[1]}));\n          return 2 * (resTexRC.y * ${o[0]} + resTexRC.x);\n        }\n      `,new D.GlslLibRoutine(u))}getOutputPacked2DCoords(d,s){let o="";if(S.ArrayUtil.arraysEqual(d,s))return o=`\n        ivec2 getOutputCoords() {\n          return 2 * ivec2(TexCoords.xy * vec2(${s[0]}, ${s[1]}));\n        }\n      `,new D.GlslLibRoutine(o);const u=s,l=Math.ceil(d[1]/2);return o=`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${u[0]}, ${u[1]}));\n\n          int index = resTexRC.y * ${u[0]} + resTexRC.x;\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${l}) * 2;\n          int c = 2 * (index / ${l});\n\n          return ivec2(r, c);\n        }\n      `,new D.GlslLibRoutine(o)}getOutputPacked3DCoords(d,s){const o=[s[0],s[1]],u=Math.ceil(d[2]/2),l=u*Math.ceil(d[1]/2);return new D.GlslLibRoutine(`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${o[0]}, ${o[1]}));\n          int index = resTexRC.y * ${o[0]} + resTexRC.x;\n\n          int b = index / ${l};\n          index -= b * ${l};\n\n          // reverse r and c order for packed texture\n          int r = imod(index, ${u}) * 2;\n          int c = 2 * (index / ${u});\n\n          return ivec3(b, r, c);\n        }\n      `)}getOutputPackedNDCoords(d,s){const o=[s[0],s[1]],u=Math.ceil(d[d.length-1]/2),l=u*Math.ceil(d[d.length-2]/2);let f=l,m="",v="b, r, c";for(let I=2;I<d.length-1;I++)f*=d[d.length-I-1],m=`\n      int b${I} = index / ${f};\n      index -= b${I} * ${f};\n    `+m,v=`b${I}, `+v;return new D.GlslLibRoutine(`\n      ivec${d.length} getOutputCoords() {\n        ivec2 resTexRC = ivec2(TexCoords.xy *\n                              vec2(${o[0]}, ${o[1]}));\n        int index = resTexRC.y * ${o[0]} + resTexRC.x;\n\n        ${m}\n\n        int b = index / ${l};\n        index -= b * ${l};\n\n        // reverse r and c order for packed texture\n        int r = imod(index, ${u}) * 2;\n        int c = 2 * (index / ${u});\n\n        return ivec${d.length}(${v});\n      }\n    `)}getOutputUnpacked1DCoords(d,s){return new D.GlslLibRoutine(`\n        int getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          return resTexRC.y * ${s[0]} + resTexRC.x;\n        }\n      `)}getOutputUnpacked2DCoords(d,s){return new D.GlslLibRoutine(`\n        ivec2 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          int r = index / ${d[1]};\n          int c = index - r * ${d[1]};\n          return ivec2(r, c);\n        }\n      `)}getOutputUnpacked3DCoords(d,s){let o="";const u=d.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=d[u-1];for(let v=u-3;v>=0;--v)l[v]=l[v+1]*d[v+1];const f=["r","c","d"],m=l.map((v,x)=>`int ${f[x]} = index / ${v}; ${x===l.length-1?`int ${f[x+1]} = index - ${f[x]} * ${v}`:`index -= ${f[x]} * ${v}`};`).join("");return o=`\n        ivec3 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          ${m}\n          return ivec3(r, c, d);\n        }\n      `,new D.GlslLibRoutine(o)}getOutputUnpacked4DCoords(d,s){let o="";const u=d.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=d[u-1];for(let v=u-3;v>=0;--v)l[v]=l[v+1]*d[v+1];const f=["r","c","d","d2"],m=l.map((v,x)=>`int ${f[x]} = index / ${v}; ${x===l.length-1?`int ${f[x+1]} = index - ${f[x]} * ${v}`:`index -= ${f[x]} * ${v}`};`).join("");return o=`\n      ivec4 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          ${m}\n          return ivec4(r, c, d, d2);\n        }\n      `,new D.GlslLibRoutine(o)}getOutputUnpacked5DCoords(d,s){let o="";const u=d.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=d[u-1];for(let v=u-3;v>=0;--v)l[v]=l[v+1]*d[v+1];const f=["r","c","d","d2","d3"],m=l.map((v,x)=>`int ${f[x]} = index / ${v}; ${x===l.length-1?`int ${f[x+1]} = index - ${f[x]} * ${v}`:`index -= ${f[x]} * ${v}`};`).join("");return o=`\n      ivec5 getOutputCoords() {\n          ivec2 resTexRC = ivec2(TexCoords.xy *\n                                vec2(${s[0]}, ${s[1]}));\n          int index = resTexRC.y * ${s[0]} + resTexRC.x;\n          ${m}\n          return ivec5(r, c, d, d2, d3);\n        }\n      `,new D.GlslLibRoutine(o)}getOutputUnpacked6DCoords(d,s){let o="";const u=d.length;let l=null;u<2&&(l=[]),l=new Array(u-1),l[u-2]=d[u-1];for(let v=u-3;v>=0;--v)l[v]=l[v+1]*d[v+1];const f=["r","c","d","d2","d3","d4"],m=l.map((v,x)=>`int ${f[x]} = index / ${v}; ${x===l.length-1?`int ${f[x+1]} = index - ${f[x]} * ${v}`:`index -= ${f[x]} * ${v}`};`).join("");return o=`\n     ivec6 getOutputCoords() {\n         ivec2 resTexRC = ivec2(TexCoords.xy *\n                               vec2(${s[0]}, ${s[1]}));\n         int index = resTexRC.y * ${s[0]} + resTexRC.x;\n         ${m}\n         return ivec6(r, c, d, d2, d3, d4);\n       }\n     `,new D.GlslLibRoutine(o)}getCommonUtilFuncs(){const d={};let s="uvFromFlat";d[s]=new D.GlslLibRoutine("\n    vec2 uvFromFlat(int texNumR, int texNumC, int index) {\n      int texC = index / texNumR;\n      int texR = index - texC * texNumR;\n      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to\n      //       v.\n      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);\n    }\n    "),s="packedUVfrom1D",d[s]=new D.GlslLibRoutine("\n      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n        int texelIndex = index / 2;\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),s="packedUVfrom2D",d[s]=new D.GlslLibRoutine("\n      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {\n        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = texelIndex / texNumC;\n        int texC = texelIndex - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),s="packedUVfrom3D",d[s]=new D.GlslLibRoutine("\n      vec2 packedUVfrom3D(int texNumR, int texNumC,\n          int texelsInBatch, int texelsInLogicalRow, int b,\n          int row, int col) {\n        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n        int texR = index / texNumC;\n        int texC = index - texR * texNumC;\n        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n      }\n      "),s="sampleTexture";const o=T.getGlsl(this.context.glContext.version);return d[s]=new D.GlslLibRoutine(`\n        float sampleTexture(sampler2D textureSampler, vec2 uv) {\n            return ${o.texture2D}(textureSampler, uv).r;\n        }`),d}getInputsSamplingSnippets(){const d={},s=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((o,u)=>{const l=this.context.inputTextureLayouts[u],f=y.generateShaderFuncNameFromInputSamplerName(o);d[f]=l.isPacked?this.getPackedSamplerFromInput(f,o,l):this.getUnpackedSamplerFromInput(f,o,l);const m=y.generateShaderFuncNameFromInputSamplerNameAtOutCoords(o);l.unpackedShape.length<=s.unpackedShape.length&&(d[m]=l.isPacked?this.getPackedSamplerAtOutputCoords(m,l,s,o):this.getUnpackedSamplerAtOutputCoords(m,l,s,o))}),d}getPackedSamplerAtOutputCoords(d,s,o,u){const l=s.unpackedShape,f=o.unpackedShape,v=y.generateShaderFuncNameFromInputSamplerName(u),x=l.length,I=f.length,C=S.BroadcastUtil.getBroadcastDims(l,f),A=y.getCoordsDataType(I),R=I-x;let N;const k=y.getGlChannels();N=0===x?"":I<2&&C.length>=1?"coords = 0;":C.map(Z=>`coords.${k[Z+R]} = 0;`).join("\n");let O="";O=I<2&&x>0?"coords":l.map((Z,oe)=>`coords.${k[oe+R]}`).join(", ");let $="return outputValue;";const G=1===S.ShapeUtil.size(l),z=1===S.ShapeUtil.size(f);if(1!==x||G||z){if(G&&!z)$=1===I?"\n          return vec4(outputValue.x, outputValue.x, 0., 0.);\n        ":"\n          return vec4(outputValue.x);\n        ";else if(C.length){const Z=x-2,oe=x-1;C.indexOf(Z)>-1&&C.indexOf(oe)>-1?$="return vec4(outputValue.x);":C.indexOf(Z)>-1?$="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":C.indexOf(oe)>-1&&($="return vec4(outputValue.xx, outputValue.zz);")}}else $="\n        return vec4(outputValue.xy, outputValue.xy);\n      ";return new D.GlslLibRoutine(`\n      vec4 ${d}() {\n        ${A} coords = getOutputCoords();\n        \n        int lastDim = coords.${k[I-1]};\n        coords.${k[I-1]} = coords.${k[I-2]};\n        coords.${k[I-2]} = lastDim;\n      \n        ${N}\n        vec4 outputValue = ${v}(${O});\n        ${$}\n      }\n    `,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(d,s,o,u){const l=[o.width,o.height],f=[s.width,s.height],m=s.unpackedShape.length,v=o.unpackedShape.length,x=s.unpackedShape,I=o.unpackedShape,C=y.generateShaderFuncNameFromInputSamplerName(u);if(m===v&&S.ArrayUtil.arraysEqual(f,l))return new D.GlslLibRoutine(`\n          float ${d}() {\n            return sampleTexture(${u}, TexCoords);\n          }\n        `,["coordinates.sampleTexture"]);const A=y.getCoordsDataType(v),R=S.BroadcastUtil.getBroadcastDims(x,I),N=v-m;let k;const O=y.getGlChannels();k=0===m?"":v<2&&R.length>=1?"coords = 0;":R.map(z=>`coords.${O[z+N]} = 0;`).join("\n");let $="";return $=v<2&&m>0?"coords":s.unpackedShape.map((z,X)=>`coords.${O[X+N]}`).join(", "),new D.GlslLibRoutine(`\n        float ${d}() {\n          ${A} coords = getOutputCoords();\n          ${k}\n          return ${C}(${$});\n        }\n      `,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(d,s,o){switch(o.unpackedShape.length){case 0:return this.getPackedSamplerScalar(d,s);case 1:return this.getPackedSampler1D(d,s,o);case 2:return this.getPackedSampler2D(d,s,o);case 3:return this.getPackedSampler3D(d,s,o);default:return this.getPackedSamplerND(d,s,o)}}getUnpackedSamplerFromInput(d,s,o){const u=o.unpackedShape;switch(u.length){case 0:return this.getUnpackedSamplerScalar(d,s,o);case 1:return this.getUnpackedSampler1D(d,s,o);case 2:return this.getUnpackedSampler2D(d,s,o);case 3:return this.getUnpackedSampler3D(d,s,o);case 4:return this.getUnpackedSampler4D(d,s,o);case 5:return this.getUnpackedSampler5D(d,s,o);case 6:return this.getUnpackedSampler6D(d,s,o);default:throw new Error(`Unsupported dimension ${u.length}-D`)}}getPackedSamplerScalar(d,s){const o=`\n          vec4 ${d}() {\n            return ${T.getGlsl(this.context.glContext.version).texture2D}(${s}, halfCR);\n          }\n        `;return new D.GlslLibRoutine(o)}getPackedSampler1D(d,s,o){const u=[o.width,o.height],l=[u[1],u[0]],f=T.getGlsl(this.context.glContext.version);return new D.GlslLibRoutine(`vec4 ${d}(int index) {\n      vec2 uv = packedUVfrom1D(\n      ${l[0]}, ${l[1]}, index);\n      return ${f.texture2D}(${s}, uv);\n    }`,["coordinates.packedUVfrom1D"])}getPackedSampler2D(d,s,o){const u=o.unpackedShape,l=[o.width,o.height],f=T.getGlsl(this.context.glContext.version),m=l[0],v=l[1];if(null!=l&&S.ArrayUtil.arraysEqual(u,l))return new D.GlslLibRoutine(`vec4 ${d}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${v}.0, ${m}.0);\n        return ${f.texture2D}(${s}, uv);\n      }`);const x=l,I=Math.ceil(u[1]/2);return new D.GlslLibRoutine(`vec4 ${d}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${x[1]}, ${x[0]}, ${I}, row, col);\n      return ${f.texture2D}(${s}, uv);\n    }`,["coordinates.packedUVfrom2D"])}getPackedSampler3D(d,s,o){const u=o.unpackedShape,l=[o.width,o.height],f=[l[0],l[1]],m=T.getGlsl(this.context.glContext.version);if(1===u[0]){const A=u.slice(1),R=[1,2],N=y.squeezeInputShape(u,A),k=["b","row","col"],O=JSON.parse(JSON.stringify(o));O.unpackedShape=N;const $=this.getPackedSamplerFromInput(d,s,O),G=`${$.routineBody}\n      vec4 ${d}(int b, int row, int col) {\n        return ${d}(${y.getSqueezedParams(k,R)});\n      } `;return new D.GlslLibRoutine(G,$.dependencies)}const v=f[0],x=f[1],I=Math.ceil(u[2]/2),C=`vec4 ${d}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${x}, ${v}, ${I*Math.ceil(u[1]/2)}, ${I}, b, row, col);\n      return ${m.texture2D}(${s}, uv);}`;return new D.GlslLibRoutine(C,["coordinates.packedUVfrom3D"])}getPackedSamplerND(d,s,o){const u=o.unpackedShape,l=u.length,f=[o.width,o.height],m=T.getGlsl(this.context.glContext.version),v=[f[0],f[1]],x=v[1],I=v[0],C=Math.ceil(u[l-1]/2);let A=C*Math.ceil(u[l-2]/2),R="int b, int row, int col",N=`b * ${A} + (row / 2) * ${C} + (col / 2)`;for(let O=2;O<l-1;O++)R=`int b${O}, `+R,A*=u[l-O-1],N=`b${O} * ${A} + `+N;return new D.GlslLibRoutine(`vec4 ${d}(${R}) {\n      int index = ${N};\n      int texR = index / ${I};\n      int texC = index - texR * ${I};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${I}, ${x});\n      return ${m.texture2D}(${s}, uv);\n    }`)}getUnpackedSamplerScalar(d,s,o){const[u,l]=[o.width,o.height];return 1===u&&1===l?new D.GlslLibRoutine(`\n          float ${d}() {\n            return sampleTexture(${s}, halfCR);\n          }\n        `,["coordinates.sampleTexture"]):new D.GlslLibRoutine(`\n        float ${d}() {\n          int offset_${s} = coordsToOffset(TexCoords, ${u}, ${l});\n          vec2 uv = uvFromFlat(${u}, ${l}, offset_${s});\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(d,s,o){const u=o.width,l=o.height;return 1===l&&1===u?new D.GlslLibRoutine(`\n        float ${d}(int index) {\n          return sampleTexture(${s}, halfCR);\n        }\n      `,["coordinates.sampleTexture"]):1===l?new D.GlslLibRoutine(`\n          float ${d}(int index) {\n            vec2 uv = vec2((float(index) + 0.5) / ${u}.0, 0.5);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture"]):1===u?new D.GlslLibRoutine(`\n          float ${d}(int index) {\n            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${l}.0);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture"]):new D.GlslLibRoutine(`\n        float ${d}(int index) {\n          vec2 uv = uvFromFlat(${u}, ${l}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(d,s,o){const u=o.unpackedShape,l=[o.height,o.width];if(null!=l&&S.ArrayUtil.arraysEqual(u,l))return new D.GlslLibRoutine(`\n          float ${d}(int row, int col) {\n            vec2 uv = (vec2(row, col) + halfCR) / vec2(${l[1]}.0, ${l[0]}.0);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture"]);const{newShape:f,keptDims:m}=h.squeezeShape(u);if(f.length<u.length){const A=y.squeezeInputShape(u,f),R=JSON.parse(JSON.stringify(o));R.unpackedShape=A;const N=["col","row"],k=`\n          ${this.getUnpackedSamplerFromInput(d,s,R).routineBody}\n          float ${d}(int row, int col) {\n            return ${d}(${y.getSqueezedParams(N,m)});\n          }\n        `;return new D.GlslLibRoutine(k,["coordinates.sampleTexture"])}const x=l[1],I=l[0];return 1===I?new D.GlslLibRoutine(`\n          float ${d}(int row, int col) {\n            int offset_${s} = coordsToOffset(TexCoords, ${x}, ${I});\n            float index = dot(vec3(row, col, offset_${s}), vec3(${u[1]}, 1, 1));\n            vec2 uv = vec2(0.5, (index + 0.5) / ${x}.0);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture","coordinates.coordsToOffset"]):1===x?new D.GlslLibRoutine(`\n          float ${d}(int row, int col) {\n            int offset_${s} = coordsToOffset(TexCoords, ${x}, ${I});\n            float index = dot(vec3(row, col, offset_${s}), vec3(${u[1]}, 1, 1));\n            vec2 uv = vec2((index + 0.5) / ${I}.0, 0.5);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.sampleTexture","coordinates.coordsToOffset"]):new D.GlslLibRoutine(`\n        float ${d}(int row, int col) {\n          int index = col * ${u[1]} + row;\n          vec2 uv = uvFromFlat(${x}, ${I}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(d,s,o){const u=o.unpackedShape,l=u[1]*u[2],f=u[2],{newShape:m,keptDims:v}=h.squeezeShape(u);if(m.length<u.length){const C=y.squeezeInputShape(u,m),A=["batch","col","row"],R=JSON.parse(JSON.stringify(o));R.unpackedShape=C;const N=this.getUnpackedSamplerFromInput(d,s,R),k=v.reverse(),O=`\n          ${N.routineBody}\n          float ${d}(int batch, int row, int col) {\n            return ${d}(${y.getSqueezedParams(A,k)});\n          }\n        `;return new D.GlslLibRoutine(O,N.dependencies)}return new D.GlslLibRoutine(`\n          float ${d}(int depth, int row, int col) {\n            // Explicitly use integer operations as dot() only works on floats.\n            int index = depth * ${l} + col * ${f} + row;\n            vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n            return sampleTexture(${s}, uv);\n          }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(d,s,o){const u=o.unpackedShape,l=u[3],f=u[2]*l;return new D.GlslLibRoutine(`\n        float ${d}(int row, int col, int depth, int depth2) {\n          int index = row * ${u[1]*f} + col * ${f} +\n              depth2 * ${l} + depth;\n          vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(d,s,o){const u=o.unpackedShape,l=u[4],f=u[3]*l,m=u[2]*f,v=u[1]*m,{newShape:x,keptDims:I}=h.squeezeShape(u);if(x.length<u.length){const A=y.squeezeInputShape(u,x),R=["row","col","depth","depth2","depth3"],N=JSON.parse(JSON.stringify(o));N.unpackedShape=A;const k=`\n          ${this.getUnpackedSamplerFromInput(d,s,N).routineBody}\n          float ${d}(int row, int col, int depth, int depth2, int depth3) {\n            return ${d}(${y.getSqueezedParams(R,I)});\n          }\n        `;return new D.GlslLibRoutine(k,["coordinates.sampleTexture","coordinates.uvFromFlat"])}return new D.GlslLibRoutine(`\n        float ${d}(int row, int col, int depth, int depth2, int depth3) {\n          int index = row * ${v} + col * ${m} + depth * ${f} +\n          depth3 * ${l} + depth2;\n          vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n          return sampleTexture(${s}, uv);\n        }\n      `,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(d,s,o){const u=o.unpackedShape,l=u[5],f=u[4]*l,m=u[3]*f,v=u[2]*m,x=u[1]*v,{newShape:I,keptDims:C}=h.squeezeShape(u);if(I.length<u.length){const R=y.squeezeInputShape(u,I),N=["row","col","depth","depth2","depth3","depth4"],k=JSON.parse(JSON.stringify(o));k.unpackedShape=R;const O=`\n            ${this.getUnpackedSamplerFromInput(d,s,k).routineBody}\n            float ${d}(int row, int col, int depth,\n              int depth2, int depth3, int depth4) {\n              return ${d}(${y.getSqueezedParams(N,C)});\n            }\n          `;return new D.GlslLibRoutine(O,["coordinates.sampleTexture","coordinates.uvFromFlat"])}return new D.GlslLibRoutine(`\n          float ${d}(int row, int col, int depth,\n            int depth2, int depth3, int depth4) {\n            int index = row * ${x} + col * ${v} + depth * ${m} +\n            depth2 * ${f} + depth3 * ${l} + depth4;\n            vec2 uv = uvFromFlat(${o.width}, ${o.height}, index);\n            return sampleTexture(${s}, uv);\n          }\n        `,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const d=this.context.outputTextureLayout,s=d.shape.length,o=d.strides,u=d.width,l=d.height,f=[];for(let v=0;v<s-1;++v)f.push(`\n        c[${v}] = offset / ${o[v]};`),f.push(`\n        offset -= c[${v}] * ${o[v]};`);f.push(`\n        c[${s-1}] = offset;`);const m=`\n      void toVec(vec2 texCoords, out int c[${s}]) {\n        int offset = coordsToOffset(texCoords, ${u}, ${l});\n        ${f.join("")}\n      }\n      void toVec(int offset, out int c[${s}]) {\n        ${f.join("")}\n      }\n    `;return{toVec:new D.GlslLibRoutine(m,["coordinates.coordsToOffset"])}}valueFrom(){const d={};return this.context.programInfo.inputNames.forEach((s,o)=>{const u=this.context.inputTextureLayouts[o],l=(u.unpackedShape.length>0?u.unpackedShape:u.shape).length;let f=`_${s}`;d[f]=new D.GlslLibRoutine(this.getValueFromSingle(s,l,u.width,u.height,!1),[`shapeUtils.indicesToOffset${f}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),f+="_T",d[f]=new D.GlslLibRoutine(this.getValueFromSingle(s,l,u.width,u.height,!0),[`shapeUtils.indicesToOffset${f}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),d}getValueFromSingle(d,s,o,u,l){let f=`_${d}`;return l&&(f+="_T"),`\n        float ${f}(int m[${s}]) {\n          int offset = indicesToOffset${f}(m);\n          vec2 coords = offsetToCoords(offset, ${o}, ${u});\n          float value = getColorAsFloat(${T.getGlsl(this.context.glContext.version).texture2D}(${d}, coords));\n          return value;\n        }\n        `}getPackedValueFrom(d,s,o,u,l){let f=`_${d}_Pack`;return l&&(f+="_T"),`\n        vec4 ${f}(int m[${s}]) {\n          int offset = indicesToOffset_${d}(m);\n          vec2 coords = offsetToCoords(offset, ${o}, ${u});\n          return ${T.getGlsl(this.context.glContext.version).texture2D}(${d}, coords);\n        }\n        `}}},8520:(q,b)=>{"use strict";var P;Object.defineProperty(b,"__esModule",{value:!0}),b.TopologicalSortGlslRoutines=b.GlslLibRoutineNode=b.GlslLibRoutine=b.GlslLib=b.GlslContext=b.FunctionType=void 0,(P=b.FunctionType||(b.FunctionType={}))[P.ValueBased=0]="ValueBased",P[P.Positional=1]="Positional",b.GlslContext=class{constructor(S,D,T,h){this.glContext=S,this.programInfo=D,this.inputTextureLayouts=T,this.outputTextureLayout=h}},b.GlslLib=class{constructor(S){this.context=S}},b.GlslLibRoutine=class{constructor(S,D){this.routineBody=S,this.dependencies=D}},b.GlslLibRoutineNode=class{constructor(S,D,T){this.name=S,this.dependencies=T||[],D&&(this.routineBody=D)}addDependency(S){S&&this.dependencies.push(S)}},b.TopologicalSortGlslRoutines=class{static returnOrderedNodes(S){if(!S||0===S.length)return[];if(1===S.length)return S;const D=new Set,T=new Set,h=new Array;return this.createOrderedNodes(S,D,T,h),h}static createOrderedNodes(S,D,T,h){for(let y=0;y<S.length;++y)this.dfsTraverse(S[y],D,T,h)}static dfsTraverse(S,D,T,h){if(!S||T.has(S.name))return;if(D.has(S.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");D.add(S.name);const y=S.dependencies;if(y&&y.length>0)for(let _=0;_<y.length;++_)this.dfsTraverse(y[_],D,T,h);h.push(S),T.add(S.name),D.delete(S.name)}}},7341:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.EncodingGlslLib=void 0;const S=P(8520);class D extends S.GlslLib{constructor(h){super(h)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new S.GlslLibRoutine("highp vec4 encode(highp float f) {\n        return vec4(f, 0.0, 0.0, 0.0);\n      }\n        ")}}decodeFloat32(){return{decode:new S.GlslLibRoutine("highp float decode(highp vec4 rgba) {\n        return rgba.r;\n      }\n        ")}}encodeUint8(){const h=D.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new S.GlslLibRoutine(`\n      highp vec4 encode(highp float f) {\n        highp float F = abs(f);\n        highp float Sign = step(0.0,-f);\n        highp float Exponent = floor(log2(F));\n        highp float Mantissa = (exp2(- Exponent) * F);\n        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));\n        highp vec4 rgba;\n        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));\n        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);\n        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));\n        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));\n        ${h}\n        rgba = rgba / 255.0; // values need to be normalized to [0,1]\n        return rgba;\n    }\n        `)}}decodeUint8(){const h=D.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new S.GlslLibRoutine(`\n        highp float decode(highp vec4 rgba) {\n          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]\n          ${h}\n          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;\n          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;\n          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);\n          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));\n          return Result;\n      }\n        `)}}static isLittleEndian(){const h=new ArrayBuffer(4),y=new Uint32Array(h),_=new Uint8Array(h);if(y[0]=3735928559,239===_[0])return!0;if(222===_[0])return!1;throw new Error("unknown endianness")}}b.EncodingGlslLib=D},9894:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FragColorGlslLib=void 0;const S=P(8520),D=P(5060);b.FragColorGlslLib=class T extends S.GlslLib{constructor(y){super(y)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const y=D.getGlsl(this.context.glContext.version);return{setFragColor:new S.GlslLibRoutine(`\n        void setFragColor(float value) {\n            ${y.output} = encode(value);\n        }\n        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new S.GlslLibRoutine("\n        float getColorAsFloat(vec4 color) {\n            return decode(color);\n        }\n        ",["encoding.decode"])}}}},2848:(q,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.replaceInlines=void 0;const P=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;b.replaceInlines=function(S){const D={};let T;for(;null!==(T=P.exec(S));){const h=T[3].split(",").map(y=>{const _=y.trim().split(" ");return _&&2===_.length?{type:_[0],name:_[1]}:null}).filter(y=>null!==y);D[T[2]]={params:h,body:T[4]}}for(const h in D){const y="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",h),_=new RegExp(y,"gm");for(;null!==(T=_.exec(S));){const p=T[1],d=T[2],s=T[3].split(","),o=p?`${p} ${d};`:"";let u=D[h].body,l="";D[h].params.forEach((m,v)=>{m&&(l+=`${m.type} ${m.name} = ${s[v]};\n`)}),u=`${l}\n ${u}`,u=u.replace("return",`${d} = `),S=S.replace(T[0],`\n      ${o}\n      {\n        ${u}\n      }\n      `)}}return S.replace(P,"")}},8879:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GlslPreprocessor=void 0;const S=P(8520),D=P(2848),T=P(5483),h=P(5060);b.GlslPreprocessor=class{constructor(y,_,p,d){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new S.GlslContext(y,_,p,d),Object.keys(T.glslRegistry).forEach(o=>{const u=new T.glslRegistry[o](this.context);this.libs[o]=u});const s=this.glslLibRoutineDependencyGraph;for(const o in this.libs){const u=this.libs[o].getFunctions();for(const l in u){const f=o+"."+l;let m;s[f]?(m=s[f],m.routineBody=u[l].routineBody):(m=new S.GlslLibRoutineNode(f,u[l].routineBody),s[f]=m);const v=u[l].dependencies;if(v)for(let x=0;x<v.length;++x)if(s[v[x]])m.addDependency(s[v[x]]);else{const I=new S.GlslLibRoutineNode(v[x]);s[v[x]]=I,m.addDependency(I)}}}}preprocess(){const y=this.context.programInfo;let _=y.shaderSource;return this.context.programInfo.hasMain||(_=`${_}\n      ${h.getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),_=D.replaceInlines(_),`${h.getFragShaderPreamble(this.context.glContext.version)}\n    ${this.getUniforms(y.inputNames,y.variables)}\n    ${this.getImports(_)}\n    ${_}`}getImports(y){const _=this.selectGlslLibRoutinesToBeIncluded(y);if(0===_.length)return"";let p="";for(let d=0;d<_.length;++d){if(!_[d].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${_[d].name}`);p+=_[d].routineBody+"\n"}return p}selectGlslLibRoutinesToBeIncluded(y){const _=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(p=>{const d=p.split(".")[1];-1!==y.indexOf(d)&&_.push(this.glslLibRoutineDependencyGraph[p])}),S.TopologicalSortGlslRoutines.returnOrderedNodes(_)}getUniforms(y,_){const p=[];if(y)for(const d of y)p.push(`uniform sampler2D ${d};`);if(_)for(const d of _)p.push(`uniform ${d.type} ${d.name}${d.arrayLength?`[${d.arrayLength}]`:""};`);return p.join("\n")}}},5483:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.glslRegistry=void 0;const S=P(5107),D=P(7341),T=P(9894),h=P(2655),y=P(3891);b.glslRegistry={encoding:D.EncodingGlslLib,fragcolor:T.FragColorGlslLib,vec:y.VecGlslLib,shapeUtils:h.ShapeUtilsGlslLib,coordinates:S.CoordsGlslLib}},2655:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ShapeUtilsGlslLib=void 0;const S=P(8520);class D extends S.GlslLib{constructor(h){super(h)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const h=this.context.outputTextureLayout.shape.length,y={};return this.context.programInfo.inputNames.forEach((_,p)=>{const d=this.context.inputTextureLayouts[p].unpackedShape;if(d.length<=h){const s=d.length,o=h-s,u=`bcastIndices_${_}`;let l="";for(let m=0;m<s;++m)l+=`\n          realIndices[${m}] = int( mod(float(bcastedIndices[${o+m}]), ${d[m]}.0) );\n          `;y[u]=new S.GlslLibRoutine(`\n        void ${u} (int bcastedIndices[${h}], out int realIndices[${s}]) {\n          ${l}\n        }\n        `)}}),y}bcastMatmulIndex(){const h=this.context.outputTextureLayout.shape.length,y={};return this.context.programInfo.inputNames.forEach((_,p)=>{const d=this.context.inputTextureLayouts[p].shape;if(!(d.length<2||d.length>h)){const s=d.length,o=h-s,u=`bcastMatmulIndices_${_}`;let l="";for(let m=0;m<s-2;++m)l+=`\n          realIndices[${m}] = int( mod(float(bcastedIndices[${o+m}]), ${d[m]}.0) );\n          `;y[u]=new S.GlslLibRoutine(`\n        void ${u}(int bcastedIndices[${h}], out int realIndices[${s}]) {\n          ${l}\n          realIndices[${s-1}] = bcastedIndices[${h-1}];\n          realIndices[${s-2}] = bcastedIndices[${h-2}];\n        }\n        `)}}),y}indicesToOffset(){const h={};return this.context.programInfo.inputNames.forEach((y,_)=>{const d=this.context.inputTextureLayouts[_].strides,s=this.context.inputTextureLayouts[_].shape.length;let o=`indicesToOffset_${y}`;h[o]=new S.GlslLibRoutine(D.indexToOffsetSingle(o,s,d)),o=`indicesToOffset_${y}_T`,h[o]=new S.GlslLibRoutine(D.indexToOffsetSingle(o,s,d.slice().reverse()))}),h}static indexToOffsetSingle(h,y,_){let p="";for(let d=y-1;d>=0;--d)p+=`\n        offset += indices[${d}] * ${_[d]};\n        `;return`\n      int ${h}(int indices[${y}]) {\n        int offset = 0;\n        ${p}\n        return offset;\n      }\n      `}offsetToIndices(){const h={};return this.context.programInfo.inputNames.forEach((y,_)=>{const d=this.context.inputTextureLayouts[_].strides,s=this.context.inputTextureLayouts[_].shape.length;let o=`offsetToIndices_${y}`;h[o]=new S.GlslLibRoutine(D.offsetToIndicesSingle(o,s,d)),o=`offsetToIndices_${y}_T`,h[o]=new S.GlslLibRoutine(D.offsetToIndicesSingle(o,s,d.slice().reverse()))}),h}static offsetToIndicesSingle(h,y,_){const p=[];for(let d=0;d<y-1;++d)p.push(`\n      indices[${d}] = offset / ${_[d]};`),p.push(`\n        offset -= indices[${d}] * ${_[d]};`);return p.push(`\n      indices[${y-1}] = offset;`),`\n      void ${h}(int offset, out int indices[${y}]) {\n        ${p.join("")}\n      }\n      `}incrementIndices(){const h={};return this.context.programInfo.inputNames.forEach((y,_)=>{const p=this.context.inputTextureLayouts[_].shape,d=p.length,s=`incrementIndices_${y}`;let o="";for(let l=0;l<d;++l)o+=`\n        shape[${l}] = ${p[l]};`;h[s]=new S.GlslLibRoutine(`\n        void ${s}(int axis, out int indices[${d}]) {\n          int shape[${d}];\n          ${o};\n          for(int i = ${d} -1 ; i >= 0; --i) {\n            if(i > axis) continue;\n            indices[i] += 1;\n            if(indices[i] < shape[i]) {\n              break;\n            }\n            indices[i] = 0;\n          }\n        }\n        `)}),h}}b.ShapeUtilsGlslLib=D},5060:(q,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getDefaultFragShaderMain=b.getFragShaderPreamble=b.getVertexShaderSource=b.getGlsl=void 0;const P={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},S={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function D(T){return 1===T?P:S}b.getGlsl=D,b.getVertexShaderSource=function(T){const h=D(T);return`${h.version}\n      precision highp float;\n      ${h.attribute} vec3 position;\n      ${h.attribute} vec2 textureCoord;\n\n      ${h.varyingVertex} vec2 TexCoords;\n\n      void main()\n      {\n          gl_Position = vec4(position, 1.0);\n          TexCoords = textureCoord;\n      }`},b.getFragShaderPreamble=function(T){const h=D(T);return`${h.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${h.varyingFrag} vec2 TexCoords;\n    ${h.outputDeclaration}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    // Custom vector types to handle higher dimenalities.\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    `},b.getDefaultFragShaderMain=function(T,h){return`\n  void main() {\n    int indices[${h}];\n    toVec(TexCoords, indices);\n    vec4 result = vec4(process(indices));\n    ${D(T).output} = result;\n  }\n  `}},3891:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.VecGlslLib=void 0;const S=P(8520);b.VecGlslLib=class D extends S.GlslLib{constructor(h){super(h)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const h=this.context.outputTextureLayout.shape.length,y={add:"+=",sub:"-=",mul:"*=",div:"/="},_={};for(const p in y){const d=`${p}Vec`;let s="";for(let u=0;u<h;++u)s+=`\n          dest[${u}] ${y[p]} src[${u}];\n          `;_[d]=new S.GlslLibRoutine(`\n        void ${d}(int src[${h}], out int dest[${h}]) {\n          ${s}\n        }\n        `)}return _}copyVec(){const h=this.context.outputTextureLayout.shape.length;let y="";for(let p=0;p<h;++p)y+=`\n        dest[${p}] = src[${p}];\n        `;return{copyVec:new S.GlslLibRoutine(`\n      void copyVec(int src[${h}], out int dest[${h}]) {\n        ${y}\n      }\n      `)}}setVecItem(){const h=this.context.outputTextureLayout.shape.length;let y=`\n        if(index < 0)\n            index =${h} + index;\n        if (index == 0)\n            m[0] = value;\n        `;for(let p=1;p<h-1;++p)y+=`\n        else if (index == ${p})\n            m[${p}] = value;\n            `;return y+=`\n        else\n            m[${h-1}] = value;\n        `,{setVecItem:new S.GlslLibRoutine(`\n      void setVecItem(out int m[${h}], int index, int value) {\n        ${y}\n      }\n        `)}}getVecItem(){const h=this.context.outputTextureLayout.shape.length;let y=`\n        if(index < 0)\n            index = ${h} + index;\n        if (index == 0)\n            return m[0];\n      `;for(let p=1;p<h-1;++p)y+=`\n        else if (index == ${p})\n            return m[${p}];\n      `;return y+=`\n        else\n            return m[${h-1}];\n        `,{getVecItem:new S.GlslLibRoutine(`\n      int getVecItem(int m[${h}], int index) {\n        ${y}\n      }\n    `)}}}},8316:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLInferenceHandler=void 0;const S=P(6231),D=P(9162),T=P(2517),h=P(2403),y=P(7019),_=P(8710),p=P(5611),d=P(4057),s=P(2039);b.WebGLInferenceHandler=class{constructor(o){this.session=o,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(o,u){return d.calculateTextureWidthAndHeight(this.session.layoutStrategy,o,u)}executeProgram(o,u){if(u.length<o.inputNames.length)throw new Error(`Input size mustn't be less than ${o.inputNames.length}.`);if(o.inputNames.length!==o.inputTypes.length)throw new Error("input names size does not match input types");const l=[];for(let C=0;C<o.inputNames.length;++C)l[C]=this.getOrCreateTextureData(u[C],o.inputTypes[C]);const f=((C,A)=>{const R=A.map(k=>`${k.unpackedShape.join(",")};${k.width}x${k.height}`).join("_");let N=C.name;return C.cacheHint&&(N+="["+C.cacheHint+"]"),N+=":"+R,N})(o,l);let m=this.session.programManager.getArtifact(f);const v=m?m.programInfo:"function"==typeof o.get?o.get():o,x=d.createTextureLayoutFromTextureType(this.session.layoutStrategy,v.output.dims,v.output.textureType),I=this.createTextureData(x,v.output.type);return m||(m=this.session.programManager.build(v,l,I),this.session.programManager.setArtifact(f,m)),this.runProgram(m,l,I),I}run(o,u){return this.executeProgram(o,u).tensor}runProgram(o,u,l){for(let f=0;f<u.length;++f)if(!!u[f].isPacked!=(o.programInfo.inputTypes[f]===s.TextureType.packed))throw new Error(`input[${f}] property packed inconsistent`);if(!!l.isPacked!=(o.programInfo.output.textureType===s.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(o,u,l)}getOrCreateTextureData(o,u){let l=this.getTextureData(o.dataId,u===s.TextureType.packed);if(!l&&(l=this.getTextureData(o.dataId,u!==s.TextureType.packed),l))return u===s.TextureType.packed?this.pack(l):this.unpack(l);if(!l){const f=d.createTextureLayoutFromTextureType(this.session.layoutStrategy,o.dims,u);if(u===s.TextureType.packedLastDimension){const x=o.dims;if(4===x.length){const I=[x[0],Math.ceil(x[1]*x[2]*x[3]/4)],C=d.createTextureLayoutFromTextureType(this.session.layoutStrategy,I,u);let A=o.numberData;if(x[1]*x[2]*x[3]%4!=0){const R=x[0],N=x[1]*x[2]*x[3],k=4*Math.ceil(1*N/4);A=new Float32Array(R*k);for(let O=0;O<R;++O){const $=O*N,G=O*k+O%1*N;A.set(o.numberData.subarray($,$+N),G)}}return this.createTextureData(C,o.type,A,o,1)}}if(u===s.TextureType.packed){const m=d.createTextureLayoutFromShape(this.session.layoutStrategy,o.dims,1,[],{reverseWH:!0}),v=this.createTextureData(m,o.type,o.numberData,o,1);l=this.pack(v)}else l=this.createTextureData(f,o.type,o.numberData,o,1)}return l}createTextureDataFromLayoutBindTensor(o,u,l,f){return this.createTextureData(o,u,l,f,1)}createTextureData(o,u,l,f,m){S.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(o)}]`);const v=this.session.textureManager.createTextureFromLayout(u,o,l,m);return this.createTextureDataFromTexture(o,u,v,f)}reshapeUnpacked(o,u){const l=this.getOrCreateTextureData(o,s.TextureType.unpacked),f={channels:l.channels,height:l.height,width:l.width,shape:0!==u.length?u:[1],strides:T.ShapeUtil.computeStrides(u),unpackedShape:u};return this.createTextureDataFromTexture(f,o.type,l.texture).tensor}reshapePacked(o,u){const l=this.getOrCreateTextureData(o,s.TextureType.packed);if(y.isReshapeCheap(o.dims,u)){const I={channels:l.channels,height:l.height,width:l.width,shape:0!==u.length?u:[1],strides:T.ShapeUtil.computeStrides(u),unpackedShape:u,isPacked:!0};return this.createTextureDataFromTexture(I,o.type,l.texture).tensor}const f=y.processDims3D(o.dims),m=y.processDims3D(u),v=this.reshapePacked(o,f),x=this.run(y.createPackedReshape3DProgramInfoLoader(this,v,m),[v]);return this.reshapePacked(x,u)}cast(o,u){const l=this.getOrCreateTextureData(o,s.TextureType.unpacked);return this.createTextureDataFromTexture(l,u,l.texture).tensor}createTextureDataFromTexture(o,u,l,f,m){var v=this;const x=Object.assign(Object.assign({},o),{tensor:f||new D.Tensor(o.unpackedShape,u,I=>this.readTexture(x),function(){var I=_asyncToGenerator(function*(C){return v.readTextureAsync(x)});return function(C){return I.apply(this,arguments)}}(),void 0,m),texture:l});return this.setTextureData(x.tensor.dataId,x,o.isPacked),x}getTextureData(o,u=!1){return this.session.isInitializer(o)?this.session.getTextureData(o,u):u?this.packedTextureDataCache.get(o):this.unpackedTextureDataCache.get(o)}setTextureData(o,u,l=!1){this.session.isInitializer(o)?this.session.setTextureData(o,u,l):(l?this.packedTextureDataCache:this.unpackedTextureDataCache).set(o,u)}isTextureLayoutCached(o,u=!1){return!!this.getTextureData(o.dataId,u)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(o=>this.session.textureManager.releaseTexture(o)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(o=>this.session.textureManager.releaseTexture(o)),this.unpackedTextureDataCache=new Map}readTexture(o){return o.isPacked?this.readTexture(this.unpack(o)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(o,o.tensor.type,o.channels):this.session.textureManager.readUint8TextureAsFloat(_.encodeAsUint8(this,o))}readTextureAsync(o){var u=this;return _asyncToGenerator(function*(){return o.isPacked?u.readTextureAsync(u.unpack(o)):u.session.backend.glContext.isFloat32DownloadSupported?u.session.textureManager.readTextureAsync(o,o.tensor.type,o.channels):u.session.textureManager.readUint8TextureAsFloat(_.encodeAsUint8(u,o))})()}pack(o){return this.executeProgram(h.createPackProgramInfoLoader(this,o.tensor),[o.tensor])}unpack(o){return this.executeProgram(p.createUnpackProgramInfoLoader(this,o.tensor),[o.tensor])}}},1640:function(q,b,P){"use strict";var S=this&&this.__createBinding||(Object.create?function(re,_e,we,Ge){void 0===Ge&&(Ge=we),Object.defineProperty(re,Ge,{enumerable:!0,get:function(){return _e[we]}})}:function(re,_e,we,Ge){void 0===Ge&&(Ge=we),re[Ge]=_e[we]}),D=this&&this.__setModuleDefault||(Object.create?function(re,_e){Object.defineProperty(re,"default",{enumerable:!0,value:_e})}:function(re,_e){re.default=_e}),T=this&&this.__importStar||function(re){if(re&&re.__esModule)return re;var _e={};if(null!=re)for(var we in re)"default"!==we&&Object.prototype.hasOwnProperty.call(re,we)&&S(_e,re,we);return D(_e,re),_e};Object.defineProperty(b,"__esModule",{value:!0}),b.WEBGL_OP_RESOLVE_RULES=void 0;const h=P(2898),y=T(P(7839)),_=P(4196),p=P(2069),d=P(8138),s=P(9663),o=P(5193),u=P(7992),l=P(1253),f=P(4776),m=P(6572),v=P(3346),x=P(5623),I=P(2870),C=P(2143),A=P(4939),R=P(718),N=P(2268),k=P(8117),O=P(2278),$=P(5524),G=P(5975),z=P(3933),X=P(6558),Z=P(5723),oe=P(3738),B=T(P(4909)),K=P(8428),ve=P(9793);b.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",B.abs],["Acos","","7+",B.acos],["Add","","7+",y.add],["And","","7+",y.and],["Asin","","7+",B.asin],["Atan","","7+",B.atan],["AveragePool","","7+",C.averagePool,C.parseAveragePoolAttributes],["BatchNormalization","","7+",h.batchNormalization,h.parseBatchNormalizationAttributes],["Cast","","6+",_.cast,_.parseCastAttributes],["Ceil","","6+",B.ceil],["Clip","","6-10",B.clip,B.parseClipAttributes],["Clip","","11+",B.clipV11],["Concat","","4+",p.concat,p.parseConcatAttributes],["Conv","","1+",d.conv,d.parseConvAttributes],["ConvTranspose","","1+",s.convTranspose,s.parseConvTransposeAttributes],["Cos","","7+",B.cos],["Div","","7+",y.div],["Dropout","","7+",B.identity],["DepthToSpace","","1+",o.depthToSpace,o.parseDepthToSpaceAttributes],["Equal","","7+",y.equal],["Elu","","6+",B.elu,B.parseEluAttributes],["Exp","","6+",B.exp],["Flatten","","1+",u.flatten,u.parseFlattenAttributes],["Floor","","6+",B.floor],["FusedConv","com.microsoft","1+",d.conv,d.parseConvAttributes],["Gather","","1+",l.gather,l.parseGatherAttributes],["Gemm","","7-10",f.gemm,f.parseGemmAttributesV7],["Gemm","","11+",f.gemm,f.parseGemmAttributesV11],["GlobalAveragePool","","1+",C.globalAveragePool,C.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",C.globalMaxPool],["Greater","","7+",y.greater],["Identity","","1+",B.identity],["ImageScaler","","1+",m.imageScaler,m.parseImageScalerAttributes],["InstanceNormalization","","6+",v.instanceNormalization,v.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",B.leakyRelu,B.parseLeakyReluAttributes],["Less","","7+",y.less],["Log","","6+",B.log],["MatMul","","1+",x.matMul,x.parseMatMulAttributes],["MaxPool","","1+",C.maxPool,C.parseMaxPoolAttributes],["Mul","","7+",y.mul],["Neg","","6+",B.neg],["Not","","1+",B.not],["Or","","7+",y.or],["Pad","","2-10",I.padV2,I.parsePadAttributesV2],["Pad","","11+",I.padV11,I.parsePadAttributesV11],["Pow","","7+",y.pow],["PRelu","","7+",y.pRelu],["ReduceLogSum","","1+",A.reduceLogSum,A.parseReduceAttributes],["ReduceMax","","1+",A.reduceMax,A.parseReduceAttributes],["ReduceMean","","1+",A.reduceMean,A.parseReduceAttributes],["ReduceMin","","1+",A.reduceMin,A.parseReduceAttributes],["ReduceProd","","1+",A.reduceProd,A.parseReduceAttributes],["ReduceSum","","1-12",A.reduceSum,A.parseReduceAttributes],["ReduceSumSquare","","1+",A.reduceLogSumSquare,A.parseReduceAttributes],["Relu","","6+",B.relu],["Reshape","","5+",R.reshape],["Resize","","10",N.resize,N.parseResizeAttributesV10],["Resize","","11+",N.resize,N.parseResizeAttributesV11],["Shape","","1+",k.shape],["Sigmoid","","6+",B.sigmoid],["Sin","","7+",B.sin],["Slice","","10+",O.sliceV10],["Slice","","1-9",O.slice,O.parseSliceAttributes],["Softmax","","1-12",$.softmax,$.parseSoftmaxAttributes],["Softmax","","13+",$.softmaxV13,$.parseSoftmaxAttributesV13],["Split","","2-12",G.split,G.parseSplitAttributes],["Sqrt","","6+",B.sqrt],["Squeeze","","1-12",z.squeeze,z.parseSqueezeAttributes],["Squeeze","","13+",z.squeezeV13],["Sub","","7+",y.sub],["Sum","","6+",X.sum],["Tan","","7+",B.tan],["Tanh","","6+",B.tanh],["Tile","","6+",Z.tile],["Transpose","","1+",oe.transpose,oe.parseTransposeAttributes],["Upsample","","7-8",ve.upsample,ve.parseUpsampleAttributesV7],["Upsample","","9",ve.upsample,ve.parseUpsampleAttributesV9],["Unsqueeze","","1-12",K.unsqueeze,K.parseUnsqueezeAttributes],["Unsqueeze","","13+",K.unsqueezeV13],["Xor","","7+",y.xor]]},2898:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseBatchNormalizationAttributes=b.batchNormalization=void 0;const S=P(246),D=P(5060),T=P(2039),h={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]};b.batchNormalization=(p,d,s)=>(_(d),[p.run(Object.assign(Object.assign({},h),{cacheHint:s.cacheKey,get:()=>y(p,d,s)}),d)]),b.parseBatchNormalizationAttributes=p=>{const d=p.attributes.getFloat("epsilon",1e-5),s=p.attributes.getFloat("momentum",.9),o=p.attributes.getInt("spatial",1);return S.createAttributeWithCacheKey({epsilon:d,momentum:s,spatial:o})};const y=(p,d,s)=>{const o=D.getGlsl(p.session.backend.glContext.version),u=d[0].dims.length,[l,f]=p.calculateTextureWidthAndHeight(d[1].dims,T.TextureType.unpacked),m=`\n  float process(int[${u}] indices) {\n    vec2 position = offsetToCoords(indices[1], ${l}, ${f});\n    float scale = getColorAsFloat(${o.texture2D}(Scale, position));\n    float mean = getColorAsFloat(${o.texture2D}(Mean, position));\n    float variance = getColorAsFloat(${o.texture2D}(Variance, position));\n    float b = getColorAsFloat(${o.texture2D}(B, position));\n\n    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${s.epsilon})) ) + b;\n  }`;return Object.assign(Object.assign({},h),{output:{dims:d[0].dims,type:d[0].type,textureType:T.TextureType.unpacked},shaderSource:m})},_=p=>{if(!p||5!==p.length)throw new Error("BatchNormalization requires 5 inputs.");const d=p[0],s=p[1],o=p[2],u=p[3],l=p[4];if(d.dims.length<3||1!==s.dims.length||1!==o.dims.length||1!==u.dims.length||1!==l.dims.length)throw new Error("invalid input shape.");if(s.dims[0]!==d.dims[1]||o.dims[0]!==d.dims[1]||u.dims[0]!==d.dims[1]||l.dims[0]!==d.dims[1])throw new Error("invalid input shape.");if("float32"!==d.type&&"float64"!==d.type||"float32"!==s.type&&"float64"!==s.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==u.type&&"float64"!==u.type||"float32"!==l.type&&"float64"!==l.type)throw new Error("invalid input tensor types.")}},7839:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.xor=b.sub=b.pRelu=b.pow=b.or=b.mul=b.less=b.greater=b.equal=b.div=b.and=b.add=b.glslPRelu=b.glslPow=b.glslXor=b.glslOr=b.glslAnd=b.glslLess=b.glslGreater=b.glslEqual=b.glslSub=b.glslMul=b.glslDiv=b.glslAdd=void 0;const S=P(2517),D=P(8520),T=P(5060),h=P(2039);function y(){return{body:"\n  float add_(float a, float b) {\n    return a + b;\n  }\n  vec4 add_(vec4 v1, vec4 v2) {\n    return v1 + v2;\n  }\n  ",name:"add_",type:D.FunctionType.ValueBased}}function _(){return{body:"\n  float div_(float a, float b) {\n    return a / b;\n  }\n  vec4 div_(vec4 v1, vec4 v2) {\n    return v1 / v2;\n  }\n  ",name:"div_",type:D.FunctionType.ValueBased}}function p(){return{body:"\n  float mul_(float a, float b) {\n    return a * b;\n  }\n  vec4 mul_(vec4 v1, vec4 v2) {\n    return v1 * v2;\n  }\n  ",name:"mul_",type:D.FunctionType.ValueBased}}function d(){return{body:"\n  float sub_(float a, float b) {\n    return a - b;\n  }\n  vec4 sub_(vec4 v1, vec4 v2) {\n    return v1 - v2;\n  }\n  ",name:"sub_",type:D.FunctionType.ValueBased}}function s(){return{body:"\n  float equal_(float a, float b) {\n    return float(a == b);\n  }\n  vec4 equal_(vec4 v1, vec4 v2) {\n    return vec4(equal(v1, v2));\n  }\n  ",name:"equal_",type:D.FunctionType.ValueBased}}function o(){const A="greater_";return{body:`\n  float ${A}(float a, float b) {\n    return float(a > b);\n  }\n  vec4 ${A}(vec4 v1, vec4 v2) {\n    return vec4( v1.r > v2.r ,\n      v1.g > v2.g,\n      v1.b > v2.b,\n      v1.a > v2.a );\n  }\n  `,name:A,type:D.FunctionType.ValueBased}}function u(){return{body:"\n  float less_(float a, float b) {\n    return float(a < b);\n  }\n  vec4 less_(vec4 v1, vec4 v2) {\n    return vec4( v1.r < v2.r ,\n                v1.g < v2.g,\n                v1.b < v2.b,\n                v1.a < v2.a );\n  }\n  ",name:"less_",type:D.FunctionType.ValueBased}}function l(){return{body:"\n  float and_(float a, float b) {\n    return float( bool(a) && bool(b) );\n  }\n  vec4 and_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r && b2.r ,\n                b1.g && b2.g,\n                b1.b && b2.b,\n                b1.a && b2.a );\n  }\n  ",name:"and_",type:D.FunctionType.ValueBased}}function f(){return{body:"\n  float or_(float a, float b) {\n    return float( bool(a) || bool(b) );\n  }\n  vec4 or_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r || b2.r ,\n                b1.g || b2.g,\n                b1.b || b2.b,\n                b1.a || b2.a );\n  }\n  ",name:"or_",type:D.FunctionType.ValueBased}}function m(){return{body:"\n  float xor_(float a, float b) {\n    return float( bool(a) ^^ bool(b) );\n  }\n  vec4 xor_(vec4 v1, vec4 v2) {\n    bvec4 b1 = bvec4(v1);\n    bvec4 b2 = bvec4(v2);\n    return vec4( b1.r ^^ b2.r ,\n                b1.g ^^ b2.g,\n                b1.b ^^ b2.b,\n                b1.a ^^ b2.a );\n  }\n  ",name:"xor_",type:D.FunctionType.ValueBased}}function v(){return{body:"\n  float pow_(float a, float b) {\n    return pow(a, b);\n  }\n  vec4 pow_(vec4 v1, vec4 v2) {\n    return pow(v1, v2);\n  }\n  ",name:"pow_",type:D.FunctionType.ValueBased}}function x(){return{body:"\n  float prelu_(float a, float b) {\n    return a < 0.0 ? a * b: a;\n  }\n  vec4 prelu_(vec4 v1, vec4 v2) {\n    return vec4(\n      v1.r < 0.0 ? v1.r * v2.r: v1.r,\n      v1.g < 0.0 ? v1.g * v2.g: v1.g,\n      v1.b < 0.0 ? v1.b * v2.b: v1.b,\n      v1.a < 0.0 ? v1.a * v2.a: v1.a\n      );\n  }\n  ",name:"prelu_",type:D.FunctionType.ValueBased}}b.glslAdd=y,b.glslDiv=_,b.glslMul=p,b.glslSub=d,b.glslEqual=s,b.glslGreater=o,b.glslLess=u,b.glslAnd=l,b.glslOr=f,b.glslXor=m,b.glslPow=v,b.glslPRelu=x;const I=(A,R,N,k=R[0].type,O)=>{const $=A.session.pack?h.TextureType.packed:h.TextureType.unpacked;return{name:N.name,inputNames:["A","B"],inputTypes:[$,$],cacheHint:O,get:()=>C(A,R,N,k)}},C=(A,R,N,k=R[0].type)=>{const O=A.session.pack?h.TextureType.packed:h.TextureType.unpacked,$=!S.ShapeUtil.areEqual(R[0].dims,R[1].dims);let G=R[0].dims;const z=A.session.pack;if($){const oe=S.BroadcastUtil.calcShape(R[0].dims,R[1].dims,!1);if(!oe)throw new Error("Can't perform binary op on the given tensors");G=oe;const B=G.length,K=0!==R[0].dims.length?R[0].dims.length:1,ve=0!==R[1].dims.length?R[1].dims.length:1,re=0!==R[0].dims.length?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",_e=0!==R[1].dims.length?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",we=T.getGlsl(A.session.backend.glContext.version);return{name:N.name,inputNames:["A","B"],inputTypes:[O,O],output:{dims:G,type:k,textureType:O},shaderSource:z?`\n      ${N.body}\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n        vec4 result = ${N.name}(a, b);\n        ${we.output} = result;\n      }`:`\n      ${N.body}\n      float process(int indices[${B}]) {\n        int aindices[${K}];\n        int bindices[${ve}];\n        ${re}\n        ${_e}\n        return ${N.name}(_A(aindices), _B(bindices));\n      }`,hasMain:z}}const X=T.getGlsl(A.session.backend.glContext.version);return{name:N.name,inputNames:["A","B"],inputTypes:[O,O],output:{dims:R[0].dims,type:k,textureType:O},shaderSource:`\n    ${N.body}\n    void main() {\n      vec4 v1 = ${X.texture2D}(A, TexCoords);\n      vec4 v2 = ${X.texture2D}(B, TexCoords);\n      vec4 result = ${N.name}(v1, v2);\n      ${X.output} = result;\n    }\n    `,hasMain:!0}};b.add=(A,R)=>[A.run(I(A,R,y()),R)],b.and=(A,R)=>[A.run(I(A,R,l(),"bool"),R)],b.div=(A,R)=>[A.run(I(A,R,_()),R)],b.equal=(A,R)=>[A.run(I(A,R,s(),"bool"),R)],b.greater=(A,R)=>[A.run(I(A,R,o(),"bool"),R)],b.less=(A,R)=>[A.run(I(A,R,u(),"bool"),R)],b.mul=(A,R)=>[A.run(I(A,R,p()),R)],b.or=(A,R)=>[A.run(I(A,R,f(),"bool"),R)],b.pow=(A,R)=>[A.run(I(A,R,v()),R)],b.pRelu=(A,R)=>[A.run(I(A,R,x()),R)],b.sub=(A,R)=>[A.run(I(A,R,d()),R)],b.xor=(A,R)=>[A.run(I(A,R,m(),"bool"),R)]},4196:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseCastAttributes=b.cast=void 0;const S=P(2517);b.cast=(T,h,y)=>(D(h),[T.cast(h[0],y)]),b.parseCastAttributes=T=>S.ProtoUtil.tensorDataTypeFromProto(T.attributes.getInt("to"));const D=T=>{if(!T||1!==T.length)throw new Error("Cast requires 1 input.");if("string"===T[0].type)throw new Error("Invalid input type.")}},1163:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createPackedConcatProgramInfoLoader=void 0;const S=P(5060),D=P(2039),T=P(9390),h=P(2827);b.createPackedConcatProgramInfoLoader=(_,p,d)=>{const s=(o=p.length,u=d.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:o},(l,f)=>`X${f}`),inputTypes:Array(o).fill(D.TextureType.packed),cacheHint:u});var o,u;return Object.assign(Object.assign({},s),{get:()=>((l,f,m,v)=>{const x=m[0].dims.slice();if(v>=x.length||v<-1*x.length)throw new Error("axis specified for concat doesn't match input dimensionality");v<0&&(v=x.length+v);const I=x.slice(0);for(let re=1;re<m.length;re++){const _e=m[re].dims.slice();for(let we=0;we<x.length;we++)if(we===v)I[v]+=_e[we];else if(x[we]!==_e[we])throw new Error("non concat dimensions must match")}const C=I.length,A=h.getChannels("coords",C),R=T.getCoordsDataType(C),N=h.unpackFromChannel(),k=m.map(re=>re.dims),O=T.getGlChannels(C),$=new Array(k.length-1);$[0]=k[0][v];for(let re=1;re<$.length;re++)$[re]=$[re-1]+k[re][v];const G=O[v],z=O.slice(-2),X=O.join();let Z=`if (${G} < ${$[0]}) {\n        return getChannel(\n            getX0(${X}), vec2(${z.join()}));\n        }`;for(let re=1;re<$.length;re++){const _e=$[re-1];Z+=`\n            if (${G} < ${$[re]}  && ${G} >= ${$[re-1]}) {\n              return getChannel(\n                getX${re}(${y(O,G,_e)}),\n                vec2(${y(z,G,_e)}));\n            }`}const B=$[$.length-1];Z+=`\n            return getChannel(\n              getX${$.length}(${y(O,G,B)}),\n              vec2(${y(z,G,B)}));`;const K=S.getGlsl(l.session.backend.glContext.version),ve=`\n          ${N}\n          float getValue(${O.map(re=>"int "+re)}) {\n            ${Z}\n          }\n\n          void main() {\n            ${R} coords = getOutputCoords();\n            int lastDim = coords.${O[C-1]};\n            coords.${O[C-1]} = coords.${O[C-2]};\n            coords.${O[C-2]} = lastDim;\n\n            vec4 result = vec4(getValue(${A}), 0., 0., 0.);\n\n            ${A[C-1]} = ${A[C-1]} + 1;\n            if (${A[C-1]} < ${I[C-1]}) {\n              result.g = getValue(${A});\n            }\n\n            ${A[C-2]} = ${A[C-2]} + 1;\n            if (${A[C-2]} < ${I[C-2]}) {\n              result.a = getValue(${A});\n            }\n\n            ${A[C-1]} = ${A[C-1]} - 1;\n            if (${A[C-2]} < ${I[C-2]} &&\n                ${A[C-1]} < ${I[C-1]}) {\n              result.b = getValue(${A});\n            }\n            ${K.output} = result;\n          }\n        `;return Object.assign(Object.assign({},f),{output:{dims:I,type:m[0].type,textureType:D.TextureType.packed},shaderSource:ve,hasMain:!0})})(_,s,p,d.axis)})};const y=(_,p,d)=>{const s=_.indexOf(p);return _.map((o,u)=>u===s?`${o} - ${d}`:o).join()}},2069:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseConcatAttributes=b.concat=void 0;const S=P(246),D=P(2039),T=P(1163);b.concat=(o,u,l)=>(s(u),o.session.pack&&u[0].dims.length>1?[o.run(T.createPackedConcatProgramInfoLoader(o,u,l),u)]:[o.run(h(o,u,l),u)]);const h=(o,u,l)=>{const f=(m=u.length,v=l.cacheKey,{name:"Concat",inputNames:Array.from({length:m},(x,I)=>`X${I}`),inputTypes:Array(m).fill(D.TextureType.unpacked),cacheHint:v});var m,v;return Object.assign(Object.assign({},f),{get:()=>((x,I,C,A)=>{const R=C[0].dims.slice();if(A>=R.length||A<-1*R.length)throw new Error("axis specified for concat doesn't match input dimensionality");A<0&&(A=R.length+A);const N=R.slice(0);for(let X=1;X<C.length;X++){const Z=C[X].dims.slice();for(let oe=0;oe<R.length;oe++)if(oe===A)N[A]+=Z[oe];else if(R[oe]!==Z[oe])throw new Error("non concat dimensions must match")}const k=N.length,O=new Array(C.length);let $=0;for(let X=0;X<O.length;++X)$+=C[X].dims[A],O[X]=$;let G="";G=C.length<5?y(O):_(O);const z=`\n        ${p(C.length,k)}\n        ${d(O)}\n        ${G}\n        float process(int indices[${k}]) {\n          int textureIndex = getTextureWhereDataResides (indices[${A}]);\n\n          if(textureIndex != 0) {\n            indices[${A}] = indices[${A}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));\n          }\n\n          return fetchDataFromCorrectTexture(textureIndex, indices);\n        }`;return Object.assign(Object.assign({},I),{output:{dims:N,type:C[0].type,textureType:D.TextureType.unpacked},shaderSource:z})})(0,f,u,l.axis)})},y=o=>`int getTextureWhereDataResides(int index) {\n      ${o.map((u,l)=>`if(index<${u}) {return ${l};}\n`).join("")}\n    }`,_=o=>y(o),p=(o,u)=>{const l=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${u}]) {`];for(let f=0;f<o;++f)l.push(0===f?`\tif (textureIndex == ${f}) { return _X${f}(indices); }`:f===o-1?`\telse { return _X${f}(indices); }`:`\telse if (textureIndex == ${f}) { return _X${f}(indices); }`);return l.push("\t}"),l.join("\n")},d=o=>{const u=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let l=0;l<o.length;++l)u.push(0===l?`\tif (index == ${l}) { return ${o[l]}; }`:l===o.length-1?`\telse { return ${o[l]}; }`:`\telse if (index == ${l}) { return ${o[l]}; }`);return u.push("\t}"),u.join("\n")};b.parseConcatAttributes=o=>S.createAttributeWithCacheKey({axis:o.attributes.getInt("axis")});const s=o=>{if(!o||o.length<1)throw new Error("too few inputs");const u=o[0].type,l=o[0].dims.length;if("string"===u)throw new Error("string tensor is not supported yet");for(const f of o){if(f.type!==u)throw new Error("input tensors should be one type");if(f.dims.length!==l)throw new Error("input tensors should have the same shape")}}},4770:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createUnpackedGroupedConvProgramInfoLoader=void 0;const S=P(6231),D=P(5060),T=P(2039),h=P(8138),y=P(2823);b.createUnpackedGroupedConvProgramInfoLoader=(_,p,d)=>{const s={name:"GroupedConv",inputNames:(o=p.length>2)?["X","W","Bias"]:["X","W"],inputTypes:o?[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.unpacked],cacheHint:d.cacheKey};var o;return Object.assign(Object.assign({},s),{get:()=>((l,f,m,v)=>{const x=f.length>2?"value += getBias(output_channel);":"",I=f[0].dims.slice(),C=f[1].dims.slice(),A=C[0]/v.group;S.Logger.verbose("GroupedConv",`autpPad:${v.autoPad}, dilations:${v.dilations}, group:${v.group}, kernelShape:${v.kernelShape}, pads:${v.pads}, strides:${v.strides}`);const R=h.calculateOutputShape(I,C,v.dilations,v.pads,v.strides),N=D.getGlsl(l.session.backend.glContext.version),{activationFunction:k,applyActivation:O}=y.getActivationSnippet(v),$=`\n  const ivec2 strides = ivec2(${v.strides[0]}, ${v.strides[1]});\n  const ivec2 pads = ivec2(${v.pads[0]}, ${v.pads[1]});\n  ${k}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n    ivec2 xRCCorner = coords.zw * strides - pads;\n    int group_id = output_channel / ${A};\n\n    float value = 0.0;\n    for (int wInChannel = 0; wInChannel < ${C[1]}; wInChannel++) {\n      int input_channel = group_id * ${C[1]} + wInChannel;\n      for (int wHeight = 0; wHeight < ${C[2]}; wHeight++) {\n        int xHeight = xRCCorner.x + wHeight * ${v.dilations[0]};\n\n        if (xHeight < 0 || xHeight >= ${I[2]}) {\n          continue;\n        }\n\n        for (int wWidth = 0; wWidth < ${C[3]}; wWidth++) {\n          int xWidth = xRCCorner.y + wWidth * ${v.dilations[1]};\n          if (xWidth < 0 || xWidth >= ${I[3]}) {\n            continue;\n          }\n\n          float xVal = getX(batch, input_channel, xWidth, xHeight);\n          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);\n          value += xVal*wVal;\n        }\n      }\n    }\n    ${x}\n    ${O}\n    ${N.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},m),{output:{dims:R,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:$,hasMain:!0})})(_,p,s,d)})}},1386:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.conv2DPacked=b.conv2DPackedPointwise=void 0;const S=P(8138),D=P(8555),T=P(708);b.conv2DPackedPointwise=(h,y,_)=>{const p=y[0].dims,d=y[1].dims,s=S.calculateOutputShape(p,d,_.dilations,_.pads,_.strides),o=h.reshapePacked(y[0],[p[1],p[2]*p[3]]),u=h.reshapePacked(y[1],[d[0],d[1]]),l=y.length>2?[u,o,y[2]]:[u,o],f=h.run(T.createPackedMatmulProgramInfoLoader(h,l,_),l);return h.reshapePacked(f,s)},b.conv2DPacked=(h,y,_)=>{const d=y[1].dims,s=S.calculateOutputShape(y[0].dims,d,_.dilations,_.pads,_.strides),o=h.run(D.createPackedIm2ColProgramInfoLoader(h,y[0],y[1],s,_),[y[0]]),u=h.reshapePacked(y[1],[d[0],d[1]*d[2]*d[3]]),l=3===y.length?[u,o,y[2]]:[u,o],f=h.run(T.createPackedMatmulProgramInfoLoader(h,l,_),l);return h.reshapePacked(f,s)}},9663:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseConvTransposeAttributes=b.convTranspose=void 0;const S=P(246),D=P(5060),T=P(2039),h=P(2823),y=(u,l,f,m,v,x)=>(u-1)*l+f+(m-1)*v+1-x,_=(u,l,f,m,v)=>{const x=Math.floor(u/2);"SAME_UPPER"===l?(f[m]=x,f[v]=u-x):"SAME_LOWER"===l&&(f[m]=u-x,f[v]=x)};b.convTranspose=(u,l,f)=>(o(l,f),p(u,l,f));const p=(u,l,f)=>{const m=s(f,l);return[d(u,l,m)]},d=(u,l,f)=>u.run(((m,v,x)=>{const I={name:"ConvTranspose",inputNames:(C=v.length>2)?["X","W","B"]:["X","W"],inputTypes:C?[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.unpacked],cacheHint:x.cacheKey};var C;return Object.assign(Object.assign({},I),{get:()=>((R,N,k,O)=>{const $=N.length>2?"getB(output_channel)":"0.0",G=N[0].dims,z=N[1].dims,X=z[1],Z=z[0]/O.group,oe=[N[0].dims[0],N[1].dims[1]*O.group,...O.outputShape],B=D.getGlsl(R.session.backend.glContext.version),{activationFunction:K,applyActivation:ve}=h.getActivationSnippet(O),re=`\n  const ivec2 strides = ivec2(${O.strides[0]}, ${O.strides[1]});\n  const ivec2 pads = ivec2(${O.pads[0]}, ${O.pads[1]});\n  ${K}\n  void main() {\n    ivec4 coords = getOutputCoords();\n    int batch = coords.x;\n    int output_channel = coords.y;\n\n    ivec2 loc = coords.zw + pads;\n\n    int group_id = output_channel / ${X};\n    int wOutChannel = output_channel - group_id * ${X};\n\n    float value = ${$};\n    for (int inChannelOffset = 0; inChannelOffset < ${Z}; inChannelOffset++) {\n      int input_channel = group_id * ${Z} + inChannelOffset;\n      for (int wWOff = 0; wWOff < ${z[2]}; wWOff++) {\n        for (int wHOff = 0; wHOff < ${z[3]}; wHOff++) {\n          ivec2 wOff = ivec2(wWOff * ${O.dilations[0]}, wHOff * ${O.dilations[1]});\n          ivec2 wLoc = loc - wOff;\n          ivec2 wLocIn = wLoc / strides;\n          if (\n            wLocIn * strides == wLoc &&\n            wLocIn.x >= 0 && wLocIn.x < ${G[2]} &&\n            wLocIn.y >= 0 && wLocIn.y < ${G[3]}\n          ) {\n            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);\n            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);\n            value += xVal * wVal;\n          }\n        }\n      }\n    }\n    ${ve}\n    ${B.output} = vec4(value, .0, .0, .0);\n  }\n`;return Object.assign(Object.assign({},k),{output:{dims:oe,type:N[0].type,textureType:T.TextureType.unpacked},shaderSource:re,hasMain:!0})})(m,v,I,x)})})(u,l,f),l),s=(u,l)=>{const f=u.kernelShape.slice();if(0===u.kernelShape.length)for(let I=2;I<l[1].dims.length;++I)f.push(l[1].dims[I]);const m=u.pads.slice(),v=u.outputShape.slice();((I,C,A,R,N,k,O,$)=>{const G=I.length-2,z=0===$.length;for(let X=0;X<G;++X){const oe=y(I[X+2],k[X],N[X],C[X],A[X],z?I[X+2]*k[X]:$[X]);_(oe,R,N,X,X+G),z&&$.push(k[X]*(I[X+2]-1)+O[X]+(C[X]-1)*A[X]+1-N[X]-N[X+G])}})(l[0].dims,f,u.dilations,u.autoPad,m,u.strides,u.outputPadding,v);const x=Object.assign({},u);return Object.assign(x,{kernelShape:f,pads:m,outputShape:v,cacheKey:u.cacheKey}),x};b.parseConvTransposeAttributes=u=>{const l=u.attributes,f=h.parseInternalActivationAttributes(l),m=l.getString("auto_pad","NOTSET"),v=l.getInts("dilations",[1,1]),x=l.getInt("group",1),I=l.getInts("kernel_shape",[]),C=l.getInts("output_padding",[0,0]),A=l.getInts("output_shape",[]),R=l.getInts("pads",[0,0,0,0]),N=l.getInts("strides",[1,1]);return S.createAttributeWithCacheKey(Object.assign({autoPad:m,dilations:v,group:x,kernelShape:I,outputPadding:C,outputShape:A,pads:R,strides:N},f))};const o=(u,l)=>{if(!u||2!==u.length&&3!==u.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==u[0].dims.length||4!==u[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(u[0].dims[1]!==u[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===u.length&&(1!==u[2].dims.length||u[2].dims[0]!==u[1].dims[1]*l.group))throw new Error("invalid bias");const m=u[0].dims.length-2;if(l.dilations.length!==m)throw new Error(`dilations should be ${m}D`);if(l.strides.length!==m)throw new Error(`strides should be ${m}D`);if(l.pads.length!==2*m)throw new Error(`pads should be ${2*m}D`);if(l.outputPadding.length!==m)throw new Error(`output_padding should be ${m}D`);if(0!==l.kernelShape.length&&l.kernelShape.length!==u[1].dims.length-2)throw new Error("invalid kernel shape");if(0!==l.outputShape.length&&l.outputShape.length!==u[0].dims.length-2)throw new Error("invalid output shape");if("float32"!==u[0].type||"float32"!==u[1].type)throw new Error("ConvTranspose input(X,W) should be float tensor");if(3===u.length&&"float32"!==u[2].type)throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseConvAttributes=b.conv=b.calculateOutputShape=void 0;const S=P(246),D=P(2517),T=P(4770),h=P(1386),y=P(9828),_=P(2823),p=P(3248),d=P(5623);b.calculateOutputShape=(m,v,x,I,C)=>{const A=m[0],R=m.slice(2),N=R.length,k=v[0],O=v.slice(2).map((G,z)=>G+(G-1)*(x[z]-1)),$=R.map((G,z)=>G+I[z]+I[z+N]).map((G,z)=>Math.floor((G-O[z]+C[z])/C[z]));return[A,k].concat(...$)},b.conv=(m,v,x)=>(f(v,x),s(m,v,x));const s=(m,v,x)=>{const I=l(x,v),C=m.session.pack,A=1===I.kernelShape[0]&&1===I.kernelShape[1];return I.group>1?[m.run(T.createUnpackedGroupedConvProgramInfoLoader(m,v,I),v)]:A&&C?[o(m,v,I)]:C&&4===v[0].dims.length&&1===v[0].dims[0]&&!A?[h.conv2DPacked(m,v,I)]:[u(m,v,I)]},o=(m,v,x)=>{const I=v[0].dims,C=v[1].dims,A=b.calculateOutputShape(I,C,x.dilations,x.pads,x.strides),R=m.reshapeUnpacked(v[0],[I[1],I[2]*I[3]]),N=m.reshapeUnpacked(v[1],[C[0],C[1]]),k=v.length>2?[N,R,v[2]]:[N,R],O=m.run(d.createMatmulProgramInfoLoader(k,x),k);return m.reshapeUnpacked(O,A)},u=(m,v,x)=>{const A=b.calculateOutputShape(v[0].dims,v[1].dims,x.dilations,x.pads,x.strides),R=m.run(p.createIm2ColProgramInfoLoader(m,v[0],v[1],A,x),[v[0]]),N=3===v.length?[R,v[1],v[2]]:[R,v[1]];return m.run(y.createDotProductProgramInfoLoader(m,v,A,x),N)},l=(m,v)=>{const x=m.kernelShape.slice();if(0===m.kernelShape.length)for(let A=2;A<v[1].dims.length;++A)x.push(v[1].dims[A]);const I=m.pads.slice();D.PoolConvUtil.adjustPadsBasedOnAutoPad(v[0].dims,m.strides,m.dilations,x,I,m.autoPad);const C=Object.assign({},m);return Object.assign(C,{kernelShape:x,pads:I,cacheKey:m.cacheKey}),C};b.parseConvAttributes=m=>{const v=m.attributes,x=_.parseInternalActivationAttributes(v),I=v.getString("auto_pad","NOTSET"),C=v.getInts("dilations",[1,1]),A=v.getInt("group",1),R=v.getInts("kernel_shape",[]),N=v.getInts("pads",[0,0,0,0]),k=v.getInts("strides",[1,1]);return S.createAttributeWithCacheKey(Object.assign({autoPad:I,dilations:C,group:A,kernelShape:R,pads:N,strides:k},x))};const f=(m,v)=>{if(!m||2!==m.length&&3!==m.length)throw new Error("Conv requires 2 or 3 inputs");if(4!==m[0].dims.length||4!==m[1].dims.length)throw new Error("currently only support 2-dimensional conv");if(m[0].dims[1]!==m[1].dims[1]*v.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(3===m.length&&(1!==m[2].dims.length||m[1].dims[0]!==m[2].dims[0]))throw new Error("invalid bias");const x=m[0].dims.length-2;if(v.dilations.length!==x)throw new Error(`dilations should be ${x}D`);if(v.strides.length!==x)throw new Error(`strides should be ${x}D`);if(v.pads.length!==2*x)throw new Error(`pads should be ${2*x}D`);if(0!==v.kernelShape.length&&v.kernelShape.length!==m[1].dims.length-2)throw new Error("invalid kernel shape");if("float32"!==m[0].type||"float32"!==m[1].type)throw new Error("Conv input(X,W) should be float tensor");if(3===m.length&&"float32"!==m[2].type)throw new Error("Conv input(bias) should be float tensor")}},5193:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseDepthToSpaceAttributes=b.depthToSpace=void 0;const S=P(3738);b.depthToSpace=(T,h,y)=>{D(h);const _=y.blocksize,p=_*_,d="DCR"===y.mode?[0,3,4,1,5,2]:[0,1,4,2,5,3],o=T.reshapeUnpacked(h[0],"DCR"===y.mode?[h[0].dims[0],_,_,h[0].dims[1]/p,h[0].dims[2],h[0].dims[3]]:[h[0].dims[0],h[0].dims[1]/p,_,_,h[0].dims[2],h[0].dims[3]]),u={perm:d,cacheKey:`${d}`},[l]=S.transpose(T,[o],u);return[T.reshapeUnpacked(l,[h[0].dims[0],h[0].dims[1]/p,h[0].dims[2]*_,h[0].dims[3]*_])]},b.parseDepthToSpaceAttributes=T=>{const h=T.attributes.getInt("blocksize");if(h<1)throw new Error(`blocksize must be >= 1, but got : ${h} for DepthToSpace`);const y=T.attributes.getString("mode","DCR");if("DCR"!==y&&"CRD"!==y)throw new Error(`unrecognized mode: ${y} for DepthToSpace`);return{mode:y,blocksize:h}};const D=T=>{if(1!==T.length)throw new Error(`DepthToSpace expect 1 inputs, but got ${T.length}`);if("string"===T[0].type||4!==T[0].dims.length)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createDotProductProgramInfoLoader=void 0;const S=P(2517),D=P(5060),T=P(2039),h=P(2823),y=P(3248);b.createDotProductProgramInfoLoader=(_,p,d,s)=>{const o={name:"ConvDotProduct",inputNames:(u=p.length>2)?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:u?[T.TextureType.unpacked,T.TextureType.packedLastDimension,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.packedLastDimension],cacheKey:s.activationCacheKey};var u;return Object.assign(Object.assign({},o),{get:()=>((u,l,f,m,v)=>{const x=f[0].dims,I=f[1].dims,C=[I[0],Math.ceil(x[1]*I[2]*I[3]/4)],A=y.calculateIm2ColDims(x,I,m),[R,N]=u.calculateTextureWidthAndHeight(C,T.TextureType.packedLastDimension),k=S.ShapeUtil.computeStrides(A),[O,$]=u.calculateTextureWidthAndHeight(A,T.TextureType.packedLastDimension),G=m.length,z=f.length<3?"0.0":"_B(b)",X=Math.ceil(x[1]*I[2]*I[3]/4),{activationFunction:Z,applyActivation:oe}=h.getActivationSnippet(v),B=D.getGlsl(u.session.backend.glContext.version),K=`\n${Z}\nfloat process(int indices[${G}]) {\n  int b[1];\n  b[0] = indices[1];\n  int im2col[4];\n  im2col[0] = indices[0];\n  im2col[1] = indices[2];\n  im2col[2] = indices[3];\n  int im2colOffset = im2col[0] * ${k[0]} + im2col[1] * ${k[1]} + im2col[2] * ${k[2]};\n  int kernelOffset = indices[1] * ${C[1]};\n  float value = ${z};\n  for (int i = 0; i < ${X}; ++i) {\n    vec2 im2colCoords = offsetToCoords(im2colOffset, ${O}, ${$});\n    vec2 kernelCoords = offsetToCoords(kernelOffset, ${R}, ${N});\n    value += dot(${B.texture2D}(Im2Col, im2colCoords), ${B.texture2D}(K, kernelCoords));\n    ++im2colOffset;\n    ++kernelOffset;\n  }\n  ${oe}\n  return value;\n}`;return Object.assign(Object.assign({},l),{output:{dims:m,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:K})})(_,o,p,d,s)})}},7992:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseFlattenAttributes=b.flatten=void 0;const S=P(2517);b.flatten=(T,h,y)=>{D(h,y);const _=S.ShapeUtil.flattenShape(h[0].dims,y);return[T.reshapeUnpacked(h[0],_)]},b.parseFlattenAttributes=T=>T.attributes.getInt("axis",1);const D=(T,h)=>{if(!T||1!==T.length)throw new Error("Flatten requires 1 input.");const y=T[0].dims.length;if(0===y)throw new Error("scalar tensor is not supported.");if(h<-y||h>y)throw new Error("Invalid axis");if("string"===T[0].type)throw new Error("string tensor is not supported.")}},2823:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseInternalActivationAttributes=b.getActivationSnippet=void 0;const S=P(2517),D=P(4909);b.getActivationSnippet=function(T){let h;switch(T.activation){case"Relu":h=D.glslRelu();break;case"Sigmoid":h=D.glslSigmoid();break;case"Clip":h=D.glslClip(T.clipMin,T.clipMax);break;default:return{activationFunction:"",applyActivation:""}}return{activationFunction:h.body,applyActivation:`value = ${h.name}_(value);`}},b.parseInternalActivationAttributes=T=>{const h=T.getString("activation","");if("Clip"===h){const[y,_]=T.getFloats("activation_params",[S.MIN_CLIP,S.MAX_CLIP]);return{activation:h,clipMax:_,clipMin:y,activationCacheKey:`${h}:${y},${_}`}}return{activation:h,activationCacheKey:h}}},1253:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseGatherAttributes=b.gather=void 0;const S=P(246),D=P(782),T=P(2517),h=P(2039);b.gather=(d,s,o)=>(p(s,o.axis),[d.run(_(d,s,o),s)]),b.parseGatherAttributes=d=>S.createAttributeWithCacheKey({axis:d.attributes.getInt("axis",0)});const y={name:"Gather",inputNames:["A","B"],inputTypes:[h.TextureType.unpacked,h.TextureType.unpacked]},_=(d,s,o)=>{const u=Object.assign(Object.assign({},y),{cacheHint:o.cacheKey});return Object.assign(Object.assign({},u),{get:()=>((l,f,m,v)=>{const x=m[0].dims.slice(),I=m[1].dims.slice(),C=new Array(x.length+I.length-1);v=T.ShapeUtil.normalizeAxis(v,x.length);const A=[];for(let N=0;N<C.length;N++)N<v?(C[N]=x[N],A.push(`inputIdx[${N}] = outputIdx[${N}];`)):N<v+I.length?(C[N]=I[N-v],A.push(`indexDataIdx[${N-v}] = outputIdx[${N}];`)):(C[N]=x[N-I.length+1],A.push(`inputIdx[${N-I.length+1}] = outputIdx[${N}];`));const R=`\n      float process(int outputIdx[${C.length||1}]) {\n        int inputIdx[${x.length}];\n        int indexDataIdx[${I.length||1}];\n        indexDataIdx[0] = 0;\n        ${A.join("\n        ")}\n        int idx = int(_B(indexDataIdx));\n        inputIdx[${v}] = idx < 0 ? idx + ${x[v]} : idx;\n        return _A(inputIdx);\n      }`;return Object.assign(Object.assign({},f),{output:{dims:C,type:m[0].type,textureType:h.TextureType.unpacked},shaderSource:R})})(0,u,s,o.axis)})},p=(d,s)=>{if(!d||2!==d.length)throw new Error("Gather requires 2 inputs.");const o=d[0].dims.length;if(o<1)throw new Error("Invalid input shape.");if(s<-o||s>o-1)throw new Error("Invalid axis.");if(-1===D.NUMBER_TYPES.indexOf(d[0].type))throw new Error("Invaid input type.");if("int32"!==d[1].type&&"int16"!==d[1].type)throw new Error("Invaid input type.")}},4776:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseGemmAttributesV11=b.parseGemmAttributesV7=b.gemm=void 0;const S=P(246),D=P(2517),T=P(2039);b.gemm=(d,s,o)=>(p(s,o),[d.run(y(s,o),s)]);const h=(d,s)=>{const o=0!==d.attributes.getInt("transA",0),u=0!==d.attributes.getInt("transB",0),l=d.attributes.getFloat("alpha",1),f=d.attributes.getFloat("beta",1);return S.createAttributeWithCacheKey({transA:o,transB:u,alpha:l,beta:f,isOptionalC:s})};b.parseGemmAttributesV7=d=>h(d,!1),b.parseGemmAttributesV11=d=>h(d,!0);const y=(d,s)=>{const o={name:"Gemm",inputNames:3===d.length?["A","B","C"]:["A","B"],inputTypes:3===d.length?[T.TextureType.unpacked,T.TextureType.unpacked,T.TextureType.unpacked]:[T.TextureType.unpacked,T.TextureType.unpacked],key:s.cacheKey};return Object.assign(Object.assign({},o),{get:()=>_(o,d,s)})},_=(d,s,o)=>{const u=s[0].dims.slice(),l=s[1].dims.slice(),[f,m]=D.GemmUtil.getShapeOfGemmResult(u,o.transA,l,o.transB,3===s.length?s[2].dims:void 0),v=[f,m];if(!v)throw new Error("Can't use gemm on the given tensors");let x=u[u.length-1],I="";o.transA&&(x=u[0]),o.transA&&o.transB?I="value += _A_T(a) * _B_T(b);":o.transA&&!o.transB?I="value += _A_T(a) * _B(b);":!o.transA&&o.transB?I="value += _A(a) * _B_T(b);":o.transA||o.transB||(I="value += _A(a) * _B(b);");const C=v.length,A=`\n      float process(int indices[${C}]) {\n          int a[${C}];\n          int b[${C}];\n          ${3===s.length?`int c[${s[2].dims.length}];`:""}\n\n          copyVec(indices, a);\n          copyVec(indices, b);\n          ${3===s.length?"bcastIndices_C(indices, c);":""}\n\n          float value = 0.0;\n          for (int k=0; k<${x}; ++k) {\n              a[${C-1}] = k;\n              b[${C-2}] = k;\n              ${I}\n          }\n\n          value = value * alpha;\n          ${3===s.length?"value += beta * _C(c);":""}\n          return value;\n      }`;return Object.assign(Object.assign({},d),{output:{dims:v,type:s[0].type,textureType:T.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:o.alpha},{name:"beta",type:"float",data:o.beta}],shaderSource:A})},p=(d,s)=>{if(!d)throw new Error("Input is missing");if(s.isOptionalC&&(d.length<2||d.length>3))throw new Error("Invaid input shape.");if(!s.isOptionalC&&3!==d.length)throw new Error("Gemm requires 3 inputs");if(3===d.length&&1!==d[2].dims.length&&2!==d[2].dims.length)throw new Error("Invalid input shape of C");if("float32"!==d[0].type&&"float64"!==d[0].type||"float32"!==d[1].type&&"float64"!==d[1].type||3===d.length&&"float32"!==d[2].type&&"float64"!==d[2].type)throw new Error("Invalid input type.");if(d[0].type!==d[1].type||3===d.length&&d[0].type!==d[2].type)throw new Error("Input types are mismatched")}},8555:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createPackedIm2ColProgramInfoLoader=void 0;const S=P(5060),D=P(2039),T=P(2827);b.createPackedIm2ColProgramInfoLoader=(h,y,_,p,d)=>{const s={name:"Im2Col (packed)",inputNames:["A"],inputTypes:[D.TextureType.packed],cacheHint:d.cacheKey};return Object.assign(Object.assign({},s),{get:()=>((u,l,f,m,v,x)=>{const I=f.dims,C=m.dims,A=v.length,R=[C[1]*C[2]*C[3],v[2]*v[3]],N=C[2]*C[3],k=T.unpackFromChannel(),O=S.getGlsl(u.session.backend.glContext.version);let $="";for(let z=0;z<=1;z++)for(let X=0;X<=1;X++)$+=`\n            blockIndex = rc.x + ${X};\n            pos = rc.y + ${z};\n\n            if(blockIndex < ${R[1]} && pos < ${R[0]}) {\n              offsetY = int(blockIndex / (${v[A-1]})) * ${x.strides[0]} -\n                ${x.pads[0]};\n              d0 = offsetY + ${x.dilations[0]} * (imod(pos, ${N}) / ${C[2]});\n\n              if(d0 < ${I[2]} && d0 >= 0) {\n                offsetX = imod(blockIndex, ${v[A-1]}) * ${x.strides[1]} -\n                  ${x.pads[1]};\n                d1 = offsetX + ${x.dilations[1]} * imod(imod(pos, ${N}), ${C[2]});\n\n                if(d1 < ${I[3]} && d1 >= 0) {\n\n                  ch = int(float(pos)/ ${N}.);\n                    innerDims = vec2(d0, d1);\n                    result[${2*z+X}] = getChannel(\n                      getA(0, ch, int(innerDims.x),\n                      int(innerDims.y)), innerDims);\n                }\n              }\n            }\n\n          `;const G=`\n      ${k}\n\n      void main() {\n        ivec2 rc = getOutputCoords();\n          vec4 result = vec4(0.0);\n          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n          vec2 innerDims;\n          ${$}\n          ${O.output} = result;\n      }\n            `;return Object.assign(Object.assign({},l),{output:{dims:R,type:f.type,textureType:D.TextureType.packed},shaderSource:G,hasMain:!0})})(h,s,y,_,p,d)})}},3248:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.calculateIm2ColDims=b.createIm2ColProgramInfoLoader=void 0;const S=P(2039);b.createIm2ColProgramInfoLoader=(D,T,h,y,_)=>{const p={name:"Im2Col",inputNames:["X"],inputTypes:[S.TextureType.unpacked],cacheHint:_.cacheKey};return Object.assign(Object.assign({},p),{get:()=>((s,o,u,l,f,m)=>{const v=u.dims,I=f.length,C=b.calculateIm2ColDims(v,l.dims,f,4),A=`\n        const int XC = ${v[1]};\n        const int XH = ${v[2]};\n        const int XW = ${v[3]};\n        const int KH = ${m.kernelShape[0]};\n        const int KW = ${m.kernelShape[1]};\n        const int dilationH = ${m.dilations[0]};\n        const int dilationW = ${m.dilations[1]};\n        const int strideH = ${m.strides[0]};\n        const int strideW = ${m.strides[1]};\n        const int padH = ${m.pads[0]};\n        const int padW = ${m.pads[1]};\n        const int KHKW = KH*KW;\n        const int XCKHKW = XC * KHKW;\n        const int outputChannels = 4;\n        vec4 process(int indices[${I}]) {\n          int b  = indices[0]; // batch size\n          int oh = indices[1] * strideH - padH; //output height\n          int ow = indices[2] * strideW - padW; //output width\n          int p = indices[3] * outputChannels; //patch\n          vec4 value = vec4(0.0);\n          for(int i=0; i < outputChannels; ++i) {\n            if(p < XCKHKW) {\n              int patchC = p / KHKW;\n              int patchH = (p - patchC*KHKW) / KW;\n              int patchW = (p - patchC*KHKW) - patchH * KW;\n              int xh2 = oh + patchH * dilationH;\n              int xw2 = ow + patchW * dilationW;\n              int x[${v.length}];\n              x[0] = b;\n              x[1] = patchC;\n              x[2] = xh2;\n              x[3] = xw2;\n              if(xh2 >= 0 &&\n                  xh2 < XH &&\n                  xw2 >= 0 &&\n                  xw2 < XW) {\n                value[i] = _X(x);\n              }\n            }\n            ++p;\n          }\n          return value;\n        }\n        `;return Object.assign(Object.assign({},o),{output:{dims:C,type:u.type,textureType:S.TextureType.packedLastDimension},shaderSource:A})})(0,p,T,h,y,_)})},b.calculateIm2ColDims=(D,T,h,y=4)=>[h[0],h[2],h[3],Math.ceil(D[1]*T[2]*T[3]/y)]},6572:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseImageScalerAttributes=b.imageScaler=void 0;const S=P(246),D=P(2039);b.imageScaler=(p,d,s)=>(_(d),[p.run(h(p,d,s),d)]),b.parseImageScalerAttributes=p=>{const d=p.attributes.getFloat("scale"),s=p.attributes.getFloats("bias");return S.createAttributeWithCacheKey({scale:d,bias:s})};const T={name:"ImageScaler",inputNames:["X"],inputTypes:[D.TextureType.unpacked]},h=(p,d,s)=>{const o=Object.assign(Object.assign({},T),{cacheHint:s.cacheKey});return Object.assign(Object.assign({},o),{get:()=>((u,l,f,m)=>{const v=f[0].dims.slice(),x=v.length,I=`\n      ${y(m.bias.length)}\n      float process(int indices[${x}]) {\n        return _X(indices) * scale + getBias(bias, indices[1]);\n      }`;return Object.assign(Object.assign({},l),{output:{dims:v,type:f[0].type,textureType:D.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:m.bias.length,data:m.bias},{name:"scale",type:"float",data:m.scale}],shaderSource:I})})(0,o,d,s)})},y=p=>{const d=[`float getBias(float bias[${p}], int channel) {`];for(let s=0;s<p;++s)d.push(0===s?`\tif (channel == ${s}) { return bias[${s}]; }`:s===p-1?`\telse { return bias[${s}]; }`:`\telse if (channel == ${s}) { return bias[${s}]; }`);return d.push("\t}"),d.join("\n")},_=p=>{if(!p||1!==p.length)throw new Error("ImageScaler requires 1 input.");if(4!==p[0].dims.length)throw new Error("Invalid input shape.");if("float32"!==p[0].type&&"float64"!==p[0].type)throw new Error("Invalid input type.")}},3346:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseInstanceNormalizationAttributes=b.instanceNormalization=void 0;const S=P(5060),D=P(2039);b.instanceNormalization=(d,s,o)=>{p(s);const u=d.run(h(s[0]),s);return[d.run(_(d,s[0],o,u.dims),[s[0],u,s[1],s[2]])]},b.parseInstanceNormalizationAttributes=d=>d.attributes.getFloat("epsilon",1e-5);const T={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[D.TextureType.unpacked]},h=d=>Object.assign(Object.assign({},T),{get:()=>((s,o)=>{const u=o.dims.slice(),f=u[2]*u[3],m=[u[0],u[1]],v=`\n      vec4 process(int[2] indices) {\n        vec4 v = vec4(0.0);\n        int a[4];\n        a[0] = indices[0];\n        a[1] = indices[1];\n        float temp = 0.0;\n        for(int a2=0; a2<${u[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${u[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += x;\n          }\n        }\n        float mean = temp / float(${f});\n        temp = 0.0;\n        for(int a2=0; a2<${u[2]}; a2++) {\n          a[2] = a2;\n          for(int a3=0; a3<${u[3]}; a3++) {\n            a[3] = a3;\n            float x = _X(a);\n            temp += (x - mean) * (x - mean);\n          }\n        }\n        v.r = mean;\n        v.g = temp / float(${f});\n\n        return v;\n      }`;return Object.assign(Object.assign({},s),{output:{dims:m,type:o.type,textureType:D.TextureType.packedLastDimension},shaderSource:v})})(T,d)}),y={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[D.TextureType.unpacked,D.TextureType.packedLastDimension,D.TextureType.unpacked,D.TextureType.unpacked]},_=(d,s,o,u)=>{const l=Object.assign(Object.assign({},y),{cacheHint:`${o}`});return Object.assign(Object.assign({},l),{get:()=>((f,m,v,x,I)=>{const C=S.getGlsl(f.session.backend.glContext.version),[A,R]=f.calculateTextureWidthAndHeight(I,D.TextureType.packedLastDimension),[N,k]=[A/4,R],O=`\n      vec4 get_MeanAndVariance(int[2] mv) {\n        int offset = indicesToOffset_MeanAndVariance(mv);\n        vec2 coords = offsetToCoords(offset, ${N}, ${k});\n        return ${C.texture2D}(MeanAndVariance, coords);\n      }\n\n      float process(int[4] indices) {\n        int mv[2];\n        mv[0] = indices[0];\n        mv[1] = indices[1];\n        vec4 mean_and_variance = get_MeanAndVariance(mv);\n        float mean = mean_and_variance.r;\n        float variance = mean_and_variance.g;\n\n        int sb[1];\n        sb[0] = indices[1];\n        float scale = _Scale(sb);\n        float b = _B(sb);\n\n        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;\n      }`;return Object.assign(Object.assign({},m),{output:{dims:v.dims,type:v.type,textureType:D.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:x}],shaderSource:O})})(d,l,s,o,u)})},p=d=>{if(!d||3!==d.length)throw new Error("InstanceNormalization requires 3 inputs.");const s=d[0],o=d[1],u=d[2];if(s.dims.length<3||1!==o.dims.length||1!==u.dims.length)throw new Error("Invalid input shape.");if(o.dims[0]!==s.dims[1]||u.dims[0]!==s.dims[1])throw new Error("Input shapes are mismatched.");if("float32"!==s.type&&"float64"!==s.type||"float32"!==o.type&&"float64"!==o.type||"float32"!==u.type&&"float64"!==u.type)throw new Error("Invalid input type.");if(4!==d[0].dims.length)throw new Error("Only support 4-D input shape.")}},708:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createPackedMatmulProgramInfoLoader=void 0;const S=P(2517),D=P(5060),T=P(2039),h=P(9390),y=P(2823),_=P(5623);b.createPackedMatmulProgramInfoLoader=(p,d,s)=>{const o={name:"MatMul (packed)",inputNames:(u=d.length>2)?["A","B","Bias"]:["A","B"],inputTypes:u?[T.TextureType.packed,T.TextureType.packed,T.TextureType.packed]:[T.TextureType.packed,T.TextureType.packed],cacheHint:s.activationCacheKey};var u;return Object.assign(Object.assign({},o),{get:()=>((f,m,v,x)=>{const I=v.length>2,C=I?"value += getBiasForMatmul();":"",A=v[0].dims,R=v[1].dims,N=S.BroadcastUtil.calcShape(A,R,!0),k=!S.ShapeUtil.areEqual(v[0].dims,v[1].dims);if(!N)throw new Error("Can't use matmul on the given tensors");const $=Math.ceil(A[A.length-1]/2),G=A.length,z=R.length,X=D.getGlsl(f.session.backend.glContext.version),Z=h.getCoordsDataType(N.length),oe=N.length,B=h.getGlChannels(),{activationFunction:K,applyActivation:ve}=y.getActivationSnippet(x),re=I?`${_.getBiasForMatmul(Z,B,v[2].dims,N,!0)}`:"",_e=k?`${function(nt,Te,Xe,Me){let We=[],Lt=[];const xe=Xe[0].dims,Gt=Xe[1].dims,Wt=xe.length,wt=Gt.length,ut=Me.length,ln=ut-Wt,cn=ut-wt;We=xe.map((mt,qt)=>`coords.${Te[qt+ln]}`),We[Wt-1]="i*2",We.join(", "),Lt=Gt.map((mt,qt)=>`coords.${Te[qt+cn]}`),Lt[wt-2]="i*2",Lt.join(", ");const Cn=S.BroadcastUtil.getBroadcastDims(xe,Me),$n=S.BroadcastUtil.getBroadcastDims(Gt,Me),Wr=Cn.map(mt=>`coords.${Te[mt+ln]} = 0;`).join("\n"),Jt=$n.map(mt=>`coords.${Te[mt+cn]} = 0;`).join("\n"),Pr=`int lastDim = coords.${Te[ut-1]};\n  coords.${Te[ut-1]} = coords.${Te[ut-2]};\n  coords.${Te[ut-2]} = lastDim;`;return`\nvec4 getAAtOutCoordsMatmul(int i) {\n  ${nt} coords = getOutputCoords();\n  ${Pr}\n  ${Wr}\n  vec4 outputValue = getA(${We});\n  return outputValue;\n}\n\nvec4 getBAtOutCoordsMatmul(int i) {\n  ${nt} coords = getOutputCoords();\n  ${Pr}\n  ${Jt}\n  vec4 outputValue = getB(${Lt});\n  return outputValue;\n}`}(Z,B,v,N)}`:"",we=k?"getAAtOutCoordsMatmul(i)":`getA(${function(nt,Te){let Xe="";for(let Me=0;Me<Te-2;Me++)Xe+=`rc.${nt[Me]}, `;return Xe+=`rc.${nt[Te-2]}, i*2`,Xe}(B,G)})`,Ge=k?"getBAtOutCoordsMatmul(i)":`getB(${function(nt,Te){let Xe="";for(let Me=0;Me<Te-2;Me++)Xe+=`rc.${nt[Me]}, `;return Xe+=`i*2, rc.${nt[Te-1]}`,Xe}(B,z)})`,jt=`\n            ${_e}\n            ${re}\n            ${K}\n            void main() {\n              ${k?"":`${Z} rc =\n          getOutputCoords(); int lastDim = rc.${B[oe-1]}; rc.${B[oe-1]} =\n          rc.${B[oe-2]}; rc.${B[oe-2]} = lastDim;\n      `}\n\n              vec4 value = vec4(0);\n              for (int i = 0; i < ${$}; i++) {\n                vec4 a = ${we};\n                vec4 b = ${Ge};\n\n                value += (a.rrbb * b.rgrg);\n                value += (a.ggaa * b.baba);\n              }\n              ${C}\n              ${ve}\n              ${X.output} = value;\n            }`;return Object.assign(Object.assign({},m),{output:{dims:N,type:v[0].type,textureType:T.TextureType.packed},shaderSource:jt,hasMain:!0})})(p,o,d,s)})}},5623:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getBiasForMatmul=b.createMatmulProgramInfoLoader=b.parseMatMulAttributes=b.matMul=void 0;const S=P(2517),D=P(2039),T=P(9390),h=P(2823),y=P(708);function _(s,o){const u={name:"MatMul",inputNames:(l=s.length>2)?["A","B","Bias"]:["A","B"],inputTypes:l?[D.TextureType.unpacked,D.TextureType.unpacked,D.TextureType.unpacked]:[D.TextureType.unpacked,D.TextureType.unpacked],cacheHint:o.activationCacheKey};var l;return Object.assign(Object.assign({},u),{get:()=>function(m,v,x){const I=v[0].dims,C=v[1].dims,A=S.BroadcastUtil.calcShape(I,C,!0);if(!A)throw new Error("Can't use matmul on the given tensors");const R=T.getCoordsDataType(A.length),N=T.getGlChannels(),{activationFunction:k,applyActivation:O}=h.getActivationSnippet(x),$=v.length>2,G=$?"value += getBiasForMatmul();":"",z=$?`${d(R,N,v[2].dims,A,!1)}`:"",Z=I.length,oe=C.length,B=`\n    ${k}\n    ${z}\n    float process(int indices[${A.length}]) {\n        int a[${Z}];\n        int b[${oe}];\n        bcastMatmulIndices_A(indices, a);\n        bcastMatmulIndices_B(indices, b);\n\n        float value;\n        for (int k=0; k<${I[I.length-1]}; ++k) {\n            a[${Z-1}] = k;\n            b[${oe-2}] = k;\n            value += _A(a) * _B(b);\n        }\n        ${G}\n        ${O}\n        return value;\n    }`;return Object.assign(Object.assign({},m),{output:{dims:A,type:v[0].type,textureType:D.TextureType.unpacked},shaderSource:B})}(u,s,o)})}b.matMul=(s,o,u)=>(p(o),s.session.pack?[s.run(y.createPackedMatmulProgramInfoLoader(s,o,u),o)]:[s.run(_(o,u),o)]),b.parseMatMulAttributes=s=>h.parseInternalActivationAttributes(s.attributes),b.createMatmulProgramInfoLoader=_;const p=s=>{if(!s||2!==s.length)throw new Error("MatMul requires 2 inputs.");if(s[0].dims[s[0].dims.length-1]!==s[1].dims[s[1].dims.length-2])throw new Error("shared dimension does not match.");if("float32"!==s[0].type&&"float64"!==s[0].type||"float32"!==s[1].type&&"float64"!==s[1].type)throw new Error("inputs should be float type");if(s[0].type!==s[1].type)throw new Error("inputs types should match")};function d(s,o,u,l,f){let m="";const v=u.length,x=l.length,I=x-v;m=x<2&&v>0?"coords":u.map((R,N)=>`coords.${o[N+I]}`).join(", ");const C=S.BroadcastUtil.getBroadcastDims(u,l).map(R=>`coords.${o[R+I]} = 0;`).join("\n");let A="vec4(outputValue.xx, outputValue.yy)";return 1===S.ShapeUtil.size(u)&&(A="vec4(outputValue.x)"),f?`\nvec4 getBiasForMatmul() {\n  ${s} coords = getOutputCoords();\n  ${C}\n  vec4 outputValue = getBias(${m});\n  return ${A};\n}`:`\nfloat getBiasForMatmul() {\n  ${s} coords = getOutputCoords();\n  ${C}\n  return getBias(coords.x);\n}`}b.getBiasForMatmul=d},2403:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createPackProgramInfoLoader=void 0;const S=P(5060),D=P(2039),T=P(9390),h=P(2827),y={name:"pack",inputNames:["A"],inputTypes:[D.TextureType.unpackedReversed]};b.createPackProgramInfoLoader=(_,p)=>Object.assign(Object.assign({},y),{get:()=>((d,s)=>{const o=S.getGlsl(d.session.backend.glContext.version),u=s.dims,l=u.length,f=s.dims.length,m=T.getCoordsDataType(f),v=h.getChannels("rc",f),x=(C=v,0===(I=f)||1===I?"":`\n    int r = ${C[I-2]};\n    int c = ${C[I-1]};\n    int rp1 = ${C[I-2]} + 1;\n    int cp1 = ${C[I-1]} + 1;\n    bool rEdge = rp1 >= ${u[u.length-1]};\n    bool cEdge = cp1 >= ${u[u.length-2]};\n    `);var I,C;let N;N=0===l?[1,1]:1===l?[u[0],1]:[u[f-1],u[f-2]];const k=function(G,z,X){if(0===G)return"false";if(1===G)return`rc > ${z[0]}`;let Z="";for(let oe=G-2;oe<G;oe++)Z+=`${X[oe]} >= ${z[oe-G+2]}`,oe<G-1&&(Z+="||");return Z}(f,N,v),O=function(G,z){const X=G.length;if(0===X)return"getA(), 0, 0, 0";if(1===X)return`getA(rc),\n            rc + 1 >= ${G[0]} ? 0. : getA(rc + 1),\n            0, 0`;let Z="";if(X>2)for(let oe=0;oe<X-2;++oe)Z+=`${z[oe]},`;return`getA(${Z}r, c),\n          rEdge ? 0. : getA(${Z}rp1, c),\n          cEdge ? 0. : getA(${Z}r, cp1),\n          rEdge || cEdge ? 0. : getA(${Z}rp1, cp1)`}(u,v),$=`\n        void main() {\n          ${m} rc = getOutputCoords();\n\n          if(${k}) {\n            ${o.output} = vec4(0);\n          } else {\n            ${x}\n\n            ${o.output} = vec4(${O});\n          }\n        }\n      `;return Object.assign(Object.assign({},y),{hasMain:!0,output:{dims:s.dims,type:s.type,textureType:D.TextureType.packed},shaderSource:$})})(_,p)})},2827:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.unpackFromChannel=b.getChannels=b.getVecChannels=void 0;const S=P(9390);function D(T,h){return S.getGlChannels(h).map(y=>`${T}.${y}`)}b.getVecChannels=D,b.getChannels=function(T,h){return 1===h?[T]:D(T,h)},b.unpackFromChannel=function(){return"\n    float getChannel(vec4 frag, int dim) {\n      int modCoord = imod(dim, 2);\n      return modCoord == 0 ? frag.r : frag.g;\n    }\n\n    float getChannel(vec4 frag, vec2 innerDims) {\n      vec2 modCoord = mod(innerDims, 2.);\n      return modCoord.x == 0. ?\n        (modCoord.y == 0. ? frag.r : frag.g) :\n        (modCoord.y == 0. ? frag.b : frag.a);\n    }\n  "}},2870:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parsePadAttributesV11=b.padV11=b.parsePadAttributesV2=b.padV2=void 0;const S=P(246),D=P(2517),T=P(5060),h=P(2039),y={name:"Pad",inputNames:["A"],inputTypes:[h.TextureType.unpacked]};b.padV2=(m,v,x)=>(d(v),[m.run(Object.assign(Object.assign({},y),{cacheHint:x.cacheKey,get:()=>p(m,v[0],x)}),v)]),b.parsePadAttributesV2=m=>{const v=m.attributes.getString("mode","constant"),x=m.attributes.getFloat("value",0),I=m.attributes.getInts("pads");return S.createAttributeWithCacheKey({mode:v,value:x,pads:I})},b.padV11=(m,v,x)=>{s(v);const I=_(m,v,x);return b.padV2(m,[v[0]],I)},b.parsePadAttributesV11=m=>m.attributes.getString("mode","constant");const _=(m,v,x)=>{if(!m.session.isInitializer(v[1].dataId)||v.length>=3&&!m.session.isInitializer(v[2].dataId))throw new Error("dynamic pad attributes are not allowed");const I=Array.from(v[1].integerData);return S.createAttributeWithCacheKey({mode:x,pads:I,value:v.length>=3?v[2].floatData[0]:0})},p=(m,v,x)=>{const I=D.ShapeUtil.padShape(v.dims.slice(),x.pads),C=I.length,A=`\n      ${o(m,v,x)}\n      float process(int[${C}] indices) {\n          return padA(indices);\n      }`;return{name:"Pad",inputNames:["A"],inputTypes:[h.TextureType.unpacked],output:{dims:I,type:v.type,textureType:h.TextureType.unpacked},shaderSource:A}},d=m=>{if(!m||1!==m.length)throw new Error("Pad requires 1 input");if("float32"!==m[0].type&&"float64"!==m[0].type)throw new Error("Invalid input type.")},s=m=>{if(!m||2!==m.length&&3!==m.length)throw new Error("Pad requires 2 or 3 inputs");if("int32"!==m[1].type)throw new Error("Invalid input type.");if(m.length>=3&&"string"===m[2].type)throw new Error("Invalid input type.")},o=(m,v,x)=>{const I=T.getGlsl(m.session.backend.glContext.version),[C,A]=m.calculateTextureWidthAndHeight(v.dims,h.TextureType.unpacked),R=D.ShapeUtil.computeStrides(v.dims);switch(x.mode){case"constant":return u(I,v.dims,R,C,A,x.pads,x.value);case"reflect":return l(I,v.dims,R,C,A,x.pads);case"edge":return f(I,v.dims,R,C,A,x.pads);default:throw new Error("Invalid mode")}},u=(m,v,x,I,C,A,R)=>{const N=v.length;let k="";for(let O=N-1;O>=0;--O)k+=`\n        k = m[${O}] - ${A[O]};\n        if (k < 0)  return constant;\n        if (k >= ${v[O]}) return constant;\n        offset += k * ${x[O]};\n        `;return`\n      float padA(int m[${N}]) {\n        const float constant = float(${R});\n        int offset = 0;\n        int k = 0;\n        ${k}\n        vec2 coords = offsetToCoords(offset, ${I}, ${C});\n        float value = getColorAsFloat(${m.texture2D}(A, coords));\n        return value;\n      }\n      `},l=(m,v,x,I,C,A)=>{const R=v.length;let N="";for(let k=R-1;k>=0;--k)N+=`\n        k = m[${k}] - ${A[k]};\n        if (k < 0) { k = -k; }\n        {\n          const int _2n_1 = ${2*(v[k]-1)};\n          k = int( mod( float(k), float(_2n_1) ) ) ;\n          if(k >= ${v[k]}) { k = _2n_1 - k; }\n        }\n        offset += k * ${x[k]};\n        `;return`\n      float padA(int m[${R}]) {\n        int offset = 0;\n        int k = 0;\n        ${N}\n        vec2 coords = offsetToCoords(offset, ${I}, ${C});\n        float value = getColorAsFloat(${m.texture2D}(A, coords));\n        return value;\n      }\n      `},f=(m,v,x,I,C,A)=>{const R=v.length;let N="";for(let k=R-1;k>=0;--k)N+=`\n        k = m[${k}] - ${A[k]};\n        if (k < 0)  k = 0;\n        if (k >= ${v[k]}) k = ${v[k]-1};\n        offset += k * ${x[k]};\n      `;return`\n      float padA(int m[${R}]) {\n        int offset = 0;\n        int k = 0;\n        ${N}\n        vec2 coords = offsetToCoords(offset, ${I}, ${C});\n        float value = getColorAsFloat(${m.texture2D}(A, coords));\n        return value;\n      }\n      `}},2143:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.globalMaxPool=b.parseMaxPoolAttributes=b.maxPool=b.parseGlobalAveragePoolAttributes=b.globalAveragePool=b.parseAveragePoolAttributes=b.averagePool=void 0;const S=P(246),D=P(2517),T=P(2039);b.averagePool=(f,m,v)=>{s(m);const x={name:"AveragePool",inputNames:["X"],inputTypes:[T.TextureType.unpacked],cacheHint:v.cacheKey};return[f.run(Object.assign(Object.assign({},x),{get:()=>h(m,x,!1,v)}),m)]},b.parseAveragePoolAttributes=f=>{const m=f.attributes.getString("auto_pad","NOTSET"),v=f.attributes.getInt("ceil_mode",0),x=0!==f.attributes.getInt("count_include_pad",0),I=f.attributes.getInts("kernel_shape"),C=f.attributes.getInts("strides",[]),A=f.attributes.getInts("pads",[]);if(0!==v)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return S.createAttributeWithCacheKey({autoPad:m,ceilMode:v,countIncludePad:x,kernelShape:I,strides:C,pads:A})};const h=(f,m,v,x)=>{const[I,C]=_(f,x,v),A=D.ShapeUtil.size(I.kernelShape);let R="";R+=I.countIncludePad?`value /= float(${A});`:`value /= float(${A} - pad);`;const N=`\n        ${o(f[0].dims,I,"value += _X(x);",R,"0.0")}\n      `;return Object.assign(Object.assign({},m),{output:{dims:C,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:N})};b.globalAveragePool=(f,m,v)=>{s(m);const x={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[T.TextureType.unpacked],cacheHint:`${v.countIncludePad}`};return[f.run(Object.assign(Object.assign({},x),{get:()=>h(m,x,!0,v)}),m)]},b.parseGlobalAveragePoolAttributes=f=>{const m=0!==f.attributes.getInt("count_include_pad",0);return S.createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:m,kernelShape:[],strides:[],pads:[]})},b.maxPool=(f,m,v)=>{s(m);const x={name:"MaxPool",inputNames:["X"],inputTypes:[T.TextureType.unpacked],cacheHint:v.cacheKey};return[f.run(Object.assign(Object.assign({},x),{get:()=>y(m,x,!1,v)}),m)]},b.parseMaxPoolAttributes=f=>{const m=f.attributes.getString("auto_pad","NOTSET"),v=f.attributes.getInt("ceil_mode",0),x=f.attributes.getInts("kernel_shape"),I=f.attributes.getInts("strides",[]),C=f.attributes.getInts("pads",[]),A=f.attributes.getInt("storage_order",0),R=f.attributes.getInts("dilations",[]);if(0!==A)throw new Error("column major storage order is not yet supported for MaxPool");if(0!==v)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return S.createAttributeWithCacheKey({autoPad:m,ceilMode:v,countIncludePad:!1,kernelShape:x,strides:I,pads:C,storageOrder:A,dilations:R})};const y=(f,m,v,x)=>{const[I,C]=_(f,x,v),A=`\n      ${o(f[0].dims,I,"\n      value = max(_X(x), value);\n    ","","-1e5")}\n    `;return Object.assign(Object.assign({},m),{output:{dims:C,type:f[0].type,textureType:T.TextureType.unpacked},shaderSource:A})},_=(f,m,v)=>{const x=f[0].dims.slice(),I=Object.hasOwnProperty.call(m,"dilations"),C=m.kernelShape.slice(),A=m.strides.slice(),R=I?m.dilations.slice():[],N=m.pads.slice();D.PoolConvUtil.adjustPoolAttributes(v,x,C,A,R,N);const k=D.PoolConvUtil.computePoolOutputShape(v,x,A,R,C,N,m.autoPad),O=Object.assign({},m);return Object.assign(O,I?{kernelShape:C,strides:A,pads:N,dilations:R,cacheKey:m.cacheKey}:{kernelShape:C,strides:A,pads:N,cacheKey:m.cacheKey}),[O,k]},p={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},d={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[T.TextureType.unpacked]};b.globalMaxPool=(f,m)=>(s(m),[f.run(Object.assign(Object.assign({},d),{get:()=>y(m,d,!0,p)}),m)]);const s=f=>{if(!f||1!==f.length)throw new Error("Pool ops requires 1 input.");if("float32"!==f[0].type&&"float64"!==f[0].type)throw new Error("Invalid input type.")},o=(f,m,v,x,I)=>{const C=f.length;if(m.kernelShape.length<=2){const A=m.kernelShape[m.kernelShape.length-1],R=m.strides[m.strides.length-1],N=m.pads[m.pads.length/2-1];let $="",G="",z="";if($=N+m.pads[m.pads.length-1]!==0?`\n          for (int i = 0; i < ${A}; i++) {\n            x[${C} - 1] = indices[${C} - 1] * ${R} - ${N} + i;\n            if (x[${C} - 1] < 0 || x[${C} - 1] >= ${f[C-1]}) {\n              pad++;\n              continue;\n            }\n            ${v}\n          }`:`\n          for (int i = 0; i < ${A}; i++) {\n            x[${C} - 1] = indices[${C} - 1] * ${R} - ${N} + i;\n            ${v}\n          }`,2===m.kernelShape.length){const X=m.kernelShape[m.kernelShape.length-2],Z=m.strides[m.strides.length-2],oe=m.pads[m.pads.length/2-2];G=oe+m.pads[m.pads.length-2]!==0?`\n            for (int j = 0; j < ${X}; j++) {\n              x[${C} - 2] = indices[${C} - 2] * ${Z} - ${oe} + j;\n              if (x[${C} - 2] < 0 || x[${C} - 2] >= ${f[C-2]}) {\n                pad+= ${A};\n                continue;\n              }\n          `:`\n            for (int j = 0; j < ${X}; j++) {\n              x[${C} - 2] = indices[${C} - 2] * ${Z} - ${oe} + j;\n            `,z="\n          }\n        "}return`\n        float process(int indices[${C}]) {\n          int x[${C}];\n          copyVec(indices, x);\n\n          float value = ${I};\n          int pad = 0;\n          ${G}\n          ${$}\n          ${z}\n          ${x}\n          return value;\n        }\n      `}{const A=D.ShapeUtil.size(m.kernelShape),R=D.ShapeUtil.computeStrides(m.kernelShape),N=R.length,k=m.pads.length,O=l(N),$=u(f,"inputDims"),G=u(m.pads,"pads"),z=u(R,"kernelStrides"),X=u(m.strides,"strides");let Z="";return Z=m.pads.reduce((oe,B)=>oe+B)?`\n            if (x[j] >= inputDims[j] || x[j] < 0) {\n              pad++;\n              isPad = true;\n              break;\n            }\n          }\n          if (!isPad) {\n            ${v}\n          }`:`\n          }\n          ${v}\n        `,`\n        ${O}\n        float process(int indices[${C}]) {\n          int x[${C}];\n          copyVec(indices, x);\n          int offset[${N}];\n          int pads[${k}];\n          int inputDims[${C}];\n          int kernelStrides[${N}];\n          int strides[${N}];\n          ${G}\n          ${$}\n          ${X}\n          ${z}\n\n          float value = ${I};\n          int pad = 0;\n          bool isPad = false;\n          for (int i = 0; i < ${A}; i++) {\n            offsetToIndices(i, kernelStrides, offset);\n            isPad = false;\n            for (int j = ${C} - ${N}; j < ${C}; j++) {\n              x[j] = indices[j] * strides[j - ${C} + ${N}]\n                + offset[j - ${C} + ${N}] - pads[j - 2];\n              ${Z}\n          }\n          ${x}\n\n          return value;\n        }\n      `}},u=(f,m)=>{let v="";for(let x=0;x<f.length;x++)v+=`\n      ${m}[${x}] = ${f[x]};\n    `;return v},l=f=>`\n  void offsetToIndices(int offset, int[${f}] strides, out int[${f}] indices) {\n    if (${f} == 0) {\n      return;\n    }\n    for (int i = 0; i < ${f} - 1; ++i) {\n      indices[i] = offset / strides[i];\n      offset -= indices[i] * strides[i];\n    }\n    indices[${f} - 1] = offset;\n  }`},4939:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.reduceLogSumSquare=b.reduceLogSum=b.reduceProd=b.reduceMin=b.reduceMax=b.reduceMean=b.reduceSum=b.parseReduceAttributes=void 0;const S=P(246),D=P(782),T=P(2517),h=P(2039),y=(d,s,o,u,l)=>{p(s);const f={name:u,inputNames:["A"],inputTypes:[h.TextureType.unpacked]};return[d.run(Object.assign(Object.assign({},f),{cacheHint:o.cacheKey,get:()=>_(d,s,o,u,l,f)}),s)]};b.parseReduceAttributes=d=>{const s=d.attributes.getInts("axes",[]),o=1===d.attributes.getInt("keepdims",1);return S.createAttributeWithCacheKey({axes:s,keepDims:o})};const _=(d,s,o,u,l,f)=>{const m=[],v=s[0].dims.length||1,x=[],I=T.ShapeUtil.normalizeAxes(o.axes,s[0].dims.length),C=l(s,I);let A=C[1];for(let N=0;N<s[0].dims.length;N++)I.indexOf(N)>=0||0===I.length?(o.keepDims&&m.push(1),A=`\n          for(int j${N} = 0; j${N} < ${s[0].dims[N]}; j${N}++) {\n            inputIdx[${N}] = j${N};\n            ${A}\n          }`):(x.push(`inputIdx[${N}] = outputIdx[${m.length}];`),m.push(s[0].dims[N]));const R=`\n      float process(int outputIdx[${m.length||1}]) {\n        float value;                 // final result\n        int inputIdx[${v}];      // addressing input data\n        ${x.join("\n")}\n        ${C[0]}       // init ops for reduce max/min\n        ${A}\n        ${C[2]}       // final computation for reduce mean\n        return value;\n      }`;return Object.assign(Object.assign({},f),{output:{dims:m,type:s[0].type,textureType:h.TextureType.unpacked},shaderSource:R})},p=d=>{if(!d||1!==d.length)throw new Error("Reduce op requires 1 input.");if(-1===D.NUMBER_TYPES.indexOf(d[0].type))throw new Error("Invalid input type.")};b.reduceSum=(d,s,o)=>y(d,s,o,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),b.reduceMean=(d,s,o)=>y(d,s,o,"ReduceMean",(u,l)=>{let f=1;for(let m=0;m<u[0].dims.length;m++)(l.indexOf(m)>=0||0===l.length)&&(f*=u[0].dims[m]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${f}.;`]}),b.reduceMax=(d,s,o)=>y(d,s,o,"ReduceMax",(u,l)=>{const f=[];for(let m=0;m<u[0].dims.length;m++)(l.indexOf(m)>=0||0===l.length)&&f.push(`inputIdx[${m}] = 0;`);return[`${f.join("\n")}\nvalue = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),b.reduceMin=(d,s,o)=>y(d,s,o,"ReduceMin",(u,l)=>{const f=[];for(let m=0;m<u[0].dims.length;m++)(l.indexOf(m)>=0||0===l.length)&&f.push(`inputIdx[${m}] = 0;`);return[`${f.join("\n")}\nvalue = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),b.reduceProd=(d,s,o)=>y(d,s,o,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),b.reduceLogSum=(d,s,o)=>y(d,s,o,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),b.reduceLogSumSquare=(d,s,o)=>y(d,s,o,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isReshapeCheap=b.processDims3D=b.createPackedReshape3DProgramInfoLoader=void 0;const S=P(2517),D=P(5060),T=P(2039),h=P(2827);b.createPackedReshape3DProgramInfoLoader=(y,_,p)=>{const d={name:"Reshape (packed)",inputTypes:[T.TextureType.packed],inputNames:["A"],cacheHint:`${p}`};return Object.assign(Object.assign({},d),{get:()=>((s,o,u,l)=>{const f=o.dims,m=l;let v="";for(let C=0;C<4;C++){let A="";switch(C){case 0:A="outputCoords = rc;";break;case 1:A="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:A="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:A="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}v+=`\n        ${A}\n        ${C>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}\n          int flattenedIndex = getFlattenedIndex(outputCoords);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);\n          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${C}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);\n\n        ${C>0?"}":""}\n      `}const x=D.getGlsl(s.session.backend.glContext.version),I=`\n      ${function(C){const A=S.ShapeUtil.computeStrides(C),R=["b","r","c"];return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${A.map((N,k)=>`int ${R[k]} = index / ${N}; ${k===A.length-1?`int ${R[k+1]} = index - ${R[k]} * ${N}`:`index -= ${R[k]} * ${N}`};`).join("")}\n      return ivec3(b, r, c);\n    }\n  `}(f)}\n      ${function(C){const A=S.ShapeUtil.computeStrides(C);return`\n  int getFlattenedIndex(ivec3 coords) {\n    // reverse y, z order\n    return coords.x * ${A[0]} + coords.z * ${A[1]} + coords.y;\n  }\n`}(m)}\n      ${h.unpackFromChannel()}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.0);\n\n        ivec3 outputCoords;\n        int rows = ${m[2]};\n        int cols = ${m[1]};\n\n        ${v}\n        ${x.output} = result;\n      }\n    `;return Object.assign(Object.assign({},u),{output:{dims:m,type:o.type,textureType:T.TextureType.packed},shaderSource:I,hasMain:!0})})(y,_,d,p)})},b.processDims3D=function(y){if(0===y.length)return[1,1,1];let _=1;for(let p=0;p<y.length-2;++p)_*=y[p];return[_,y.length>1?y[y.length-2]:1,y[y.length-1]]},b.isReshapeCheap=function(y,_){let p=!1;return p=0===y.length||0===_.length||(y.length<2||_.length<2?y[y.length-1]===_[_.length-1]:y[y.length-1]===_[_.length-1]&&y[y.length-2]===_[_.length-2]),p}},718:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.reshape=void 0;const S=P(2517);b.reshape=(D,T)=>{const h=S.ShapeUtil.calculateReshapedDims(T[0].dims,T[1].integerData);return D.session.pack?[D.reshapePacked(T[0],h)]:[D.reshapeUnpacked(T[0],h)]}},2268:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseResizeAttributesV11=b.parseResizeAttributesV10=b.resize=void 0;const S=P(5060),D=P(2039),T=P(9390),h=P(2827),y=P(9793),_={name:"Resize",inputNames:["A"],inputTypes:[D.TextureType.packed]};b.resize=(u,l,f)=>(y.validateInputs(l,f),[u.run(Object.assign(Object.assign({},_),{cacheHint:f.cacheKey,get:()=>p(u,l,f)}),l)]),b.parseResizeAttributesV10=u=>y.parseUpsampleAttributes(u,10),b.parseResizeAttributesV11=u=>y.parseUpsampleAttributes(u,11);const p=(u,l,f)=>{const m=S.getGlsl(u.session.backend.glContext.version),[v,x]=d(l,f);if(v.every(Z=>1===Z)&&"tf_crop_and_resize"!==f.coordinateTransformMode)return Object.assign(Object.assign({},_),{output:{dims:x,type:l[0].type,textureType:D.TextureType.packed},hasMain:!0,shaderSource:`void main() {\n                    vec4 v = ${m.texture2D}(X, TexCoords);\n                    ${m.output} = v;\n                }`});const I=x.length;if(I<2)throw new Error(`output dimension should be at least 2, but got ${I}`);const C=x[I-2],A=x[I-1],R=l[0].dims;if(I!==R.length)throw new Error(`output dimension should match input ${R.length}, but got ${I}`);const N=R[I-2],k=R[I-1],O=v[I-2],$=v[I-1];let G="";if("linear"!==f.mode)throw new Error(`resize (packed) does not support mode: '${f.mode}'`);switch(f.coordinateTransformMode){case"asymmetric":G="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return vec4(coords) / scaleWHWH;\n                    }\n                ";break;case"half_pixel":G="\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;\n                    }\n                ";break;case"align_corners":G=`\n                    vec4 getSourceFracIndex(ivec4 coords) {\n                        vec4 resized = vec4(${A}.0 - 1.0, ${C}.0 - 1.0, ${A}.0 - 1.0,\n                            ${C}.0 - 1.0);\n                        vec4 original = vec4(${k}.0 - 1.0, ${N}.0 - 1.0, ${k}.0 - 1.0,\n                            ${N}.0 - 1.0);\n                        vec4 new_scale = original / resized;\n                        return vec4(coords) * new_scale;\n                    }\n                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${f.coordinateTransformMode}'`)}const z=T.getCoordsDataType(I),X=`\n            const vec2 inputWH = vec2(${N}.0, ${k}.0);\n            const vec4 scaleWHWH = vec4(float(${O}), float(${$}), float(${O}), float(${$}));\n            ${h.unpackFromChannel()}\n            ${G}\n            float getAValue(int x10, int r, int c, int d) {\n                return getChannel(getA(x10, r, c, d), vec2(c, d));\n            }\n            void main() {\n                ${z} rc = getOutputCoords();\n\n                int batch = rc[0];\n                int depth = rc[1];\n\n                // retrieve the 4 coordinates that is used in the 4 packed output values.\n                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);\n\n                // calculate the source index in fraction\n                vec4 sourceFrac = getSourceFracIndex(coords);\n\n                // get the lower and upper bound of the 4 values that will be packed into one texel.\n                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));\n                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));\n                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));\n                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));\n\n                bool hasNextRow = rc.w < ${C-1};\n                bool hasNextCol = rc.z < ${A-1};\n\n                // pack x00, x01, x10, x11's top-left corner into one vec4 structure\n                vec4 topLeft = vec4(\n                    getAValue(batch, depth, x00.x, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's top-right corner into one vec4 structure\n                vec4 topRight = vec4(\n                    getAValue(batch, depth, x00.x, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure\n                vec4 bottomLeft = vec4(\n                    getAValue(batch, depth, x00.z, x00.y),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);\n\n                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure\n                vec4 bottomRight = vec4(\n                    getAValue(batch, depth, x00.z, x00.w),\n                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,\n                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,\n                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);\n\n                // calculate the interpolation fraction on u and v direction\n                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);\n                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));\n\n                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);\n                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);\n                vec4 newValue = mix(top, bottom, clampFrac.xxzz);\n\n                ${m.output} = vec4(newValue);\n            }\n        `;return Object.assign(Object.assign({},_),{output:{dims:x,type:l[0].type,textureType:D.TextureType.packed},hasMain:!0,shaderSource:X})},d=(u,l)=>{const f=u[0].dims;let m,v=l.scales;if(0===v.length){const I=u[l.scalesInputIdx];if(I&&0!==I.size){if(u[l.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");v=s(I,l.mode,l.isResize)}else{const C=u[l.sizesInputIdx];if(!C||0===C.size)throw new Error("Either scales or sizes MUST be provided as input.");m=Array.from(C.integerData),v=o(m,f,l.mode,l.isResize)}}else if(u[l.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const x=m||f.map((I,C)=>Math.floor(I*v[C]));return[v,x]},s=(u,l,f)=>{const m=Array.from(u.floatData);return y.scalesValidation(m,l,f),m},o=(u,l,f,m)=>{const v=l.length,x=new Array(v);for(let I=0,C=v;I<C;I++)if(0===l[I]){if(0!==u[I])throw new Error("Input dim is zero but required output dim is non-zero.");x[I]=1}else x[I]=u[I]/l[I];return y.scalesValidation(x,f,m),x}},8117:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.shape=void 0;const S=P(9162);b.shape=(T,h)=>(D(h),[new S.Tensor([h[0].dims.length],"int32",void 0,void 0,new Int32Array(h[0].dims))]);const D=T=>{if(!T||1!==T.length)throw new Error("Shape requires 1 input.")}},2278:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.sliceV10=b.parseSliceAttributes=b.slice=void 0;const S=P(246),D=P(782),T=P(2517),h=P(2039),y={name:"Slice",inputNames:["A"],inputTypes:[h.TextureType.unpacked]};b.slice=(o,u,l)=>(p(u),[o.run(Object.assign(Object.assign({},y),{cacheHint:l.cacheKey,get:()=>_(o,u[0],l)}),u)]),b.parseSliceAttributes=o=>{const u=o.attributes.getInts("starts"),l=o.attributes.getInts("ends"),f=o.attributes.getInts("axes",[]);return S.createAttributeWithCacheKey({starts:u,ends:l,axes:f})};const _=(o,u,l)=>{const f=0===l.axes.length?u.dims.slice(0).map((R,N)=>N):l.axes,m=T.ShapeUtil.normalizeAxes(f,u.dims.length),v=l.starts.map((R,N)=>R>u.dims[m[N]]-1?u.dims[m[N]]:T.ShapeUtil.normalizeAxis(R,u.dims[m[N]])),x=l.ends.map((R,N)=>R>u.dims[m[N]]-1?u.dims[m[N]]:T.ShapeUtil.normalizeAxis(R,u.dims[m[N]])),I=u.dims.slice(),C=[];for(let R=0;R<m.length;R++)I[m[R]]=x[R]-v[R],v[R]>0&&C.push(`outputIdx[${m[R]}] += ${v[R]};`);const A=`\n      float process(int outputIdx[${I.length}]) {\n        ${C.join("\n      ")}\n        return _A(outputIdx);\n      }`;return Object.assign(Object.assign({},y),{output:{dims:I,type:u.type,textureType:h.TextureType.unpacked},shaderSource:A})},p=o=>{if(!o||1!==o.length)throw new Error("Slice requires 1 input.");if(-1===D.NUMBER_TYPES.indexOf(o[0].type))throw new Error("Invalid input type.")};b.sliceV10=(o,u)=>{s(u);const l=d(o,u);return[o.run(Object.assign(Object.assign({},y),{cacheHint:l.cacheKey,get:()=>_(o,u[0],l)}),[u[0]])]};const d=(o,u)=>{if(!o.session.isInitializer(u[1].dataId)||!o.session.isInitializer(u[2].dataId)||u.length>=4&&!o.session.isInitializer(u[3].dataId)||u.length>=5&&!o.session.isInitializer(u[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(u.length>=5&&u[4].integerData.some(v=>1!==v))throw new Error("currently non-1 steps is not supported for Slice");const l=Array.from(u[1].integerData),f=Array.from(u[2].integerData),m=u.length>=4?Array.from(u[3].integerData):[];return{starts:l,ends:f,axes:m,cacheKey:`${m};${l};${f}`}},s=o=>{if(!o||o.length<3||o.length>5)throw new Error("Invalid input number.");if("int32"!==o[1].type||1!==o[1].dims.length)throw new Error("Invalid input type.");if("int32"!==o[2].type||1!==o[2].dims.length)throw new Error("Invalid input type.");if(o.length>=4&&("int32"!==o[3].type||1!==o[3].dims.length))throw new Error("Invalid input type.");if(o.length>=5&&("int32"!==o[4].type||1!==o[4].dims.length))throw new Error("Invalid input type.")}},5524:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.softmaxV13=b.parseSoftmaxAttributesV13=b.parseSoftmaxAttributes=b.softmax=void 0;const S=P(246),D=P(2517),T=P(5060),h=P(2039),y=P(3738),_={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[h.TextureType.unpacked]},p={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[h.TextureType.unpacked,h.TextureType.unpacked]},d={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[h.TextureType.unpacked,h.TextureType.unpacked,h.TextureType.unpacked]};b.softmax=(m,v,x)=>{f(v);const I=v[0].dims.slice(),C=D.ShapeUtil.normalizeAxis(x.axis,I.length),A=D.ShapeUtil.sizeToDimension(I,C),R=D.ShapeUtil.sizeFromDimension(I,C);return s(m,v,x,A,R)},b.parseSoftmaxAttributes=m=>S.createAttributeWithCacheKey({axis:m.attributes.getInt("axis",1)}),b.parseSoftmaxAttributesV13=m=>S.createAttributeWithCacheKey({axis:m.attributes.getInt("axis",-1)}),b.softmaxV13=(m,v,x)=>{f(v);const I=v[0].dims.slice(),C=D.ShapeUtil.normalizeAxis(x.axis,I.length),A=I.length,R=C!==A-1,N=[];let k,O=[],$=[];R&&(O=Array.from({length:A}).map((Z,oe)=>oe),O[C]=A-1,O[A-1]=C,O.map(Z=>N.push(I[Z])),k=S.createAttributeWithCacheKey({perm:O}),$=y.transpose(m,v,k));const G=D.ShapeUtil.sizeToDimension(R?N:I,A-1),z=D.ShapeUtil.sizeFromDimension(R?N:I,A-1),X=s(m,R?$:v,x,G,z);return R?y.transpose(m,X,k):X};const s=(m,v,x,I,C)=>{const A=o(m,v[0],I,C,[I]),R=m.run(Object.assign(Object.assign({},_),{cacheHint:x.cacheKey,get:()=>A}),v),N=u(m,v[0],I,C,A.output.dims,[I]),k=m.run(Object.assign(Object.assign({},p),{cacheHint:x.cacheKey,get:()=>N}),[v[0],R]),O=l(m,v[0],I,C,A.output.dims,N.output.dims);return[m.run(Object.assign(Object.assign({},d),{cacheHint:x.cacheKey,get:()=>O}),[v[0],R,k])]},o=(m,v,x,I,C)=>{const[A,R]=m.calculateTextureWidthAndHeight(v.dims,h.TextureType.unpacked),N=C.length;if(x<1||I<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==C.length)throw new Error("Dimensionality of the output should be 1");if(C[0]!==x)throw new Error("Shape of the output should be equal to logical row count");const k=T.getGlsl(m.session.backend.glContext.version),O=`\n      float process(int[${N}] indices) {\n        int logical_row_start_offset = indices[0] * ${I};\n\n        float max = getColorAsFloat(${k.texture2D}(A, offsetToCoords(logical_row_start_offset, ${A},\n        ${R} )));\n        for(int i=1; i<${I}; ++i)\n        {\n          float current = getColorAsFloat(${k.texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${A}, ${R})));\n          if(current > max)\n          max = current;\n        }\n\n        return max;\n      }`;return Object.assign(Object.assign({},_),{output:{dims:C,type:v.type,textureType:h.TextureType.unpacked},shaderSource:O})},u=(m,v,x,I,C,A)=>{const[R,N]=m.calculateTextureWidthAndHeight(v.dims,h.TextureType.unpacked),k=A.length;if(x<1||I<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==A.length)throw new Error("Dimensionality of the output should be 1");if(A[0]!==x)throw new Error("Shape of the output should be equal to logical row count");if(1!==C.length)throw new Error("Dimensionality of the intermediate results should be 1");if(C[0]!==x)throw new Error("Shape of the intermediate results should be equal to logical row count");const O=`\n      float process(int[${k}] indices) {\n        int logical_row_start_offset = indices[0] * ${I};\n\n        float norm_factor = 0.0;\n        float max = _Max(indices);\n        for(int i=0; i<${I}; ++i)\n        {\n          norm_factor += exp(getColorAsFloat(${T.getGlsl(m.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,\n            ${R}, ${N}))) - max);\n        }\n\n        return norm_factor;\n      }`;return Object.assign(Object.assign({},p),{output:{dims:A,type:v.type,textureType:h.TextureType.unpacked},shaderSource:O})},l=(m,v,x,I,C,A)=>{const[R,N]=m.calculateTextureWidthAndHeight(v.dims,h.TextureType.unpacked),k=v.dims.length;if(x<1||I<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(1!==C.length||1!==A.length)throw new Error("Dimensionality of the intermediate results should be 1");if(C[0]!==x||A[0]!==x)throw new Error("Shape of the intermediate results should be equal to logical row count");const O=`\n      float process(int[${k}] indices) {\n\n      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)\n      int offset = coordsToOffset(TexCoords, ${R}, ${N});\n\n      //determine the logical row for this index\n      int logical_row_index[1];\n      logical_row_index[0] = offset / ${I};\n\n      float norm_factor = _Norm(logical_row_index);\n\n      // avoid possible division by 0\n      // if norm_facor is 0, all elements are zero\n      // if so, return 0\n      if(norm_factor == 0.0)\n        return 0.0;\n\n      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;\n    }`;return Object.assign(Object.assign({},d),{output:{dims:v.dims,type:v.type,textureType:h.TextureType.unpacked},shaderSource:O})},f=m=>{if(!m||1!==m.length)throw new Error("Softmax requires 1 input.");if("float32"!==m[0].type&&"float64"!==m[0].type)throw new Error("Invalid input type")}},5975:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseSplitAttributes=b.split=void 0;const S=P(246),D=P(2517),T=P(2039),h={name:"Split",inputNames:["A"],inputTypes:[T.TextureType.unpacked]};b.split=(d,s,o)=>{p(s);const u=D.ShapeUtil.normalizeAxis(o.axis,s[0].dims.length),l=y(d,s,u,o),f=[];for(let m=0;m<l;++m)f.push(d.run(Object.assign(Object.assign({},h),{cacheHint:`${o.cacheKey};${m}`,get:()=>_(d,s[0],o,u,m)}),s));return f},b.parseSplitAttributes=d=>{const s=d.attributes.getInt("axis",0),o=d.attributes.getInts("split",[]);return S.createAttributeWithCacheKey({axis:s,split:o,numOutputs:d.outputs.length})};const y=(d,s,o,u)=>{const[,l]=D.SplitUtil.splitShape(s[0].dims,o,u.split,u.numOutputs);return l.length},_=(d,s,o,u,l)=>{const[f,m]=D.SplitUtil.splitShape(s.dims,u,o.split,o.numOutputs),x=f[l],I=`\n      float process(int indices[${x.length}]) {\n        indices[${u}] += ${m[l]};\n        return _A(indices);\n      }\n    `;return Object.assign(Object.assign({},h),{cacheHint:`${o.cacheKey}:${l}`,output:{dims:x,type:s.type,textureType:T.TextureType.unpacked},shaderSource:I})},p=d=>{if(!d||1!==d.length)throw new Error("Split requires one input.");if("int8"!==d[0].type&&"uint8"!==d[0].type&&"int16"!==d[0].type&&"uint16"!==d[0].type&&"int32"!==d[0].type&&"uint32"!==d[0].type&&"float32"!==d[0].type&&"float64"!==d[0].type&&"bool"!==d[0].type)throw new Error("Invalid input type.")}},3933:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseSqueezeAttributes=b.squeezeV13=b.squeeze=void 0;const S=P(2517);b.squeeze=(h,y,_)=>{D(y);const p=S.ShapeUtil.squeezeShape(y[0].dims,_);return[h.reshapeUnpacked(y[0],p)]},b.squeezeV13=(h,y)=>(T(y),b.squeeze(h,[y[0]],Array.from(y[1].integerData))),b.parseSqueezeAttributes=h=>h.attributes.getInts("axes");const D=h=>{if(!h||1!==h.length)throw new Error("Squeeze requires 1 input.");if("string"===h[0].type)throw new Error("invalid input tensor types.")},T=h=>{if(!h||2!==h.length)throw new Error("Squeeze requires 2 inputs.");if("int32"!==h[1].type)throw new Error("Invalid input type.")}},6558:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.sum=void 0;const S=P(5060),D=P(2039);b.sum=(y,_)=>{h(_);const p={name:"Sum",inputNames:_.map((d,s)=>`X${s}`),inputTypes:new Array(_.length).fill(D.TextureType.unpacked)};return[y.run(Object.assign(Object.assign({},p),{get:()=>T(y,_,p)}),_)]};const T=(y,_,p)=>{const d=S.getGlsl(y.session.backend.glContext.version),s=_[0].dims.slice(),o=`\n      void main() {\n        vec4 result = ${_.map((u,l)=>`${d.texture2D}(X${l},TexCoords)`).join(" + ")};\n        ${d.output} = result;\n      }\n    `;return Object.assign(Object.assign({},p),{output:{dims:s,type:_[0].type,textureType:D.TextureType.unpacked},hasMain:!0,shaderSource:o})},h=y=>{if(!y||0===y.length)throw new Error("Sum requires inputs.");const _=y[0].dims.length;for(let p=1;p<y.length;p++){if(_!==y[p].dims.length)throw new Error("Input shapes are mismatched.");for(let d=0;d<_;d++)if(y[0].dims[d]!==y[p].dims[d])throw new Error("Input shapes are not matched.")}if("float32"!==y[0].type&&"float64"!==y[0].type)throw new Error("Invalid input type.");for(let p=1;p<y.length;p++)if(y[0].type!==y[p].type)throw new Error("Input types are not matched.")}},5723:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.tile=void 0;const S=P(782),D=P(2039);b.tile=(y,_)=>{h(_);const p={name:"Tile",inputNames:["A"],inputTypes:[D.TextureType.unpacked]};return[y.run(Object.assign(Object.assign({},p),{get:()=>T(y,_,p)}),_)]};const T=(y,_,p)=>{const d=_[0].dims.slice(),s=new Array(d.length),o=[];for(let f=0;f<d.length;f++)s[f]=d[f]*_[1].numberData[f],o.push(`inputIdx[${f}] = int(mod(float(outputIdx[${f}]), ${d[f]}.));`);const u=s.length,l=`\n      float process(int outputIdx[${u}]) {\n        int inputIdx[${u}];\n        ${o.join("\n")}\n        return _A(inputIdx);\n      }\n    `;return Object.assign(Object.assign({},p),{output:{dims:s,type:_[0].type,textureType:D.TextureType.unpacked},shaderSource:l})},h=y=>{if(!y||2!==y.length)throw new Error("Tile requires 2 input.");if(1!==y[1].dims.length)throw new Error("The second input shape must 1 dimension.");if(y[1].dims[0]!==y[0].dims.length)throw new Error("Invalid input shape.");if(-1===S.NUMBER_TYPES.indexOf(y[0].type))throw new Error("Invalid input type.");if("int32"!==y[1].type&&"int16"!==y[1].type)throw new Error("Invalid repeat type.")}},3738:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseTransposeAttributes=b.transpose=void 0;const S=P(246),D=P(2517),T=P(2039),h={name:"Transpose",inputNames:["A"],inputTypes:[T.TextureType.unpacked]};b.transpose=(o,u,l)=>(s(u),[o.run(Object.assign(Object.assign({},h),{cacheHint:l.cacheKey,get:()=>y(o,u[0],l.perm)}),u)]),b.parseTransposeAttributes=o=>S.createAttributeWithCacheKey({perm:o.attributes.getInts("perm",[])});const y=(o,u,l)=>{const f=u.dims;l=_(f,l);const m=p(f,l),v=f.length,x=`\n      ${d("perm",l,v)}\n      float process(int indices[${v}]) {\n        int a[${v}];\n        perm(a, indices);\n        return _A(a);\n      }`;return Object.assign(Object.assign({},h),{output:{dims:m,type:u.type,textureType:T.TextureType.unpacked},shaderSource:x})},_=(o,u)=>(u&&u.length!==o.length&&(u=[...o.keys()].reverse()),u),p=(o,u)=>(u=_(o,u),D.ShapeUtil.sortBasedOnPerm(o,u)),d=(o,u,l)=>{const f=[];f.push(`void ${o}(out int a[${l}], int src[${l}]) {`);for(let m=0;m<l;++m)f.push(`\ta[${u[m]}]=src[${m}];`);return f.push("\t}"),f.join("\n")},s=o=>{if(!o||1!==o.length)throw new Error("Transpose requires 1 input.");if("float32"!==o[0].type&&"float64"!==o[0].type)throw new Error("input should be float tensor")}},8710:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.encodeAsUint8=void 0;const S=P(5060),D=P(2039);b.encodeAsUint8=(T,h)=>{const y=h.shape,_=S.getGlsl(T.session.backend.glContext.version);return T.executeProgram({name:"Uint8Encode",inputTypes:[D.TextureType.unpacked],inputNames:["X"],output:{dims:y,type:h.tensor.type,textureType:D.TextureType.downloadUint8AsFloat},shaderSource:`\n    const float FLOAT_MAX = 1.70141184e38;\n    const float FLOAT_MIN = 1.17549435e-38;\n\n    bool isNaN(float val) {\n      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;\n    }\n\n    highp vec4 encodeAsUint8(highp float v) {\n      if (isNaN(v)) {\n        return vec4(255, 255, 255, 255);\n      }\n\n      highp float av = abs(v);\n\n      if(av < FLOAT_MIN) {\n        return vec4(0.0, 0.0, 0.0, 0.0);\n      } else if(v > FLOAT_MAX) {\n        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n      } else if(v < -FLOAT_MAX) {\n        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n      }\n\n      highp vec4 c = vec4(0,0,0,0);\n\n      highp float e = floor(log2(av));\n      highp float m = exp2(fract(log2(av))) - 1.0;\n\n      c[2] = floor(128.0 * m);\n      m -= c[2] / 128.0;\n      c[1] = floor(32768.0 * m);\n      m -= c[1] / 32768.0;\n      c[0] = floor(8388608.0 * m);\n\n      highp float ebias = e + 127.0;\n      c[3] = floor(ebias / 2.0);\n      ebias -= c[3] * 2.0;\n      c[2] += floor(ebias) * 128.0;\n\n      c[3] += 128.0 * step(0.0, -v);\n\n      return c / 255.0;\n    }\n\n    void main() {\n      float value = ${_.texture2D}(X,TexCoords).r;\n      ${_.output} = encodeAsUint8(value);\n    }`,hasMain:!0},[h.tensor])}},4909:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.tanh=b.tan=b.sqrt=b.sin=b.sigmoid=b.relu=b.not=b.neg=b.log=b.parseLeakyReluAttributes=b.leakyRelu=b.identity=b.floor=b.exp=b.parseEluAttributes=b.elu=b.cos=b.ceil=b.clipV11=b.parseClipAttributes=b.clip=b.atan=b.asin=b.acos=b.abs=b.glslTanh=b.glslTan=b.glslSqrt=b.glslSigmoid=b.glslRelu=b.glslSin=b.glslNot=b.glslNeg=b.glslLog=b.glslLeakyRelu=b.glslIdentity=b.glslClip=b.glslFloor=b.glslExp=b.glslElu=b.glslCos=b.glslCeil=b.glslAtan=b.glslAsin=b.glslAcos=b.glslAbs=void 0;const S=P(246),D=P(2517),T=P(8520),h=P(5060),y=P(2039);function _(){return X("abs")}function p(){return X("acos")}function d(){return X("asin")}function s(){return X("atan")}function o(){return X("ceil")}function u(){return X("cos")}function l(B){return{body:`\n  const float alpha = float(${B});\n\n  float elu_(float a) {\n    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;\n  }\n  vec4 elu_(vec4 v) {\n    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));\n  }\n  `,name:"elu",type:T.FunctionType.ValueBased}}function f(){return X("exp")}function m(){return X("floor")}function v(B,K){return{body:`\n  const float min = float(${B});\n  const float max = float(${K});\n\n  float clip_(float a) {\n    return clamp(a, min, max);\n  }\n  vec4 clip_(vec4 v) {\n    return clamp(v, min, max);\n  }\n  `,name:"clip",type:T.FunctionType.ValueBased}}function x(){const B="indentity";return{body:`\n  float ${B}_(float a) {\n    return a;\n  }\n  vec4 ${B}_(vec4 v) {\n    return v;\n  }\n  `,name:B,type:T.FunctionType.ValueBased}}function I(B){const K="leakyRelu";return{body:`\n  const float alpha = float(${B});\n\n  float ${K}_(float a) {\n    return a < 0.0 ? a * alpha : a;\n  }\n  vec4 ${K}_(vec4 v) {\n    return vec4(${K}_(v.x), ${K}_(v.y), ${K}_(v.z), ${K}_(v.w));\n  }\n  `,name:K,type:T.FunctionType.ValueBased}}function C(){return X("log")}function A(){return{body:"\n  float neg_(float a) {\n    return -a;\n  }\n  vec4 neg_(vec4 v) {\n    return -v;\n  }\n  ",name:"neg",type:T.FunctionType.ValueBased}}function R(){return{body:"\n  float not_(float a) {\n    return float( ! bool(a) );\n  }\n  bool not_(bool a) {\n    return !a;\n  }\n  vec4 not_(vec4 v) {\n    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));\n  }\n  bvec4 not_(bvec4 v) {\n    return bvec4(!v.x, !v.y, !v.z, !v.w);\n  }\n  ",name:"not",type:T.FunctionType.ValueBased}}function N(){return X("sin")}function k(){return{body:"\n  float relu_(float a) {\n    return max( a, 0.0 );\n  }\n  vec4 relu_(vec4 v) {\n    return max( v, 0.0 );\n  }\n  ",name:"relu",type:T.FunctionType.ValueBased}}function O(){return{body:"\n  float sigmoid_(float a) {\n    return 1.0 / (1.0 + exp(-a));\n  }\n  vec4 sigmoid_(vec4 v) {\n    return 1.0 / (1.0 + exp(-v));\n  }\n  ",name:"sigmoid",type:T.FunctionType.ValueBased}}function $(){return X("sqrt")}function G(){return X("tan")}function z(){return{body:"\n  float tanh_(float a) {\n    a = clamp(a, -10., 10.);\n    a = exp(2.*a);\n    return (a - 1.) / (a + 1.);\n  }\n  vec4 tanh_(vec4 v) {\n    v = clamp(v, -10., 10.);\n    v = exp(2.*v);\n    return (v - 1.) / (v + 1.);\n  }\n  ",name:"tanh",type:T.FunctionType.ValueBased}}function X(B){return{body:`\n  float ${B}_(float a) {\n    return ${B}(a);\n  }\n  vec4 ${B}_(vec4 v) {\n    return ${B}(v);\n  }\n  `,name:B,type:T.FunctionType.ValueBased}}b.glslAbs=_,b.glslAcos=p,b.glslAsin=d,b.glslAtan=s,b.glslCeil=o,b.glslCos=u,b.glslElu=l,b.glslExp=f,b.glslFloor=m,b.glslClip=v,b.glslIdentity=x,b.glslLeakyRelu=I,b.glslLog=C,b.glslNeg=A,b.glslNot=R,b.glslSin=N,b.glslRelu=k,b.glslSigmoid=O,b.glslSqrt=$,b.glslTan=G,b.glslTanh=z;const Z=(B,K,ve,re)=>{const we={name:ve.name,inputTypes:[B.session.pack?y.TextureType.packed:y.TextureType.unpacked],inputNames:["A"],cacheHint:re};return Object.assign(Object.assign({},we),{get:()=>((Ge,jt,nt,Te)=>{const Xe=Ge.session.pack?y.TextureType.packed:y.TextureType.unpacked,Me=h.getGlsl(Ge.session.backend.glContext.version);return Object.assign(Object.assign({},jt),{output:{dims:nt.dims,type:nt.type,textureType:Xe},shaderSource:`\n     ${Te.body}\n     void main() {\n       vec4 v = ${Me.texture2D}(A, TexCoords);\n       v = ${Te.name}_(v);\n       ${Me.output} = v;\n     }\n     `,hasMain:!0})})(B,we,K,ve)})};b.abs=(B,K)=>[B.run(Z(B,K[0],_()),K)],b.acos=(B,K)=>[B.run(Z(B,K[0],p()),K)],b.asin=(B,K)=>[B.run(Z(B,K[0],d()),K)],b.atan=(B,K)=>[B.run(Z(B,K[0],s()),K)],b.clip=(B,K,ve)=>[B.run(Z(B,K[0],v(ve.min,ve.max),ve.cacheKey),K)],b.parseClipAttributes=B=>S.createAttributeWithCacheKey({min:B.attributes.getFloat("min",D.MIN_CLIP),max:B.attributes.getFloat("max",D.MAX_CLIP)}),b.clipV11=(B,K)=>{const ve=oe(B,K);return b.clip(B,[K[0]],ve)};const oe=(B,K)=>{if(K.length>=3&&(!B.session.isInitializer(K[1].dataId)||!B.session.isInitializer(K[2].dataId)))throw new Error("dynamic clip attributes are not allowed");return S.createAttributeWithCacheKey({min:K.length>=3?K[1].numberData[0]:D.MIN_CLIP,max:K.length>=3?K[2].numberData[0]:D.MAX_CLIP})};b.ceil=(B,K)=>[B.run(Z(B,K[0],o()),K)],b.cos=(B,K)=>[B.run(Z(B,K[0],u()),K)],b.elu=(B,K,ve)=>[B.run(Z(B,K[0],l(ve.alpha),ve.cacheKey),K)],b.parseEluAttributes=B=>S.createAttributeWithCacheKey({alpha:B.attributes.getFloat("alpha",1)}),b.exp=(B,K)=>[B.run(Z(B,K[0],f()),K)],b.floor=(B,K)=>[B.run(Z(B,K[0],m()),K)],b.identity=(B,K)=>[B.run(Z(B,K[0],x()),K)],b.leakyRelu=(B,K,ve)=>[B.run(Z(B,K[0],I(ve.alpha),ve.cacheKey),K)],b.parseLeakyReluAttributes=B=>S.createAttributeWithCacheKey({alpha:B.attributes.getFloat("alpha",.01)}),b.log=(B,K)=>[B.run(Z(B,K[0],C()),K)],b.neg=(B,K)=>[B.run(Z(B,K[0],A()),K)],b.not=(B,K)=>[B.run(Z(B,K[0],R()),K)],b.relu=(B,K)=>[B.run(Z(B,K[0],k()),K)],b.sigmoid=(B,K)=>[B.run(Z(B,K[0],O()),K)],b.sin=(B,K)=>[B.run(Z(B,K[0],N()),K)],b.sqrt=(B,K)=>[B.run(Z(B,K[0],$()),K)],b.tan=(B,K)=>[B.run(Z(B,K[0],G()),K)],b.tanh=(B,K)=>[B.run(Z(B,K[0],z()),K)]},5611:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createUnpackProgramInfoLoader=b.createUnpackProgramInfo=void 0;const S=P(5060),D=P(2039),T=P(9390),h=P(2827),y={name:"unpack",inputNames:["A"],inputTypes:[D.TextureType.packed]};b.createUnpackProgramInfo=(_,p)=>{const d=p.dims.length,s=h.getChannels("rc",d),o=s.slice(-2),u=T.getCoordsDataType(d),l=h.unpackFromChannel(),f=0===p.dims.length?"":function(x,I){if(1===x)return"rc";let C="";for(let A=0;A<x;A++)C+=I[A],A<x-1&&(C+=",");return C}(d,s),m=d<=1?"rc":`vec2(${o.join(",")})`,v=`\n    ${l}\n    void main() {\n      ${u} rc = getOutputCoords();\n\n       // Sample the texture with the coords to get the rgba channel value.\n       vec4 packedInput = getA(${f});\n\n       ${S.getGlsl(_.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${m}), 0, 0, 0);\n     }\n   `;return Object.assign(Object.assign({},y),{hasMain:!0,output:{dims:p.dims,type:p.type,textureType:D.TextureType.unpacked},shaderSource:v})},b.createUnpackProgramInfoLoader=(_,p)=>Object.assign(Object.assign({},y),{get:()=>b.createUnpackProgramInfo(_,p)})},8428:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.parseUnsqueezeAttributes=b.unsqueezeV13=b.unsqueeze=void 0;const S=P(2517);b.unsqueeze=(h,y,_)=>{D(y);const p=S.ShapeUtil.unsqueezeShape(y[0].dims,_);return[h.reshapeUnpacked(y[0],p)]},b.unsqueezeV13=(h,y)=>(T(y),b.unsqueeze(h,[y[0]],Array.from(y[1].integerData))),b.parseUnsqueezeAttributes=h=>h.attributes.getInts("axes");const D=h=>{if(!h||1!==h.length)throw new Error("Unsqueeze requires 1 input.");if("string"===h[0].type)throw new Error("invalid input tensor types.")},T=h=>{if(!h||2!==h.length)throw new Error("Unsqueeze requires 2 inputs.");if("int32"!==h[1].type)throw new Error("Invalid input type.")}},9793:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.scalesValidation=b.validateInputs=b.parseUpsampleAttributes=b.parseUpsampleAttributesV9=b.parseUpsampleAttributesV7=b.upsample=void 0;const S=P(246),D=P(5060),T=P(2039),h={name:"Upsample",inputNames:["X"],inputTypes:[T.TextureType.unpacked]};b.upsample=(_,p,d)=>(b.validateInputs(p,d),[_.run(Object.assign(Object.assign({},h),{cacheHint:d.cacheKey,get:()=>y(_,p,d)}),p)]),b.parseUpsampleAttributesV7=_=>b.parseUpsampleAttributes(_,7),b.parseUpsampleAttributesV9=_=>b.parseUpsampleAttributes(_,9),b.parseUpsampleAttributes=(_,p)=>{const d=p>=10,s=_.attributes.getString("mode","nearest");if("nearest"!==s&&"linear"!==s&&(p<11||"cubic"!==s))throw new Error(`unrecognized mode: ${s}`);let o=[];p<9&&(o=_.attributes.getFloats("scales"),b.scalesValidation(o,s,d));const u=_.attributes.getFloat("extrapolation_value",0),l=p>10?_.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(-1===["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(l))throw new Error(`coordinate_transform_mode '${l}' is not supported`);const f="tf_crop_and_resize"===l,m=f,v="nearest"===s&&p>=11?_.attributes.getString("nearest_mode","round_prefer_floor"):"";if(-1===["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(v))throw new Error(`nearest_mode '${v}' is not supported`);const x=_.attributes.getFloat("cubic_coeff_a",-.75),I=0!==_.attributes.getInt("exclude_outside",0);if(I&&"cubic"!==s)throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");let A=0,R=0,N=0;return p>10?(A=1,R=2,N=3):9===p&&(R=1),S.createAttributeWithCacheKey({opset:p,isResize:d,mode:s,scales:o,extrapolationValue:u,coordinateTransformMode:l,useExtrapolation:m,needRoiInput:f,nearestMode:v,cubicCoefficientA:x,excludeOutside:I,useNearest2xOptimization:p<11||"nearest"===s&&"asymmetric"===l&&"floor"===v,roiInputIdx:A,scalesInputIdx:R,sizesInputIdx:N})};const y=(_,p,d)=>{const s=D.getGlsl(_.session.backend.glContext.version),[o,u]=_.calculateTextureWidthAndHeight(p[0].dims,T.TextureType.unpacked),l=p[0].dims.map((N,k)=>Math.floor(N*d.scales[k])),[f,m]=_.calculateTextureWidthAndHeight(l,T.TextureType.unpacked),v=l.length,x=new Array(v),I=new Array(v);let C=`\n      int output_pitches[${v}];\n      int input_pitches[${v}];\n      `;for(let N=v-1;N>=0;N--)x[N]=N===v-1?1:x[N+1]*l[N+1],I[N]=N===v-1?1:I[N+1]*p[0].dims[N+1],C+=`\n        output_pitches[${N}] = ${x[N]};\n        input_pitches[${N}] = ${I[N]};\n        `;const A=`\n      float getInputFloat(int index) {\n        vec2 coords = offsetToCoords(index, ${o}, ${u});\n        float value = getColorAsFloat(${s.texture2D}(X, coords));\n        return value;\n      }\n      `,R="nearest"===d.mode?`\n    ${A}\n    float process(int indices[${v}]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${m});\n\n      ${C}\n\n      int d, m;\n      for (int dim = 0; dim < ${v}; ++dim) {\n        d = output_index / output_pitches[dim];\n        m = output_index - d * output_pitches[dim];\n        output_index = m;\n\n        if (scales[dim] != 1 && d > 0) {\n          int d2 = d / scales[dim];\n          m = d - d2 * scales[dim];\n          d = d2;\n        }\n        input_index += input_pitches[dim] * d;\n      }\n\n      return getInputFloat(input_index);\n    }`:4===v?`\n    ${A}\n    float process(int indices[4]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${m});\n\n      ${C}\n\n      int m;\n      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m / output_pitches[1];\n      m = m - index_of_dim1 * output_pitches[1];\n      index_of_dim2 = m / output_pitches[2];\n      m = m - index_of_dim2 * output_pitches[2];\n      index_of_dim3 = m;\n\n      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;\n      index_of_input_dim2 = index_of_dim2 / scales[2];\n      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];\n      index_of_input_dim3 = index_of_dim3 / scales[3];\n      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];\n\n      input_index = index_of_dim0 * input_pitches[0] +\n            index_of_dim1 * input_pitches[1] +\n            index_of_input_dim2 * input_pitches[2] +\n            index_of_input_dim3;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim2 = false;\n      if (index_of_input_dim2 == (${p[0].dims[2]} - 1)) {\n        // It's the end in dimension 2\n        x01 = x00;\n        end_of_dim2 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[2]);\n      }\n\n      if (index_of_input_dim3 == (input_pitches[2] - 1)) {\n        // It's the end in dimension 3\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);\n    }`:`\n    ${A}\n    float process(int indices[2]) {\n      int input_index = 0;\n      int output_index = coordsToOffset(TexCoords, ${f}, ${m});\n\n      ${C}\n\n      int m;\n      int index_of_dim0, index_of_dim1;\n      index_of_dim0 = output_index / output_pitches[0];\n      m = output_index - index_of_dim0 * output_pitches[0];\n      index_of_dim1 = m;\n\n      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;\n      index_of_input_dim0 = index_of_dim0 / scales[0];\n      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];\n      index_of_input_dim1 = index_of_dim1 / scales[1];\n      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];\n\n      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;\n\n      float x00 = getInputFloat(input_index);\n      float x10, x01, x11;\n\n      bool end_of_dim0 = false;\n      if (index_of_input_dim0 == (${p[0].dims[0]} - 1)) {\n        // It's the end in dimension 0\n        x01 = x00;\n        end_of_dim0 = true;\n      } else {\n        x01 = getInputFloat(input_index + input_pitches[0]);\n      }\n\n      if (index_of_input_dim1 == (input_pitches[0] - 1)) {\n        // It's the end in dimension 1\n        x10 = x00;\n        x11 = x01;\n      }\n      else {\n        x10 = getInputFloat(input_index + 1);\n        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);\n      }\n\n      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);\n      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);\n      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);\n    }`;return Object.assign(Object.assign({},h),{output:{dims:l,type:p[0].type,textureType:T.TextureType.unpacked},shaderSource:R,variables:[{name:"scales",type:"int",arrayLength:d.scales.length,data:d.scales.map(N=>Math.ceil(N))}]})};b.validateInputs=(_,p)=>{if(!_||p.opset<9&&1!==_.length||p.opset>=9&&p.opset<11&&2!==_.length||p.opset>=11&&3!==_.length&&4!==_.length)throw new Error("invalid inputs.");if(p.scales.length>0&&_[0].dims.length!==p.scales.length)throw new Error("Invalid input shape.");if("string"===_[0].type)throw new Error("Invalid input tensor types.")},b.scalesValidation=(_,p,d)=>{if(d){for(const s of _)if(s<=0)throw new Error("Scale value should be greater than 0.")}else for(const s of _)if(s<1)throw new Error("Scale value should be greater than or equal to 1.");if(!("linear"!==p&&"cubic"!==p||2===_.length||4===_.length&&1===_[0]&&1===_[1]))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${d?"Resize":"Upsample"} opeartor.`)}},1958:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ProgramManager=void 0;const S=P(2174),D=P(6231),T=P(8879),h=P(5060);b.ProgramManager=class{constructor(y,_,p){this.profiler=y,this.glContext=_,this.textureLayoutStrategy=p,this.repo=new Map,this.attributesBound=!1}getArtifact(y){return this.repo.get(y)}setArtifact(y,_){this.repo.set(y,_)}run(y,_,p){var d;this.profiler.event("op",`ProgramManager.run ${null!==(d=y.programInfo.name)&&void 0!==d?d:"unknown kernel"}`,()=>{var s;this.glContext.gl.useProgram(y.program);try{this.bindOutput(p),this.attributesBound||this.bindAttributes(y.attribLocations),this.bindUniforms(y.uniformLocations,null!==(s=y.programInfo.variables)&&void 0!==s?s:[],_)}catch(l){throw D.Logger.error("ProgramManager",y.programInfo.shaderSource),l}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(y=>this.glContext.deleteProgram(y.program))}build(y,_,p){return this.profiler.event("backend","ProgramManager.build",()=>{const d=new T.GlslPreprocessor(this.glContext,y,_,p),s=d.preprocess(),o=this.compile(s);return{programInfo:y,program:o,uniformLocations:this.getUniformLocations(o,d.context.programInfo.inputNames,d.context.programInfo.variables),attribLocations:this.getAttribLocations(o)}})}compile(y){if(!this.vertexShader){D.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const d=h.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(d,this.glContext.gl.VERTEX_SHADER)}S.env.debug&&D.Logger.verbose("ProrgramManager",`FragShader:\n${y}\n`);const _=this.glContext.compileShader(y,this.glContext.gl.FRAGMENT_SHADER),p=this.glContext.createProgram(this.vertexShader,_);return this.glContext.deleteShader(_),p}bindOutput(y){const _=y.width,p=y.height;D.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${_}/${p}, shape=${y.shape}, type=${y.tensor.type}`),this.glContext.attachFramebuffer(y.texture,_,p)}bindAttributes(y){this.glContext.setVertexAttributes(y.position,y.textureCoord),this.attributesBound=!0}bindUniforms(y,_,p){var d;const s=this.glContext.gl;let o=0;for(const{name:u,type:l,location:f,arrayLength:m}of y){const v=null===(d=_.find(x=>x.name===u))||void 0===d?void 0:d.data;if("sampler2D"!==l&&!v)throw new Error(`variable '${u}' does not have data defined in program info`);switch(l){case"sampler2D":this.bindTexture(p[o],f,o),o++;break;case"float":m?s.uniform1fv(f,v):s.uniform1f(f,v);break;case"int":m?s.uniform1iv(f,v):s.uniform1i(f,v);break;default:throw new Error(`Uniform not implemented: ${l}`)}}}bindTexture(y,_,p){this.glContext.bindTextureToUniform(y.texture,p,_)}getAttribLocations(y){return{position:this.getAttribLocation(y,"position"),textureCoord:this.getAttribLocation(y,"textureCoord")}}getUniformLocations(y,_,p){const d=[];if(_)for(const s of _)d.push({name:s,type:"sampler2D",location:this.getUniformLocation(y,s)});if(p)for(const s of p)d.push(Object.assign(Object.assign({},s),{location:this.getUniformLocation(y,s.name)}));return d}getUniformLocation(y,_){const p=this.glContext.gl.getUniformLocation(y,_);if(null===p)throw new Error(`Uniform ${_} not found.`);return p}getAttribLocation(y,_){return this.glContext.gl.getAttribLocation(y,_)}}},6416:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLSessionHandler=void 0;const S=P(6231),D=P(1047),T=P(8316),h=P(1640),y=P(1958),_=P(7859),p=P(5702);b.WebGLSessionHandler=class{constructor(d,s){this.backend=d,this.context=s,this.layoutStrategy=new _.PreferLogicalStrategy(d.glContext.maxTextureSize),this.programManager=new y.ProgramManager(this.context.profiler,d.glContext,this.layoutStrategy),this.textureManager=new p.TextureManager(d.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:"full"===d.textureCacheMode}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=d.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new T.WebGLInferenceHandler(this)}onGraphInitialized(d){const s=d.getValues().filter(o=>-1===o.from&&o.tensor).map(o=>o.tensor.dataId);this.initializers=new Set(s)}isInitializer(d){return!!this.initializers&&this.initializers.has(d)}addInitializer(d){this.initializers.add(d)}getTextureData(d,s){return s?this.packedTextureDataCache.get(d):this.unpackedTextureDataCache.get(d)}setTextureData(d,s,o=!1){S.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),o?this.packedTextureDataCache.set(d,s):this.unpackedTextureDataCache.set(d,s)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(d=>this.textureManager.releaseTexture(d,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(d=>this.textureManager.releaseTexture(d,!0)),this.unpackedTextureDataCache=new Map}resolve(d,s,o){const u=D.resolveOperator(d,s,h.WEBGL_OP_RESOLVE_RULES);return{impl:u.opImpl,context:u.opInit?u.opInit(d,o):d}}}},7769:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Uint8DataEncoder=b.RGBAFloatDataEncoder=b.RedFloat32DataEncoder=void 0;const S=P(6231);b.RedFloat32DataEncoder=class{constructor(D,T=1){if(1===T)this.internalFormat=D.R32F,this.format=D.RED,this.textureType=D.FLOAT,this.channelSize=T;else{if(4!==T)throw new Error(`Invalid number of channels: ${T}`);this.internalFormat=D.RGBA32F,this.format=D.RGBA,this.textureType=D.FLOAT,this.channelSize=T}}encode(D,T){let h,y;return D.constructor!==Float32Array&&(S.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),y=new Float32Array(D)),T*this.channelSize>D.length?(S.Logger.warning("Encoder","Source data too small. Allocating larger array"),y=D,h=this.allocate(T*this.channelSize),y.forEach((_,p)=>h[p]=_)):(y=D,h=y),h}allocate(D){return new Float32Array(4*D)}decode(D,T){return 1===this.channelSize?D.filter((h,y)=>y%4==0).subarray(0,T):D.subarray(0,T)}},b.RGBAFloatDataEncoder=class{constructor(D,T=1,h){if(1!==T&&4!==T)throw new Error(`Invalid number of channels: ${T}`);this.internalFormat=D.RGBA,this.format=D.RGBA,this.channelSize=T,this.textureType=h||D.FLOAT}encode(D,T){let h=D;return 1===this.channelSize&&(S.Logger.verbose("Encoder","Exploding into a larger array"),h=this.allocate(T),D.forEach((y,_)=>h[4*_]=y)),h}allocate(D){return new Float32Array(4*D)}decode(D,T){return 1===this.channelSize?D.filter((h,y)=>y%4==0).subarray(0,T):D.subarray(0,T)}},b.Uint8DataEncoder=class{constructor(D,T=1){if(this.channelSize=4,1===T)this.internalFormat=D.ALPHA,this.format=D.ALPHA,this.textureType=D.UNSIGNED_BYTE,this.channelSize=T;else{if(4!==T)throw new Error(`Invalid number of channels: ${T}`);this.internalFormat=D.RGBA,this.format=D.RGBA,this.textureType=D.UNSIGNED_BYTE,this.channelSize=T}}encode(D,T){return new Uint8Array(D.buffer,D.byteOffset,D.byteLength)}allocate(D){return new Uint8Array(D*this.channelSize)}decode(D,T){if(D instanceof Uint8Array)return D.subarray(0,T);throw new Error(`Invalid array type: ${D.constructor}`)}}},7859:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getBatchDim=b.sizeToSquarishShape=b.getRowsCols=b.sizeFromShape=b.isInt=b.parseAxisParam=b.squeezeShape=b.PreferLogicalStrategy=b.AlwaysKeepOriginalSizeStrategy=void 0;const S=P(6231),D=P(2517);function T(d,s){const o=[],u=[],l=null!=s&&Array.isArray(s)&&0===s.length,f=null==s||l?null:h(s,d).sort();let m=0;for(let v=0;v<d.length;++v){if(null!=f){if(f[m]===v&&1!==d[v])throw new Error(`Can't squeeze axis ${v} since its dim '${d[v]}' is not 1`);(null==f[m]||f[m]>v)&&1===d[v]&&(o.push(d[v]),u.push(v)),f[m]<=v&&m++}1!==d[v]&&(o.push(d[v]),u.push(v))}return{newShape:o,keptDims:u}}function h(d,s){const o=s.length;return d=null==d?s.map((u,l)=>l):[].concat(d),D.assert(d.every(u=>u>=-o&&u<o),()=>`All values in axis param must be in range [-${o}, ${o}) but got axis ${d}`),D.assert(d.every(y),()=>`All values in axis param must be integers but got axis ${d}`),d.map(u=>u<0?o+u:u)}function y(d){return d%1==0}function _(d){if(0===d.length)return 1;let s=d[0];for(let o=1;o<d.length;o++)s*=d[o];return s}function p(d){const s=Math.ceil(Math.sqrt(d));return[s,Math.ceil(d/s)]}b.AlwaysKeepOriginalSizeStrategy=class{constructor(d){this.maxTextureSize=d}computeTextureWH(d,s){if(0===d.length)return[1,1];const o=this.maxTextureSize;if(s&&void 0!==s.breakAxis){const f=s.breakAxis>=d.length?1:d.slice(s.breakAxis).reduce((v,x)=>v*x),m=s.breakAxis<=0?1:d.slice(0,s.breakAxis).reduce((v,x)=>v*x);if(!(f>o||m>o))return[f,m];S.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${d}, breakAxis:${s.breakAxis}`)}const u=d.reduce((f,m)=>f*m);let l=Math.floor(Math.sqrt(u));for(;l<o&&l<u&&u%l!=0;l++);if(l>=o||u%l!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${d}`);return[l,u/l]}},b.PreferLogicalStrategy=class{constructor(d){this.maxTextureSize=d}computeTextureWH(d,s){const o=this.computeTexture(d,s);return s&&s.isPacked&&(o[0]/=2,o[1]/=2),s&&s.reverseWH?[o[1],o[0]]:o}computeTexture(d,s){const o=s&&s.isPacked;if(0===d.length)return o?[2,2]:[1,1];let u=this.maxTextureSize;if(s&&void 0!==s.breakAxis){const m=s.breakAxis>=d.length?1:d.slice(s.breakAxis).reduce((x,I)=>x*I),v=s.breakAxis<=0?1:d.slice(0,s.breakAxis).reduce((x,I)=>x*I);if(!(m>u||v>u))return[m,v];S.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${d}, breakAxis:${s.breakAxis}`)}let l=d.slice(0);o&&(u*=2,l=l.map((m,v)=>v>=l.length-2?l[v]%2==0?l[v]:l[v]+1:l[v]),1===l.length&&(l=[2,l[0]])),2!==l.length&&(l=T(l).newShape);const f=_(l);return l.length<=1&&f<=u?[1,f]:2===l.length&&l[0]<=u&&l[1]<=u?l:3===l.length&&l[0]*l[1]<=u&&l[2]<=u?[l[0]*l[1],l[2]]:3===l.length&&l[0]<=u&&l[1]*l[2]<=u?[l[0],l[1]*l[2]]:4===l.length&&l[0]*l[1]*l[2]<=u&&l[3]<=u?[l[0]*l[1]*l[2],l[3]]:4===l.length&&l[0]<=u&&l[1]*l[2]*l[3]<=u?[l[0],l[1]*l[2]*l[3]]:o?p(f/4).map(m=>2*m):p(f)}},b.squeezeShape=T,b.parseAxisParam=h,b.isInt=y,b.sizeFromShape=_,b.getRowsCols=function(d){if(0===d.length)throw Error("Cannot get rows and columns of an empty shape array.");return[d.length>1?d[d.length-2]:1,d[d.length-1]]},b.sizeToSquarishShape=p,b.getBatchDim=function(d,s=2){return _(d.slice(0,d.length-s))}},4057:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createTextureLayoutFromShape=b.calculateTextureWidthAndHeight=b.createTextureLayoutFromTextureType=void 0;const S=P(2517),D=P(2039);b.createTextureLayoutFromTextureType=(T,h,y)=>{const _=y===D.TextureType.unpacked||y===D.TextureType.unpackedReversed?1:4,p=y===D.TextureType.packed,d=y===D.TextureType.unpackedReversed||y===D.TextureType.packed,s=y===D.TextureType.packedLastDimension?h.length-1:void 0,o=y===D.TextureType.packedLastDimension?h.map((u,l)=>l===h.length-1?4*u:u):void 0;return b.createTextureLayoutFromShape(T,h,_,o,{isPacked:p,reverseWH:d,breakAxis:s})},b.calculateTextureWidthAndHeight=(T,h,y)=>{const _=b.createTextureLayoutFromTextureType(T,h,y);return[_.width,_.height]},b.createTextureLayoutFromShape=(T,h,y=1,_,p)=>{const d=!(!p||!p.isPacked),[s,o]=T.computeTextureWH(d&&_||h,p),u=h.length;let l=h.slice(0);if(0===u&&(l=[1]),1===y)_=h;else if(d){if(4!==y)throw new Error("a packed texture must be 4-channel");_=h,u>0&&(l[u-1]=Math.ceil(l[u-1]/2)),u>1&&(l[u-2]=Math.ceil(l[u-2]/2))}else if(!_)throw new Error("Unpacked shape is needed when using channels > 1");return{width:s,height:o,channels:y,isPacked:d,shape:l,strides:S.ShapeUtil.computeStrides(l),unpackedShape:_,reversedWH:p&&p.reverseWH}}},5702:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TextureManager=void 0;const S=P(6231);b.TextureManager=class{constructor(D,T,h,y){this.glContext=D,this.layoutStrategy=T,this.profiler=h,this.config=y,this.pendingRead=new Map,y.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(D,T,h,y){const _=this.toEncoderType(D),p=this.glContext.getEncoder(_,T.channels||1,y);if(T.isPacked&&1===y)throw new Error("not implemented");const d=T.width,s=T.height;let o,u;if(this.config.reuseTextures){o=`${d}x${s}_${p.format}_${p.internalFormat}_${p.textureType}`,u=this.inUseTextures.get(o),u||(u=[],this.inUseTextures.set(o,u));const f=this.idleTextures.get(o);if(f&&f.length>0){const m=f.pop();return u.push(m),1===y&&this.glContext.updateTexture(m,d,s,p,this.toTextureData(D,h)),m}}S.Logger.verbose("TextureManager",`Creating new texture of size ${T.width}x${T.height}`);const l=this.glContext.allocateTexture(d,s,p,this.toTextureData(D,h));return this.config.reuseTextures&&(u.push(l),this.textureLookup.set(l,o)),l}readTexture(D,T,h){return h||(h=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const y=D.shape.reduce((p,d)=>p*d)*h,_=this.glContext.readTexture(D.texture,D.width,D.height,y,this.toEncoderType(T),h);return this.toTensorData(T,_)})}readTextureAsync(D,T,h){var y=this;return _asyncToGenerator(function*(){const _=D.tensor.dataId;if(h||(h=1),y.pendingRead.has(_)){const p=y.pendingRead.get(_);return new Promise(d=>p?.push(d))}return y.profiler.event("backend","TextureManager.readTextureAsync",_asyncToGenerator(function*(){y.pendingRead.set(_,[]);const p=D.shape.reduce((u,l)=>u*l)*h;yield y.glContext.createAndWaitForFence();const d=y.glContext.readTexture(D.texture,D.width,D.height,p,y.toEncoderType(T),h),s=y.toTensorData(T,d),o=y.pendingRead.get(_);return y.pendingRead.delete(_),o?.forEach(u=>u(s)),s}))})()}readUint8TextureAsFloat(D){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const T=D.shape.reduce((y,_)=>y*_),h=this.glContext.readTexture(D.texture,D.width,D.height,4*T,"byte",4);return new Float32Array(h.buffer,h.byteOffset,T)})}releaseTexture(D,T){let h;if(this.config.reuseTextures&&(h=this.textureLookup.get(D.texture),h)){T&&this.textureLookup.delete(h);const y=this.inUseTextures.get(h);if(y){const _=y.indexOf(D.texture);if(-1!==_){y.splice(_,1);let p=this.idleTextures.get(h);p||(p=[],this.idleTextures.set(h,p)),p.push(D.texture)}}}h&&!T||(S.Logger.verbose("TextureManager",`Deleting texture of size ${D.width}x${D.height}`),this.glContext.deleteTexture(D.texture))}toTensorData(D,T){switch(D){case"int16":return T instanceof Int16Array?T:Int16Array.from(T);case"int32":return T instanceof Int32Array?T:Int32Array.from(T);case"int8":return T instanceof Int8Array?T:Int8Array.from(T);case"uint16":return T instanceof Uint16Array?T:Uint16Array.from(T);case"uint32":return T instanceof Uint32Array?T:Uint32Array.from(T);case"uint8":case"bool":return T instanceof Uint8Array?T:Uint8Array.from(T);case"float32":return T instanceof Float32Array?T:Float32Array.from(T);case"float64":return T instanceof Float64Array?T:Float64Array.from(T);default:throw new Error(`TensorData type ${D} is not supported`)}}toTextureData(D,T){if(T)return T instanceof Float32Array?T:new Float32Array(T)}toEncoderType(D){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(q,b)=>{"use strict";var P;Object.defineProperty(b,"__esModule",{value:!0}),b.TextureType=void 0,(P=b.TextureType||(b.TextureType={}))[P.unpacked=0]="unpacked",P[P.unpackedReversed=1]="unpackedReversed",P[P.packed=2]="packed",P[P.downloadUint8AsFloat=3]="downloadUint8AsFloat",P[P.packedLastDimension=4]="packedLastDimension"},9390:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getGlChannels=b.getCoordsDataType=b.getSqueezedParams=b.squeezeInputShape=b.generateShaderFuncNameFromInputSamplerNameAtOutCoords=b.generateShaderFuncNameFromInputSamplerName=b.repeatedTry=b.getPackedShape=void 0;const S=P(2517);b.getPackedShape=function(D){const T=D.length;return D.slice(0,T-1).concat(D[T-1]/4)},b.repeatedTry=function(){var D=_asyncToGenerator(function*(T,h=(_=>0),y){return new Promise((_,p)=>{let d=0;const s=()=>{if(T())return void _();d++;const o=h(d);null!=y&&d>=y?p():setTimeout(s,o)};s()})});return function(T){return D.apply(this,arguments)}}(),b.generateShaderFuncNameFromInputSamplerName=function(D){return S.assert(void 0!==D&&0!==D.length,()=>"empty string found for sampler name"),"get"+D.charAt(0).toUpperCase()+D.slice(1)},b.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(D){return S.assert(void 0!==D&&0!==D.length,()=>"empty string found for sampler name"),"get"+D.charAt(0).toUpperCase()+D.slice(1)+"AtOutCoords"},b.squeezeInputShape=function(D,T){let h=JSON.parse(JSON.stringify(D));return h=T,h},b.getSqueezedParams=function(D,T){return T.map(h=>D[h]).join(", ")},b.getCoordsDataType=function(D){if(D<=1)return"int";if(2===D)return"ivec2";if(3===D)return"ivec3";if(4===D)return"ivec4";if(5===D)return"ivec5";if(6===D)return"ivec6";throw Error(`GPU for rank ${D} is not yet supported`)},b.getGlChannels=function(D=6){return["x","y","z","w","u","v"].slice(0,D)}},7305:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createNewWebGLContext=b.createWebGLContext=void 0;const S=P(6231),D=P(1713),T={};function h(y){const _=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const s=document.createElement("canvas");return s.width=1,s.height=1,s}();let p;const d={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!y||"webgl2"===y)&&(p=_.getContext("webgl2",d),p))try{return new D.WebGLContext(p,2)}catch(s){S.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${s}`)}if((!y||"webgl"===y)&&(p=_.getContext("webgl",d)||_.getContext("experimental-webgl",d),p))try{return new D.WebGLContext(p,1)}catch(s){S.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${s}`)}throw new Error("WebGL is not supported")}b.createWebGLContext=function y(_){let p;_&&"webgl2"!==_||!("webgl2"in T)?_&&"webgl"!==_||!("webgl"in T)||(p=T.webgl):p=T.webgl2,p=p||h(_);const d=p.gl;return T[_=_||1===p.version?"webgl":"webgl2"]=p,d.isContextLost()?(delete T[_],y(_)):(d.disable(d.DEPTH_TEST),d.disable(d.STENCIL_TEST),d.disable(d.BLEND),d.disable(d.DITHER),d.disable(d.POLYGON_OFFSET_FILL),d.disable(d.SAMPLE_COVERAGE),d.enable(d.SCISSOR_TEST),d.enable(d.CULL_FACE),d.cullFace(d.BACK),p)},b.createNewWebGLContext=h},1713:function(q,b,P){"use strict";var S=this&&this.__createBinding||(Object.create?function(d,s,o,u){void 0===u&&(u=o),Object.defineProperty(d,u,{enumerable:!0,get:function(){return s[o]}})}:function(d,s,o,u){void 0===u&&(u=o),d[u]=s[o]}),D=this&&this.__setModuleDefault||(Object.create?function(d,s){Object.defineProperty(d,"default",{enumerable:!0,value:s})}:function(d,s){d.default=s}),T=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var s={};if(null!=d)for(var o in d)"default"!==o&&Object.prototype.hasOwnProperty.call(d,o)&&S(s,d,o);return D(s,d),s};Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLContext=b.linearSearchLastTrue=void 0;const h=P(2174),y=T(P(7769)),_=P(9390);function p(d){let s=0;for(;s<d.length&&d[s]();++s);return s-1}b.linearSearchLastTrue=p,b.WebGLContext=class{constructor(d,s){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=d,this.version=s,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(d,s,o,u){const l=this.gl,f=l.createTexture();l.bindTexture(l.TEXTURE_2D,f),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);const m=u?o.encode(u,d*s):null;return l.texImage2D(l.TEXTURE_2D,0,o.internalFormat,d,s,0,o.format,o.textureType,m),this.checkError(),f}updateTexture(d,s,o,u,l){const f=this.gl;f.bindTexture(f.TEXTURE_2D,d);const m=u.encode(l,s*o);f.texSubImage2D(f.TEXTURE_2D,0,0,0,s,o,u.format,u.textureType,m),this.checkError()}attachFramebuffer(d,s,o){const u=this.gl;u.bindTexture(u.TEXTURE_2D,d),u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer),u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,d,0),this.checkError(),u.viewport(0,0,s,o),u.scissor(0,0,s,o)}readTexture(d,s,o,u,l,f){const m=this.gl;f||(f=1),this.frameBufferBound||this.attachFramebuffer(d,s,o);const v=this.getEncoder(l,f),x=v.allocate(s*o);return m.bindTexture(m.TEXTURE_2D,d),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d,0),m.readPixels(0,0,s,o,m.RGBA,v.textureType,x),this.checkError(),v.decode(x,u)}isFramebufferReady(){return!0}getActiveTexture(){const d=this.gl;return"TEXTURE"+(d.getParameter(this.gl.ACTIVE_TEXTURE)-d.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(d,s){const o=this.gl;o.vertexAttribPointer(d,3,o.FLOAT,!1,20,0),o.enableVertexAttribArray(d),-1!==s&&(o.vertexAttribPointer(s,2,o.FLOAT,!1,20,12),o.enableVertexAttribArray(s)),this.checkError()}createProgram(d,s){const o=this.gl,u=o.createProgram();return o.attachShader(u,d),o.attachShader(u,s),o.linkProgram(u),u}compileShader(d,s){const o=this.gl,u=o.createShader(s);if(!u)throw new Error(`createShader() returned null with type ${s}`);if(o.shaderSource(u,d),o.compileShader(u),!1===o.getShaderParameter(u,o.COMPILE_STATUS))throw new Error(`Failed to compile shader: ${o.getShaderInfoLog(u)}\nShader source:\n${d}`);return u}deleteShader(d){this.gl.deleteShader(d)}bindTextureToUniform(d,s,o){const u=this.gl;u.activeTexture(u.TEXTURE0+s),this.checkError(),u.bindTexture(u.TEXTURE_2D,d),this.checkError(),u.uniform1i(o,s),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(h.env.debug){const d=this.gl,s=d.getError();let o="";switch(s){case d.NO_ERROR:return;case d.INVALID_ENUM:o="INVALID_ENUM";break;case d.INVALID_VALUE:o="INVALID_VALUE";break;case d.INVALID_OPERATION:o="INVALID_OPERATION";break;case d.INVALID_FRAMEBUFFER_OPERATION:o="INVALID_FRAMEBUFFER_OPERATION";break;case d.OUT_OF_MEMORY:o="OUT_OF_MEMORY";break;case d.CONTEXT_LOST_WEBGL:o="CONTEXT_LOST_WEBGL";break;default:o=`Unknown WebGL Error: ${s.toString(16)}`}throw new Error(o)}}deleteTexture(d){this.gl.deleteTexture(d)}deleteProgram(d){this.gl.deleteProgram(d)}getEncoder(d,s,o=0){if(2===this.version)return new y.RedFloat32DataEncoder(this.gl,s);switch(d){case"float":return 1===o||this.isRenderFloat32Supported?new y.RGBAFloatDataEncoder(this.gl,s):new y.RGBAFloatDataEncoder(this.gl,s,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new y.Uint8DataEncoder(this.gl,s);default:throw new Error(`Invalid dataType: ${d}`)}}clearActiveTextures(){const d=this.gl;for(let s=0;s<this.maxTextureImageUnits;++s)d.activeTexture(d.TEXTURE0+s),d.bindTexture(d.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,null),d.deleteFramebuffer(this.framebuffer),d.bindBuffer(d.ARRAY_BUFFER,null),d.deleteBuffer(this.vertexbuffer),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,null),d.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const d=this.gl,s=d.createBuffer();if(!s)throw new Error("createBuffer() returned null");const o=this.createDefaultGeometry();return d.bindBuffer(d.ARRAY_BUFFER,s),d.bufferData(d.ARRAY_BUFFER,o,d.STATIC_DRAW),this.checkError(),s}createFramebuffer(){const d=this.gl.createFramebuffer();if(!d)throw new Error("createFramebuffer returned null");return d}queryVitalParameters(){const d=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),1===this.version&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS)}getExtensions(){2===this.version?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const d=this.gl,s=d.createTexture();d.bindTexture(d.TEXTURE_2D,s),d.texImage2D(d.TEXTURE_2D,0,2===this.version?d.RGBA32F:d.RGBA,1,1,0,d.RGBA,d.FLOAT,null);const u=d.createFramebuffer();d.bindFramebuffer(d.FRAMEBUFFER,u),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s,0);const l=d.checkFramebufferStatus(d.FRAMEBUFFER)===d.FRAMEBUFFER_COMPLETE;return d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,null),d.deleteTexture(s),d.deleteFramebuffer(u),l}checkRenderFloat32(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(2===this.version){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const d=this.gl;let s,o,u,l,f;try{return s=d.createTexture(),o=d.createFramebuffer(),d.bindTexture(d.TEXTURE_2D,s),d.texImage2D(d.TEXTURE_2D,0,2===this.version?d.RGBA32F:d.RGBA,1,1,0,d.RGBA,d.FLOAT,null),d.bindFramebuffer(d.FRAMEBUFFER,o),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,s,0),d.enable(d.BLEND),u=d.createShader(d.VERTEX_SHADER),!!u&&(d.shaderSource(u,"void main(){}"),d.compileShader(u),l=d.createShader(d.FRAGMENT_SHADER),!!l&&(d.shaderSource(l,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),d.compileShader(l),f=d.createProgram(),!!f&&(d.attachShader(f,u),d.attachShader(f,l),d.linkProgram(f),d.useProgram(f),d.drawArrays(d.POINTS,0,1),d.getError()===d.NO_ERROR)))}finally{d.disable(d.BLEND),f&&d.deleteProgram(f),u&&d.deleteShader(u),l&&d.deleteShader(l),o&&(d.bindFramebuffer(d.FRAMEBUFFER,null),d.deleteFramebuffer(o)),s&&(d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(s))}}beginTimer(){if(2===this.version&&this.disjointTimerQueryWebgl2Extension){const d=this.gl,s=this.disjointTimerQueryWebgl2Extension,o=d.createQuery();return d.beginQuery(s.TIME_ELAPSED_EXT,o),o}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");this.gl.endQuery(this.disjointTimerQueryWebgl2Extension.TIME_ELAPSED_EXT)}isTimerResultAvailable(d){let s=!1,o=!1;if(2!==this.version||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const u=this.gl,l=this.disjointTimerQueryWebgl2Extension;s=u.getQueryParameter(d,u.QUERY_RESULT_AVAILABLE),o=u.getParameter(l.GPU_DISJOINT_EXT)}return s&&!o}getTimerResult(d){let s=0;if(2!==this.version)throw new Error("WebGL1 profiling currently not supported");{const o=this.gl;s=o.getQueryParameter(d,o.QUERY_RESULT),o.deleteQuery(d)}return s/1e6}waitForQueryAndGetTime(d){var s=this;return _asyncToGenerator(function*(){return yield _.repeatedTry(()=>s.isTimerResultAvailable(d)),s.getTimerResult(d)})()}createAndWaitForFence(){var d=this;return _asyncToGenerator(function*(){const s=d.createFence(d.gl);return d.pollFence(s)})()}createFence(d){let s;const o=d,u=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);return d.flush(),s=null===u?()=>!0:()=>{const l=o.clientWaitSync(u,0,0);return l===o.ALREADY_SIGNALED||l===o.CONDITION_SATISFIED},{query:u,isFencePassed:s}}pollFence(d){var s=this;return _asyncToGenerator(function*(){return new Promise(o=>{s.addItemToPoll(()=>d.isFencePassed(),()=>o())})})()}pollItems(){const d=p(this.itemsToPoll.map(s=>s.isDoneFn));for(let s=0;s<=d;++s){const{resolveFn:o}=this.itemsToPoll[s];o()}this.itemsToPoll=this.itemsToPoll.slice(d+1)}addItemToPoll(d,s){var o=this;return _asyncToGenerator(function*(){o.itemsToPoll.push({isDoneFn:d,resolveFn:s}),o.itemsToPoll.length>1||(yield _.repeatedTry(()=>(o.pollItems(),0===o.itemsToPoll.length)))})()}}},1036:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ExecutionPlan=void 0;const S=P(6231);class D{constructor(h,y){this.op=h,this.node=y}}b.ExecutionPlan=class{constructor(T,h,y){this.graph=T,this.profiler=y,this.initialize(h)}initialize(T){this.profiler.event("session","ExecutionPlan.initialize",()=>{const h=this.graph.getNodes();if(h.length!==T.length)throw new Error("The size of nodes and OPs do not match.");this._ops=T.map((y,_)=>new D(y,h[_])),this.reset(),this._starter=[],this._ops.forEach((y,_)=>{let p=!0;for(const d of y.node.inputs)if(!this._values[d]&&-1===this.graph.getInputIndices().indexOf(d)){p=!1;break}p&&this._starter.push(_)})})}reset(){this._values=this.graph.getValues().map(T=>T.tensor)}execute(T,h){var y=this;return _asyncToGenerator(function*(){return y.profiler.event("session","ExecutionPlan.execute",_asyncToGenerator(function*(){y.reset();const _=T.createInferenceHandler(),p=y.graph.getInputIndices();if(h.length!==p.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${h.length} expected: ${p.length}`);h.forEach((f,m)=>{y._values[p[m]]=f});const d=y._starter.slice(0),s=y.graph.getValues(),o=y.graph.getNodes();let u=0;for(;u<d.length;){const f=d[u++],m=y._ops[f],v=m.node.inputs.map(A=>y._values[A]);if(-1!==v.indexOf(void 0))throw new Error(`unresolved input detected: op: ${m.node}`);const x=v;S.Logger.verbose("ExecPlan",`Runing op:${m.node.name} (${x.map((A,R)=>`'${m.node.inputs[R]}': ${A.type}[${A.dims.join(",")}]`).join(", ")})`);const I=yield y.profiler.event("node",m.node.name,_asyncToGenerator(function*(){return m.op.impl(_,x,m.op.context)}));if(I.length!==m.node.outputs.length)throw new Error("the size of output does not match model definition.");I.forEach((A,R)=>{const N=m.node.outputs[R];if(y._values[N])throw new Error(`output [${N}] already has value: op:${m.node.name}`);y._values[N]=A});const C=new Set;I.forEach((A,R)=>{const N=m.node.outputs[R];for(const k of s[N].to){const O=o[k];let $=!0;for(const G of O.inputs)if(!y._values[G]){$=!1;break}$&&C.add(k)}}),d.push(...C)}const l=[];for(let f=0;f<y.graph.getOutputIndices().length;f++){const m=y.graph.getOutputIndices()[f],v=y._values[m];if(void 0===v)throw new Error(`required output [${m}] does not have value`);0===m&&(yield v.getData()),l.push(v)}return S.Logger.verbose("ExecPlan","disposing of inferenceHandler"),_.dispose(),l}))})()}}},7070:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Graph=void 0;const S=P(1446),D=P(7778),T=P(9395),h=P(9162),y=P(2517);var _=T.onnxruntime.experimental.fbs;b.Graph={from:(o,u)=>new s(o,u)};class p{constructor(u){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,u&&(this.type=y.ProtoUtil.tensorValueTypeFromProto(u.type.tensorType))}get from(){return this._from}get to(){return this._to}}class d{constructor(u,l){u instanceof S.onnx.NodeProto?(this.name=u.name,this.opType=u.opType,this.attributes=new D.Attribute(u.attribute)):u instanceof _.Node&&(this.name=l??u.name(),this.opType=u.opType(),this.attributes=new D.Attribute(y.ProtoUtil.tensorAttributesFromORTFormat(u))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class s{constructor(u,l){if(!u)throw new TypeError("graph is empty");this.buildGraph(u),this.transformGraph(l),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(u){if(u instanceof S.onnx.GraphProto)this.buildGraphFromOnnxFormat(u);else{if(!(u instanceof _.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(u)}}buildGraphFromOnnxFormat(u){const l=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const f=new Map;if(!u.input)throw new Error("missing information in graph: input");const m=[];for(const v of u.input){if(l.has(v.name))throw new Error(`duplicated input name: ${v.name}`);const x=this._allData.push(new p(v))-1;l.set(v.name,x),m.push(v.name)}if(!u.initializer)throw new Error("missing information in graph: initializer");for(const v of u.initializer){let x=l.get(v.name);if(void 0===x){const I=new p;I.type={shape:{dims:y.ProtoUtil.tensorDimsFromProto(v.dims)},tensorType:y.ProtoUtil.tensorDataTypeFromProto(v.dataType)},x=this._allData.push(I)-1,l.set(v.name,x)}this._allData[x]._from=-1,this._allData[x].tensor=h.Tensor.fromProto(v)}for(let v=0;v<this._allData.length;v++)this._allData[v].tensor||(this._allInputIndices.push(v),this._allInputNames.push(m[v]));if(!u.output)throw new Error("missing information in graph: output");for(const v of u.output){if(l.has(v.name))throw new Error(`duplicated output name: ${v.name}`);const x=this._allData.push(new p(v))-1;l.set(v.name,x),this._allOutputIndices.push(x),this._allOutputNames.push(v.name)}if(!u.node)throw new Error("missing information in graph: node");for(const v of u.node){if(!v.name)for(let I=0;;I++){const C=`unnamed_${v.opType}_${I}`;if(!f.has(C)){v.name=C;break}}if(f.has(v.name))throw new Error(`duplicated node name: ${v.name}`);const x=this._nodes.push(new d(v))-1;f.set(v.name,x)}for(let v=0;v<this._nodes.length;v++){const x=this._nodes[v],I=u.node[v];if(!I.output)throw new Error(`missing output for node: ${I.name}`);for(const C of I.output){let A=l.get(C);if(void 0===A&&(A=this._allData.push(new p)-1,l.set(C,A)),x.outputs.push(A),void 0!==this._allData[A]._from)throw new Error(`multiple nodes output to one data value: ${A}`);if(this._allData[A]._from=v,"Constant"===I.opType){if(!I.attribute||1!==I.attribute.length||!I.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!I.output||1!==I.output.length)throw new Error("missing output or incorrect number of outputs for this Constant operator");x.outputs.pop(),x.executeNode=!1,this._allData[A]._from=-1,this._allData[A].tensor=h.Tensor.fromProto(I.attribute[0].t)}}}for(let v=0;v<this._nodes.length;v++){const x=this._nodes[v],I=u.node[v];if(!I.input)throw new Error(`missing input for node: ${I.name}`);for(const C of I.input){const A=l.get(C);if(void 0===A)throw new Error(`unrecognized input '${C}' for node: ${I.name}`);x.inputs.push(A),this._allData[A]._to.push(v)}}return!0}buildGraphFromOrtFormat(u){var l,f,m;const v=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const x=new Map,I=[];for(let C=0;C<u.inputsLength();C++){const A=u.inputs(C);if(v.has(A))throw new Error(`duplicated input name: ${A}`);for(let R=0;R<u.nodeArgsLength();R++)if((null===(l=u.nodeArgs(R))||void 0===l?void 0:l.name())===A){const N=new p;if((null===(m=null===(f=u.nodeArgs(R))||void 0===f?void 0:f.type())||void 0===m?void 0:m.valueType())!==_.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const k=u.nodeArgs(R).type().value(new _.TensorTypeAndShape),O=y.ProtoUtil.tensorDataTypeFromProto(k.elemType()),$=k.shape(),G=[];for(let X=0;X<$.dimLength();X++)G.push(y.LongUtil.longToNumber($.dim(X).value().dimValue()));N.type={shape:{dims:G},tensorType:O};const z=this._allData.push(N)-1;v.set(A,z),I.push(A)}}for(let C=0;C<u.initializersLength();C++){const A=u.initializers(C);let R=v.get(A.name());if(void 0===R){const N=new p,k=y.ProtoUtil.tensorDimsFromORTFormat(A),O=y.ProtoUtil.tensorDataTypeFromProto(A.dataType());N.type={shape:{dims:k},tensorType:O},R=this._allData.push(N)-1,v.set(A.name(),R)}this._allData[R]._from=-1,this._allData[R].tensor=h.Tensor.fromOrtTensor(A)}for(let C=0;C<this._allData.length;C++)this._allData[C].tensor||(this._allInputIndices.push(C),this._allInputNames.push(I[C]));for(let C=0;C<u.outputsLength();C++){const A=u.outputs(C);if(v.has(A))throw new Error(`duplicated output name: ${A}`);const R=this._allData.push(new p)-1;v.set(A,R),this._allOutputIndices.push(R),this._allOutputNames.push(A)}if(!u.nodes)throw new Error("missing information in graph: node");for(let C=0;C<u.nodesLength();C++){const A=u.nodes(C);let R=A.name();if(!R)for(let k=0;R=`unnamed_${A.opType()}_${k}`,x.has(R);k++);if(x.has(R))throw new Error(`duplicated node name: ${R}`);const N=this._nodes.push(new d(A,R))-1;x.set(R,N)}for(let C=0;C<this._nodes.length;C++){const A=this._nodes[C],R=u.nodes(C);if(null==R)throw new Error(`No node exists at index ${C}`);if(0===R?.outputsLength())throw new Error(`missing output for node: ${R.name}`);for(let N=0;N<R?.outputsLength();N++){const k=R?.outputs(N);let O=v.get(k);if(void 0===O&&(O=this._allData.push(new p)-1,v.set(k,O)),A.outputs.push(O),void 0!==this._allData[O]._from)throw new Error(`multiple nodes output to one data value: ${O}`);if(this._allData[O]._from=C,"Constant"===R.opType()){if(1!==R.attributesLength()||!R.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(1!==R.outputsLength())throw new Error("missing output or incorrect number of outputs for this Constant operator");A.outputs.pop(),A.executeNode=!1,this._allData[O]._from=-1,this._allData[O].tensor=h.Tensor.fromOrtTensor(R.attributes(0).t())}}}for(let C=0;C<this._nodes.length;C++){const A=this._nodes[C],R=u.nodes(C);if(0===R.inputsLength())throw new Error(`missing input for node: ${R.name}`);for(let N=0;N<R.inputsLength();N++){const k=R.inputs(N),O=v.get(k);if(void 0===O)throw new Error(`unrecognized input '${k}' for node: ${R.name()}`);A.inputs.push(O),this._allData[O]._to.push(C)}}}checkIsAcyclic(){const u=new Set;this._allInputIndices.forEach(m=>{this._allData[m]._to.forEach(v=>{u.add(v)})});const l=Array.from(u),f=new Array(this._nodes.length).fill("white");for(;l.length>0;){const m=l.pop();"gray"===f[m]?f[m]="black":(l.push(m),f[m]="gray",this._nodes[m].outputs.forEach(v=>{const x=this._allData[v];if(void 0!==x.tensor)throw new Error("node outputs should not be initialized");if(x._from!==m)throw new Error("from property of the Value object doesn't match index of Node being processed");x._to.forEach(I=>{if("gray"===f[I])throw new Error("model graph is cyclic");"white"===f[I]&&l.push(I)})}))}}transformGraph(u){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),u&&u.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let u=0;for(let l=0;l<this._nodes.length;l++)this._nodes[l].executeNode?u>0&&(this._nodes[l].inputs.forEach(f=>{const m=this._allData[f]._to.indexOf(l+u);-1!==m&&(this._allData[f]._to[m]=l)}),this._nodes[l].outputs.forEach(f=>{this._allData[f]._from&&this._allData[f]._from===l+u&&(this._allData[f]._from=l)})):(u++,this._nodes[l].outputs.forEach(f=>{this._allData[f]._from=-2}),this._nodes.splice(l,1),l--);u=0;for(let l=0;l<this._allData.length;l++)if(-2!==this._allData[l].from||-1!==this._allOutputIndices.indexOf(l+u)){if(u>0){let f=-1;void 0!==this._allData[l].from&&-1!==this._allData[l].from?(f=this._nodes[this._allData[l].from].outputs.indexOf(l+u),-1!==f&&(this._nodes[this._allData[l].from].outputs[f]=l)):(f=this._allInputIndices.indexOf(l+u),-1!==f&&(this._allInputIndices[f]=l)),this._allData[l].to.forEach(m=>{f=this._nodes[m].inputs.indexOf(l+u),-1!==f&&(this._nodes[m].inputs[f]=l)}),0===this._allData[l].to.length&&(f=this._allOutputIndices.indexOf(l+u),-1!==f&&(this._allOutputIndices[f]=l))}}else u++,this._allData.splice(l,1),l--}deleteNode(u){const l=this._nodes[u];if(l.outputs.length>1)for(let C=1;C<l.outputs.length;C++)if(this._allData[l.outputs[C]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ");l.executeNode=!1;const f=l.inputs[0],m=l.outputs[0],v=this._allData[m].to,x=this._allData[f].to.indexOf(u);if(-1===x)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[f].to.splice(x,1),this._allData[m]._to=[];const I=this._allOutputIndices.indexOf(m);if(-1!==I&&(this._allOutputIndices[I]=f),v&&v.length>0)for(const C of v){const A=this._nodes[C].inputs.indexOf(m);if(-1===A)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[C].inputs[A]=f,this._allData[f].to.push(C)}}removeAllDropoutNodes(){let u=0;for(const l of this._nodes){if("Dropout"===l.opType){if(1!==l.inputs.length)throw new Error("Dropout nodes should only contain one input. ");if(1!==l.outputs.length&&2!==l.outputs.length)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(2===l.outputs.length&&0!==this._allData[l.outputs[1]]._to.length)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(u)}u++}}removeAllIdentityNodes(){let u=0;for(const l of this._nodes)"Identity"===l.opType&&this.deleteNode(u),u++}isActivation(u){switch(u.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const u of this._nodes)if("Conv"===u.opType){const l=this._allData[u.outputs[0]]._to;if(1===l.length&&this.isActivation(this._nodes[l[0]])){const f=this._nodes[l[0]];if("Clip"===f.opType)if(1===f.inputs.length)try{u.attributes.set("activation_params","floats",[f.attributes.getFloat("min"),f.attributes.getFloat("max")])}catch{u.attributes.set("activation_params","floats",[y.MIN_CLIP,y.MAX_CLIP])}else{if(!(f.inputs.length>=3&&void 0!==this._allData[f.inputs[1]].tensor&&void 0!==this._allData[f.inputs[2]].tensor))continue;u.attributes.set("activation_params","floats",[this._allData[f.inputs[1]].tensor.floatData[0],this._allData[f.inputs[2]].tensor.floatData[0]])}u.attributes.set("activation","string",f.opType),this.deleteNode(l[0])}}}}},6231:(q,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.now=b.Profiler=b.Logger=void 0;const P={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},S={none:new class{log(d,s,o){}},console:new class{log(d,s,o){console.log(`${this.color(d)} ${o?"\x1b[35m"+o+"\x1b[0m ":""}${s}`)}color(d){switch(d){case"verbose":return"\x1b[34;40mv\x1b[0m";case"info":return"\x1b[32mi\x1b[0m";case"warning":return"\x1b[30;43mw\x1b[0m";case"error":return"\x1b[31;40me\x1b[0m";case"fatal":return"\x1b[101mf\x1b[0m";default:throw new Error(`unsupported severity: ${d}`)}}}},D={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let T={"":D};function h(d,s,o,u){if(void 0===s)return{verbose:h.verbose.bind(null,l=d),info:h.info.bind(null,l),warning:h.warning.bind(null,l),error:h.error.bind(null,l),fatal:h.fatal.bind(null,l)};if(void 0===o)y(d,s);else if("number"==typeof o&&void 0===u)y(d,s);else if("string"==typeof o&&void 0===u)y(d,o,0,s);else{if("string"!=typeof o||"number"!=typeof u)throw new TypeError("input is valid");y(d,o,0,s)}var l}function y(d,s,o,u){const l=T[u||""]||T[""];P[d]<P[l.minimalSeverity]||(l.logDateTime&&(s=`${(new Date).toISOString()}|${s}`),S[l.provider].log(d,s,u))}(function(d){function s(u){T={},o("",u||{})}function o(u,l){if("*"===u)s(l);else{const f=T[u]||D;T[u]={provider:l.provider||f.provider,minimalSeverity:l.minimalSeverity||f.minimalSeverity,logDateTime:void 0===l.logDateTime?f.logDateTime:l.logDateTime,logSourceLocation:void 0===l.logSourceLocation?f.logSourceLocation:l.logSourceLocation}}}d.verbose=function(u,l){d("verbose",u,l)},d.info=function(u,l){d("info",u,l)},d.warning=function(u,l){d("warning",u,l)},d.error=function(u,l){d("error",u,l)},d.fatal=function(u,l){d("fatal",u,l)},d.reset=s,d.set=o,d.setWithEnv=function(u){const l={};u.logLevel&&(l.minimalSeverity=u.logLevel),o("",l)}})(h||(h={})),b.Logger=h;class _{constructor(s,o,u,l,f,m){this.category=s,this.name=o,this.startTime=u,this.endCallback=l,this.timer=f,this.ctx=m}end(){return this.endCallback(this)}checkTimer(){var s=this;return _asyncToGenerator(function*(){if(void 0===s.ctx||void 0===s.timer)throw new Error("No webgl timer found");return s.ctx.endTimer(),s.ctx.waitForQueryAndGetTime(s.timer)})()}}class p{constructor(s,o,u,l){this.category=s,this.name=o,this.startTime=u,this.endTime=l}}b.Profiler=class{constructor(d,s,o){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=void 0===d?1e4:d,this._flushBatchSize=void 0===s?10:s,this._flushIntervalInMilliseconds=void 0===o?5e3:o}static create(d){return void 0===d?new this:new this(d.maxNumberEvents,d.flushBatchSize,d.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=b.now(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(d,s,o,u){const l=this._started?this.begin(d,s,u):void 0;let f=!1;const m=o();if(m&&"function"==typeof m.then)return f=!0,new Promise((v,x)=>{m.then(function(){var I=_asyncToGenerator(function*(C){l&&(yield l.end()),v(C)});return function(C){return I.apply(this,arguments)}}(),function(){var I=_asyncToGenerator(function*(C){l&&(yield l.end()),x(C)});return function(C){return I.apply(this,arguments)}}())});if(!f&&l){const v=l.end();if(v&&"function"==typeof v.then)return new Promise((x,I)=>{v.then(()=>{x(m)},C=>{I(C)})})}return m}begin(d,s,o){var u=this;if(!this._started)throw new Error("profiler is not started yet");if(void 0===o){const l=b.now();return this.flush(l),new _(d,s,l,f=>this.endSync(f))}{const l=o.beginTimer();return new _(d,s,0,function(){var f=_asyncToGenerator(function*(m){return u.end(m)});return function(m){return f.apply(this,arguments)}}(),l,o)}}end(d){var s=this;return _asyncToGenerator(function*(){const o=yield d.checkTimer();s._timingEvents.length<s._maxNumberEvents&&(s._timingEvents.push(new p(d.category,d.name,d.startTime,o)),s.flush(o))})()}endSync(d){const s=b.now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new p(d.category,d.name,d.startTime,s)),this.flush(s))}logOneEvent(d){b.Logger.verbose(`Profiler.${d.category}`,`${(d.endTime-d.startTime).toFixed(2)}ms on event '${d.name}' at ${d.endTime.toFixed(2)}`)}flush(d){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||d-this._flushTime>=this._flushIntervalInMilliseconds){for(const s=this._flushPointer;this._flushPointer<s+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=b.now()}}get started(){return this._started}},b.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Model=void 0;const S=P(4819),D=P(1446),T=P(7070),h=P(9395),y=P(2517);var _=h.onnxruntime.experimental.fbs;b.Model=class{constructor(){}load(p,d,s){if(!s)try{return void this.loadFromOnnxFormat(p,d)}catch(o){if(void 0!==s)throw o}this.loadFromOrtFormat(p,d)}loadFromOnnxFormat(p,d){const s=D.onnx.ModelProto.decode(p);if(y.LongUtil.longToNumber(s.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=s.opsetImport.map(o=>({domain:o.domain,version:y.LongUtil.longToNumber(o.version)})),this._graph=T.Graph.from(s.graph,d)}loadFromOrtFormat(p,d){const s=new S.flatbuffers.ByteBuffer(p),o=_.InferenceSession.getRootAsInferenceSession(s).model();if(y.LongUtil.longToNumber(o.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let u=0;u<o.opsetImportLength();u++){const l=o.opsetImport(u);this._opsets.push({domain:l?.domain(),version:y.LongUtil.longToNumber(l.version())})}this._graph=T.Graph.from(o.graph(),d)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(q,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FLOAT_TYPES=b.INT_TYPES=b.NUMBER_TYPES=void 0,b.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],b.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],b.FLOAT_TYPES=["float32","float64"]},1047:(q,b)=>{"use strict";function P(S,D){if(D.endsWith("+")){const T=Number.parseInt(D.substring(0,D.length-1),10);return!isNaN(T)&&T<=S}if(2===D.split("-").length){const T=D.split("-"),h=Number.parseInt(T[0],10),y=Number.parseInt(T[1],10);return!isNaN(h)&&!isNaN(y)&&h<=S&&S<=y}return Number.parseInt(D,10)===S}Object.defineProperty(b,"__esModule",{value:!0}),b.resolveOperator=void 0,b.resolveOperator=function(S,D,T){for(const h of T){const _=h[1],p=h[2],d=h[3],s=h[4];if(S.opType===h[0])for(const o of D)if((o.domain===_||"ai.onnx"===o.domain&&""===_)&&P(o.version,p))return{opImpl:d,opInit:s}}throw new TypeError(`cannot resolve operator '${S.opType}' with opsets: ${D.map(h=>`${h.domain||"ai.onnx"} v${h.version}`).join(", ")}`)}},9395:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.onnxruntime=void 0;const S=P(4819);var D,T,h,y;(function(h){let y;var _;(_=y=h.AttributeType||(h.AttributeType={}))[_.UNDEFINED=0]="UNDEFINED",_[_.FLOAT=1]="FLOAT",_[_.INT=2]="INT",_[_.STRING=3]="STRING",_[_.TENSOR=4]="TENSOR",_[_.GRAPH=5]="GRAPH",_[_.FLOATS=6]="FLOATS",_[_.INTS=7]="INTS",_[_.STRINGS=8]="STRINGS",_[_.TENSORS=9]="TENSORS",_[_.GRAPHS=10]="GRAPHS",_[_.SPARSE_TENSOR=11]="SPARSE_TENSOR",_[_.SPARSE_TENSORS=12]="SPARSE_TENSORS"})((T=(D=b.onnxruntime||(b.onnxruntime={})).experimental||(D.experimental={})).fbs||(T.fbs={})),function(_){let p;var d;(d=p=_.DimensionValueType||(_.DimensionValueType={}))[d.UNKNOWN=0]="UNKNOWN",d[d.VALUE=1]="VALUE",d[d.PARAM=2]="PARAM"}((y=(h=b.onnxruntime||(b.onnxruntime={})).experimental||(h.experimental={})).fbs||(y.fbs={})),function(h){!function(y){!function(_){let p;var d;(d=p=_.TensorDataType||(_.TensorDataType={}))[d.UNDEFINED=0]="UNDEFINED",d[d.FLOAT=1]="FLOAT",d[d.UINT8=2]="UINT8",d[d.INT8=3]="INT8",d[d.UINT16=4]="UINT16",d[d.INT16=5]="INT16",d[d.INT32=6]="INT32",d[d.INT64=7]="INT64",d[d.STRING=8]="STRING",d[d.BOOL=9]="BOOL",d[d.FLOAT16=10]="FLOAT16",d[d.DOUBLE=11]="DOUBLE",d[d.UINT32=12]="UINT32",d[d.UINT64=13]="UINT64",d[d.COMPLEX64=14]="COMPLEX64",d[d.COMPLEX128=15]="COMPLEX128",d[d.BFLOAT16=16]="BFLOAT16"}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){let p;var d;(d=p=_.NodeType||(_.NodeType={}))[d.Primitive=0]="Primitive",d[d.Fused=1]="Fused"}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){let p;var d;(d=p=_.TypeInfoValue||(_.TypeInfoValue={}))[d.NONE=0]="NONE",d[d.tensor_type=1]="tensor_type",d[d.sequence_type=2]="sequence_type",d[d.map_type=3]="map_type"}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsShape(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsShape(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}dim(s,o){let u=this.bb.__offset(this.bb_pos,4);return u?(o||new h.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}dimLength(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__vector_len(this.bb_pos+s):0}static startShape(s){s.startObject(1)}static addDim(s,o){s.addFieldOffset(0,o,0)}static createDimVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startDimVector(s,o){s.startVector(4,o,4)}static endShape(s){return s.endObject()}static createShape(s,o){return p.startShape(s),p.addDim(s,o),p.endShape(s)}}_.Shape=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsDimension(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsDimension(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}value(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new h.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}denotation(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}static startDimension(s){s.startObject(2)}static addValue(s,o){s.addFieldOffset(0,o,0)}static addDenotation(s,o){s.addFieldOffset(1,o,0)}static endDimension(s){return s.endObject()}static createDimension(s,o,u){return p.startDimension(s),p.addValue(s,o),p.addDenotation(s,u),p.endDimension(s)}}_.Dimension=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsDimensionValue(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsDimensionValue(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}dimType(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt8(this.bb_pos+s):h.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}dimParam(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,s):null}static startDimensionValue(s){s.startObject(3)}static addDimType(s,o){s.addFieldInt8(0,o,h.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(s,o){s.addFieldInt64(1,o,s.createLong(0,0))}static addDimParam(s,o){s.addFieldOffset(2,o,0)}static endDimensionValue(s){return s.endObject()}static createDimensionValue(s,o,u,l){return p.startDimensionValue(s),p.addDimType(s,o),p.addDimValue(s,u),p.addDimParam(s,l),p.endDimensionValue(s)}}_.DimensionValue=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsTensorTypeAndShape(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsTensorTypeAndShape(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}elemType(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):h.experimental.fbs.TensorDataType.UNDEFINED}shape(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new h.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startTensorTypeAndShape(s){s.startObject(2)}static addElemType(s,o){s.addFieldInt32(0,o,h.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(s,o){s.addFieldOffset(1,o,0)}static endTensorTypeAndShape(s){return s.endObject()}static createTensorTypeAndShape(s,o,u){return p.startTensorTypeAndShape(s),p.addElemType(s,o),p.addShape(s,u),p.endTensorTypeAndShape(s)}}_.TensorTypeAndShape=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsMapType(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsMapType(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}keyType(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt32(this.bb_pos+s):h.experimental.fbs.TensorDataType.UNDEFINED}valueType(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new h.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startMapType(s){s.startObject(2)}static addKeyType(s,o){s.addFieldInt32(0,o,h.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(s,o){s.addFieldOffset(1,o,0)}static endMapType(s){return s.endObject()}static createMapType(s,o,u){return p.startMapType(s),p.addKeyType(s,o),p.addValueType(s,u),p.endMapType(s)}}_.MapType=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSequenceType(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSequenceType(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}elemType(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new h.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startSequenceType(s){s.startObject(1)}static addElemType(s,o){s.addFieldOffset(0,o,0)}static endSequenceType(s){return s.endObject()}static createSequenceType(s,o){return p.startSequenceType(s),p.addElemType(s,o),p.endSequenceType(s)}}_.SequenceType=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){(y.fbs||(y.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(_,p){return this.bb_pos=_,this.bb=p,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(_,p,d,s){return _.prep(4,12),_.writeInt32(s),_.writeInt32(d),_.writeInt32(p),_.offset()}}}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsNodeEdge(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsNodeEdge(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}nodeIndex(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readUint32(this.bb_pos+s):0}inputEdges(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new h.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+u)+12*s,this.bb):null}inputEdgesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}outputEdges(s,o){let u=this.bb.__offset(this.bb_pos,8);return u?(o||new h.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+u)+12*s,this.bb):null}outputEdgesLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}static startNodeEdge(s){s.startObject(3)}static addNodeIndex(s,o){s.addFieldInt32(0,o,0)}static addInputEdges(s,o){s.addFieldOffset(1,o,0)}static startInputEdgesVector(s,o){s.startVector(12,o,4)}static addOutputEdges(s,o){s.addFieldOffset(2,o,0)}static startOutputEdgesVector(s,o){s.startVector(12,o,4)}static endNodeEdge(s){return s.endObject()}static createNodeEdge(s,o,u,l){return p.startNodeEdge(s),p.addNodeIndex(s,o),p.addInputEdges(s,u),p.addOutputEdges(s,l),p.endNodeEdge(s)}}_.NodeEdge=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsNode(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsNode(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}domain(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,s):null}sinceVersion(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readInt32(this.bb_pos+s):0}index(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.readUint32(this.bb_pos+s):0}opType(s){let o=this.bb.__offset(this.bb_pos,14);return o?this.bb.__string(this.bb_pos+o,s):null}type(){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.readInt32(this.bb_pos+s):h.experimental.fbs.NodeType.Primitive}executionProviderType(s){let o=this.bb.__offset(this.bb_pos,18);return o?this.bb.__string(this.bb_pos+o,s):null}inputs(s,o){let u=this.bb.__offset(this.bb_pos,20);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}inputsLength(){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__vector_len(this.bb_pos+s):0}outputs(s,o){let u=this.bb.__offset(this.bb_pos,22);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}outputsLength(){let s=this.bb.__offset(this.bb_pos,22);return s?this.bb.__vector_len(this.bb_pos+s):0}attributes(s,o){let u=this.bb.__offset(this.bb_pos,24);return u?(o||new h.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}attributesLength(){let s=this.bb.__offset(this.bb_pos,24);return s?this.bb.__vector_len(this.bb_pos+s):0}inputArgCounts(s){let o=this.bb.__offset(this.bb_pos,26);return o?this.bb.readInt32(this.bb.__vector(this.bb_pos+o)+4*s):0}inputArgCountsLength(){let s=this.bb.__offset(this.bb_pos,26);return s?this.bb.__vector_len(this.bb_pos+s):0}inputArgCountsArray(){let s=this.bb.__offset(this.bb_pos,26);return s?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}implicitInputs(s,o){let u=this.bb.__offset(this.bb_pos,28);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}implicitInputsLength(){let s=this.bb.__offset(this.bb_pos,28);return s?this.bb.__vector_len(this.bb_pos+s):0}static startNode(s){s.startObject(13)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addDomain(s,o){s.addFieldOffset(2,o,0)}static addSinceVersion(s,o){s.addFieldInt32(3,o,0)}static addIndex(s,o){s.addFieldInt32(4,o,0)}static addOpType(s,o){s.addFieldOffset(5,o,0)}static addType(s,o){s.addFieldInt32(6,o,h.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(s,o){s.addFieldOffset(7,o,0)}static addInputs(s,o){s.addFieldOffset(8,o,0)}static createInputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startInputsVector(s,o){s.startVector(4,o,4)}static addOutputs(s,o){s.addFieldOffset(9,o,0)}static createOutputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startOutputsVector(s,o){s.startVector(4,o,4)}static addAttributes(s,o){s.addFieldOffset(10,o,0)}static createAttributesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startAttributesVector(s,o){s.startVector(4,o,4)}static addInputArgCounts(s,o){s.addFieldOffset(11,o,0)}static createInputArgCountsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addInt32(o[u]);return s.endVector()}static startInputArgCountsVector(s,o){s.startVector(4,o,4)}static addImplicitInputs(s,o){s.addFieldOffset(12,o,0)}static createImplicitInputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startImplicitInputsVector(s,o){s.startVector(4,o,4)}static endNode(s){return s.endObject()}static createNode(s,o,u,l,f,m,v,x,I,C,A,R,N,k){return p.startNode(s),p.addName(s,o),p.addDocString(s,u),p.addDomain(s,l),p.addSinceVersion(s,f),p.addIndex(s,m),p.addOpType(s,v),p.addType(s,x),p.addExecutionProviderType(s,I),p.addInputs(s,C),p.addOutputs(s,A),p.addAttributes(s,R),p.addInputArgCounts(s,N),p.addImplicitInputs(s,k),p.endNode(s)}}_.Node=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsValueInfo(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsValueInfo(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}type(s){let o=this.bb.__offset(this.bb_pos,8);return o?(s||new h.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startValueInfo(s){s.startObject(3)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addType(s,o){s.addFieldOffset(2,o,0)}static endValueInfo(s){return s.endObject()}static createValueInfo(s,o,u,l){return p.startValueInfo(s),p.addName(s,o),p.addDocString(s,u),p.addType(s,l),p.endValueInfo(s)}}_.ValueInfo=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsTypeInfo(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsTypeInfo(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}denotation(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}valueType(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readUint8(this.bb_pos+s):h.experimental.fbs.TypeInfoValue.NONE}value(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__union(s,this.bb_pos+o):null}static startTypeInfo(s){s.startObject(3)}static addDenotation(s,o){s.addFieldOffset(0,o,0)}static addValueType(s,o){s.addFieldInt8(1,o,h.experimental.fbs.TypeInfoValue.NONE)}static addValue(s,o){s.addFieldOffset(2,o,0)}static endTypeInfo(s){return s.endObject()}static createTypeInfo(s,o,u,l){return p.startTypeInfo(s),p.addDenotation(s,o),p.addValueType(s,u),p.addValue(s,l),p.endTypeInfo(s)}}_.TypeInfo=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsOperatorSetId(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsOperatorSetId(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}domain(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}version(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}static startOperatorSetId(s){s.startObject(2)}static addDomain(s,o){s.addFieldOffset(0,o,0)}static addVersion(s,o){s.addFieldInt64(1,o,s.createLong(0,0))}static endOperatorSetId(s){return s.endObject()}static createOperatorSetId(s,o,u){return p.startOperatorSetId(s),p.addDomain(s,o),p.addVersion(s,u),p.endOperatorSetId(s)}}_.OperatorSetId=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsTensor(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsTensor(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}dims(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}dimsLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}dataType(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readInt32(this.bb_pos+s):h.experimental.fbs.TensorDataType.UNDEFINED}rawData(s){let o=this.bb.__offset(this.bb_pos,12);return o?this.bb.readUint8(this.bb.__vector(this.bb_pos+o)+s):0}rawDataLength(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__vector_len(this.bb_pos+s):0}rawDataArray(){let s=this.bb.__offset(this.bb_pos,12);return s?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}stringData(s,o){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}stringDataLength(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__vector_len(this.bb_pos+s):0}static startTensor(s){s.startObject(6)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addDims(s,o){s.addFieldOffset(2,o,0)}static createDimsVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startDimsVector(s,o){s.startVector(8,o,8)}static addDataType(s,o){s.addFieldInt32(3,o,h.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(s,o){s.addFieldOffset(4,o,0)}static createRawDataVector(s,o){s.startVector(1,o.length,1);for(let u=o.length-1;u>=0;u--)s.addInt8(o[u]);return s.endVector()}static startRawDataVector(s,o){s.startVector(1,o,1)}static addStringData(s,o){s.addFieldOffset(5,o,0)}static createStringDataVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startStringDataVector(s,o){s.startVector(4,o,4)}static endTensor(s){return s.endObject()}static createTensor(s,o,u,l,f,m,v){return p.startTensor(s),p.addName(s,o),p.addDocString(s,u),p.addDims(s,l),p.addDataType(s,f),p.addRawData(s,m),p.addStringData(s,v),p.endTensor(s)}}_.Tensor=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSparseTensor(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSparseTensor(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}values(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new h.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}indices(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new h.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}dims(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}dimsLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}static startSparseTensor(s){s.startObject(3)}static addValues(s,o){s.addFieldOffset(0,o,0)}static addIndices(s,o){s.addFieldOffset(1,o,0)}static addDims(s,o){s.addFieldOffset(2,o,0)}static createDimsVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startDimsVector(s,o){s.startVector(8,o,8)}static endSparseTensor(s){return s.endObject()}static createSparseTensor(s,o,u,l){return p.startSparseTensor(s),p.addValues(s,o),p.addIndices(s,u),p.addDims(s,l),p.endSparseTensor(s)}}_.SparseTensor=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsAttribute(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsAttribute(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}name(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}docString(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.__string(this.bb_pos+o,s):null}type(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readInt32(this.bb_pos+s):h.experimental.fbs.AttributeType.UNDEFINED}f(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readFloat32(this.bb_pos+s):0}i(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}s(s){let o=this.bb.__offset(this.bb_pos,14);return o?this.bb.__string(this.bb_pos+o,s):null}t(s){let o=this.bb.__offset(this.bb_pos,16);return o?(s||new h.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}g(s){let o=this.bb.__offset(this.bb_pos,18);return o?(s||new h.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}floats(s){let o=this.bb.__offset(this.bb_pos,20);return o?this.bb.readFloat32(this.bb.__vector(this.bb_pos+o)+4*s):0}floatsLength(){let s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__vector_len(this.bb_pos+s):0}floatsArray(){let s=this.bb.__offset(this.bb_pos,20);return s?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}ints(s){let o=this.bb.__offset(this.bb_pos,22);return o?this.bb.readInt64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}intsLength(){let s=this.bb.__offset(this.bb_pos,22);return s?this.bb.__vector_len(this.bb_pos+s):0}strings(s,o){let u=this.bb.__offset(this.bb_pos,24);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}stringsLength(){let s=this.bb.__offset(this.bb_pos,24);return s?this.bb.__vector_len(this.bb_pos+s):0}tensors(s,o){let u=this.bb.__offset(this.bb_pos,26);return u?(o||new h.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}tensorsLength(){let s=this.bb.__offset(this.bb_pos,26);return s?this.bb.__vector_len(this.bb_pos+s):0}graphs(s,o){let u=this.bb.__offset(this.bb_pos,28);return u?(o||new h.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}graphsLength(){let s=this.bb.__offset(this.bb_pos,28);return s?this.bb.__vector_len(this.bb_pos+s):0}static startAttribute(s){s.startObject(13)}static addName(s,o){s.addFieldOffset(0,o,0)}static addDocString(s,o){s.addFieldOffset(1,o,0)}static addType(s,o){s.addFieldInt32(2,o,h.experimental.fbs.AttributeType.UNDEFINED)}static addF(s,o){s.addFieldFloat32(3,o,0)}static addI(s,o){s.addFieldInt64(4,o,s.createLong(0,0))}static addS(s,o){s.addFieldOffset(5,o,0)}static addT(s,o){s.addFieldOffset(6,o,0)}static addG(s,o){s.addFieldOffset(7,o,0)}static addFloats(s,o){s.addFieldOffset(8,o,0)}static createFloatsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addFloat32(o[u]);return s.endVector()}static startFloatsVector(s,o){s.startVector(4,o,4)}static addInts(s,o){s.addFieldOffset(9,o,0)}static createIntsVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startIntsVector(s,o){s.startVector(8,o,8)}static addStrings(s,o){s.addFieldOffset(10,o,0)}static createStringsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startStringsVector(s,o){s.startVector(4,o,4)}static addTensors(s,o){s.addFieldOffset(11,o,0)}static createTensorsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startTensorsVector(s,o){s.startVector(4,o,4)}static addGraphs(s,o){s.addFieldOffset(12,o,0)}static createGraphsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startGraphsVector(s,o){s.startVector(4,o,4)}static endAttribute(s){return s.endObject()}static createAttribute(s,o,u,l,f,m,v,x,I,C,A,R,N,k){return p.startAttribute(s),p.addName(s,o),p.addDocString(s,u),p.addType(s,l),p.addF(s,f),p.addI(s,m),p.addS(s,v),p.addT(s,x),p.addG(s,I),p.addFloats(s,C),p.addInts(s,A),p.addStrings(s,R),p.addTensors(s,N),p.addGraphs(s,k),p.endAttribute(s)}}_.Attribute=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsGraph(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsGraph(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}initializers(s,o){let u=this.bb.__offset(this.bb_pos,4);return u?(o||new h.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}initializersLength(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__vector_len(this.bb_pos+s):0}nodeArgs(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new h.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}nodeArgsLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}nodes(s,o){let u=this.bb.__offset(this.bb_pos,8);return u?(o||new h.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}nodesLength(){let s=this.bb.__offset(this.bb_pos,8);return s?this.bb.__vector_len(this.bb_pos+s):0}maxNodeIndex(){let s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readUint32(this.bb_pos+s):0}nodeEdges(s,o){let u=this.bb.__offset(this.bb_pos,12);return u?(o||new h.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}nodeEdgesLength(){let s=this.bb.__offset(this.bb_pos,12);return s?this.bb.__vector_len(this.bb_pos+s):0}inputs(s,o){let u=this.bb.__offset(this.bb_pos,14);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}inputsLength(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.__vector_len(this.bb_pos+s):0}outputs(s,o){let u=this.bb.__offset(this.bb_pos,16);return u?this.bb.__string(this.bb.__vector(this.bb_pos+u)+4*s,o):null}outputsLength(){let s=this.bb.__offset(this.bb_pos,16);return s?this.bb.__vector_len(this.bb_pos+s):0}sparseInitializers(s,o){let u=this.bb.__offset(this.bb_pos,18);return u?(o||new h.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}sparseInitializersLength(){let s=this.bb.__offset(this.bb_pos,18);return s?this.bb.__vector_len(this.bb_pos+s):0}static startGraph(s){s.startObject(8)}static addInitializers(s,o){s.addFieldOffset(0,o,0)}static createInitializersVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startInitializersVector(s,o){s.startVector(4,o,4)}static addNodeArgs(s,o){s.addFieldOffset(1,o,0)}static createNodeArgsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startNodeArgsVector(s,o){s.startVector(4,o,4)}static addNodes(s,o){s.addFieldOffset(2,o,0)}static createNodesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startNodesVector(s,o){s.startVector(4,o,4)}static addMaxNodeIndex(s,o){s.addFieldInt32(3,o,0)}static addNodeEdges(s,o){s.addFieldOffset(4,o,0)}static createNodeEdgesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startNodeEdgesVector(s,o){s.startVector(4,o,4)}static addInputs(s,o){s.addFieldOffset(5,o,0)}static createInputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startInputsVector(s,o){s.startVector(4,o,4)}static addOutputs(s,o){s.addFieldOffset(6,o,0)}static createOutputsVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startOutputsVector(s,o){s.startVector(4,o,4)}static addSparseInitializers(s,o){s.addFieldOffset(7,o,0)}static createSparseInitializersVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startSparseInitializersVector(s,o){s.startVector(4,o,4)}static endGraph(s){return s.endObject()}static createGraph(s,o,u,l,f,m,v,x,I){return p.startGraph(s),p.addInitializers(s,o),p.addNodeArgs(s,u),p.addNodes(s,l),p.addMaxNodeIndex(s,f),p.addNodeEdges(s,m),p.addInputs(s,v),p.addOutputs(s,x),p.addSparseInitializers(s,I),p.endGraph(s)}}_.Graph=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsModel(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsModel(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}irVersion(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}opsetImport(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new h.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}opsetImportLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}producerName(s){let o=this.bb.__offset(this.bb_pos,8);return o?this.bb.__string(this.bb_pos+o,s):null}producerVersion(s){let o=this.bb.__offset(this.bb_pos,10);return o?this.bb.__string(this.bb_pos+o,s):null}domain(s){let o=this.bb.__offset(this.bb_pos,12);return o?this.bb.__string(this.bb_pos+o,s):null}modelVersion(){let s=this.bb.__offset(this.bb_pos,14);return s?this.bb.readInt64(this.bb_pos+s):this.bb.createLong(0,0)}docString(s){let o=this.bb.__offset(this.bb_pos,16);return o?this.bb.__string(this.bb_pos+o,s):null}graph(s){let o=this.bb.__offset(this.bb_pos,18);return o?(s||new h.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}graphDocString(s){let o=this.bb.__offset(this.bb_pos,20);return o?this.bb.__string(this.bb_pos+o,s):null}static startModel(s){s.startObject(9)}static addIrVersion(s,o){s.addFieldInt64(0,o,s.createLong(0,0))}static addOpsetImport(s,o){s.addFieldOffset(1,o,0)}static createOpsetImportVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startOpsetImportVector(s,o){s.startVector(4,o,4)}static addProducerName(s,o){s.addFieldOffset(2,o,0)}static addProducerVersion(s,o){s.addFieldOffset(3,o,0)}static addDomain(s,o){s.addFieldOffset(4,o,0)}static addModelVersion(s,o){s.addFieldInt64(5,o,s.createLong(0,0))}static addDocString(s,o){s.addFieldOffset(6,o,0)}static addGraph(s,o){s.addFieldOffset(7,o,0)}static addGraphDocString(s,o){s.addFieldOffset(8,o,0)}static endModel(s){return s.endObject()}static createModel(s,o,u,l,f,m,v,x,I,C){return p.startModel(s),p.addIrVersion(s,o),p.addOpsetImport(s,u),p.addProducerName(s,l),p.addProducerVersion(s,f),p.addDomain(s,m),p.addModelVersion(s,v),p.addDocString(s,x),p.addGraph(s,I),p.addGraphDocString(s,C),p.endModel(s)}}_.Model=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsKernelCreateInfos(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsKernelCreateInfos(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}nodeIndices(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.readUint32(this.bb.__vector(this.bb_pos+o)+4*s):0}nodeIndicesLength(){let s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__vector_len(this.bb_pos+s):0}nodeIndicesArray(){let s=this.bb.__offset(this.bb_pos,4);return s?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+s),this.bb.__vector_len(this.bb_pos+s)):null}kernelDefHashes(s){let o=this.bb.__offset(this.bb_pos,6);return o?this.bb.readUint64(this.bb.__vector(this.bb_pos+o)+8*s):this.bb.createLong(0,0)}kernelDefHashesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}static startKernelCreateInfos(s){s.startObject(2)}static addNodeIndices(s,o){s.addFieldOffset(0,o,0)}static createNodeIndicesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addInt32(o[u]);return s.endVector()}static startNodeIndicesVector(s,o){s.startVector(4,o,4)}static addKernelDefHashes(s,o){s.addFieldOffset(1,o,0)}static createKernelDefHashesVector(s,o){s.startVector(8,o.length,8);for(let u=o.length-1;u>=0;u--)s.addInt64(o[u]);return s.endVector()}static startKernelDefHashesVector(s,o){s.startVector(8,o,8)}static endKernelCreateInfos(s){return s.endObject()}static createKernelCreateInfos(s,o,u){return p.startKernelCreateInfos(s),p.addNodeIndices(s,o),p.addKernelDefHashes(s,u),p.endKernelCreateInfos(s)}}_.KernelCreateInfos=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSubGraphSessionState(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSubGraphSessionState(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}graphId(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}sessionState(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new h.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startSubGraphSessionState(s){s.startObject(2)}static addGraphId(s,o){s.addFieldOffset(0,o,0)}static addSessionState(s,o){s.addFieldOffset(1,o,0)}static endSubGraphSessionState(s){let o=s.endObject();return s.requiredField(o,4),o}static createSubGraphSessionState(s,o,u){return p.startSubGraphSessionState(s),p.addGraphId(s,o),p.addSessionState(s,u),p.endSubGraphSessionState(s)}}_.SubGraphSessionState=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsSessionState(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsSessionState(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}kernels(s){let o=this.bb.__offset(this.bb_pos,4);return o?(s||new h.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}subGraphSessionStates(s,o){let u=this.bb.__offset(this.bb_pos,6);return u?(o||new h.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+u)+4*s),this.bb):null}subGraphSessionStatesLength(){let s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__vector_len(this.bb_pos+s):0}static startSessionState(s){s.startObject(2)}static addKernels(s,o){s.addFieldOffset(0,o,0)}static addSubGraphSessionStates(s,o){s.addFieldOffset(1,o,0)}static createSubGraphSessionStatesVector(s,o){s.startVector(4,o.length,4);for(let u=o.length-1;u>=0;u--)s.addOffset(o[u]);return s.endVector()}static startSubGraphSessionStatesVector(s,o){s.startVector(4,o,4)}static endSessionState(s){return s.endObject()}static createSessionState(s,o,u){return p.startSessionState(s),p.addKernels(s,o),p.addSubGraphSessionStates(s,u),p.endSessionState(s)}}_.SessionState=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={})),function(h){!function(y){!function(_){class p{constructor(){this.bb=null,this.bb_pos=0}__init(s,o){return this.bb_pos=s,this.bb=o,this}static getRootAsInferenceSession(s,o){return(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static getSizePrefixedRootAsInferenceSession(s,o){return s.setPosition(s.position()+S.flatbuffers.SIZE_PREFIX_LENGTH),(o||new p).__init(s.readInt32(s.position())+s.position(),s)}static bufferHasIdentifier(s){return s.__has_identifier("ORTM")}ortVersion(s){let o=this.bb.__offset(this.bb_pos,4);return o?this.bb.__string(this.bb_pos+o,s):null}model(s){let o=this.bb.__offset(this.bb_pos,6);return o?(s||new h.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}sessionState(s){let o=this.bb.__offset(this.bb_pos,8);return o?(s||new h.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+o),this.bb):null}static startInferenceSession(s){s.startObject(3)}static addOrtVersion(s,o){s.addFieldOffset(0,o,0)}static addModel(s,o){s.addFieldOffset(1,o,0)}static addSessionState(s,o){s.addFieldOffset(2,o,0)}static endInferenceSession(s){return s.endObject()}static finishInferenceSessionBuffer(s,o){s.finish(o,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(s,o){s.finish(o,"ORTM",!0)}static createInferenceSession(s,o,u,l){return p.startInferenceSession(s),p.addOrtVersion(s,o),p.addModel(s,u),p.addSessionState(s,l),p.endInferenceSession(s)}}_.InferenceSession=p}(y.fbs||(y.fbs={}))}(h.experimental||(h.experimental={}))}(b.onnxruntime||(b.onnxruntime={}))},7448:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OnnxjsSessionHandler=void 0;const S=P(2174),D=P(9162);b.OnnxjsSessionHandler=class{constructor(T){this.session=T,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}dispose(){return _asyncToGenerator(function*(){})()}run(T,h,y){var _=this;return _asyncToGenerator(function*(){const p=new Map;for(const o in T)if(Object.hasOwnProperty.call(T,o)){const u=T[o];p.set(o,new D.Tensor(u.dims,u.type,void 0,void 0,u.data))}const d=yield _.session.run(p),s={};return d.forEach((o,u)=>{s[u]=new S.Tensor(o.type,o.data,o.dims)}),s})()}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Session=void 0;const S=P(7067),D=P(1296),T=P(7091),h=P(1036),y=P(6231),_=P(2644);b.Session=class{constructor(p={}){this._initialized=!1,this.backendHint=p.backendHint,this.profiler=y.Profiler.create(p.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}loadModel(p,d,s){var o=this;return _asyncToGenerator(function*(){yield o.profiler.event("session","Session.loadModel",_asyncToGenerator(function*(){const u=yield T.resolveBackend(o.backendHint);if(o.sessionHandler=u.createSessionHandler(o.context),o._model=new _.Model,"string"==typeof p){const l=p.endsWith(".ort");if(typeof fetch>"u"){const f=yield D.promisify(S.readFile)(p);o.initialize(f,l)}else{const f=yield fetch(p),m=yield f.arrayBuffer();o.initialize(new Uint8Array(m),l)}}else if(ArrayBuffer.isView(p))o.initialize(p);else{const l=new Uint8Array(p,d||0,s||p.byteLength);o.initialize(l)}}))})()}initialize(p,d){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{this._model.load(p,this.sessionHandler.transformGraph?this.sessionHandler:void 0,d),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new h.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}run(p){var d=this;return _asyncToGenerator(function*(){if(!d._initialized)throw new Error("session not initialized yet");return d.profiler.event("session","Session.run",_asyncToGenerator(function*(){const s=d.normalizeAndValidateInputs(p),o=yield d._executionPlan.execute(d.sessionHandler,s);return d.createOutput(o)}))})()}normalizeAndValidateInputs(p){const d=this._model.graph.getInputNames();if(Array.isArray(p)){if(p.length!==d.length)throw new Error(`incorrect input array length: expected ${d.length} but got ${p.length}`)}else{if(p.size!==d.length)throw new Error(`incorrect input map size: expected ${d.length} but got ${p.size}`);const s=new Array(p.size);let o=0;for(let u=0;u<d.length;++u){const l=p.get(d[u]);if(!l)throw new Error(`missing input tensor for: '${name}'`);s[o++]=l}p=s}if(this.context.graphInputTypes&&0!==this.context.graphInputTypes.length&&this.context.graphInputDims&&0!==this.context.graphInputDims.length)this.validateInputTensorDims(this.context.graphInputDims,p,!1);else{const s=this._model.graph.getInputIndices(),o=this._model.graph.getValues(),u=new Array(s.length);for(let l=0;l<s.length;++l){const f=o[s[l]];u[l]=f.type.shape.dims,this.context.graphInputTypes.push(f.type.tensorType),this.context.graphInputDims.push(p[l].dims)}this.validateInputTensorDims(u,p,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,p),p}validateInputTensorTypes(p,d){for(let s=0;s<d.length;s++){const o=p[s],u=d[s].type;if(o!==u)throw new Error(`input tensor[${s}] check failed: expected type '${o}' but got ${u}`)}}validateInputTensorDims(p,d,s){for(let o=0;o<d.length;o++){const u=p[o],l=d[o].dims;if(!this.compareTensorDims(u,l,s))throw new Error(`input tensor[${o}] check failed: expected shape '[${u.join(",")}]' but got [${l.join(",")}]`)}}compareTensorDims(p,d,s){if(p.length!==d.length)return!1;for(let o=0;o<p.length;++o)if(p[o]!==d[o]&&(!s||0!==p[o]))return!1;return!0}createOutput(p){const d=this._model.graph.getOutputNames();if(p.length!==d.length)throw new Error("expected number of outputs do not match number of generated outputs");const s=new Map;for(let o=0;o<d.length;++o)s.set(d[o],p[o]);return s}initializeOps(p){const d=p.getNodes();this._ops=new Array(d.length);for(let s=0;s<d.length;s++)this._ops[s]=this.sessionHandler.resolve(d[s],this._model.opsets,p)}}},9162:function(q,b,P){"use strict";var S=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(b,"__esModule",{value:!0}),b.Tensor=void 0;const D=P(3442),T=S(P(3720)),h=P(1446),y=P(9395),_=P(2517);var p=y.onnxruntime.experimental.fbs;class d{constructor(m,v,x,I,C,A=D.Guid.create()){this.dims=m,this.type=v,this.dataProvider=x,this.asyncDataProvider=I,this.cache=C,this.dataId=A,this.size=_.ShapeUtil.validateDimsAndCalcSize(m);const R=this.size,N=void 0===x&&void 0===I&&void 0===C;if(void 0!==C&&C.length!==R)throw new RangeError("Input dims doesn't match data length.");if("string"===v){if(!(void 0===C||Array.isArray(C)&&C.every(k=>"string"==typeof k)))throw new TypeError("cache should be a string array");N&&(this.cache=new Array(R))}else{if(void 0!==C){const k=o(v);if(!(C instanceof k))throw new TypeError(`cache should be type ${k.name}`)}if(N){const k=new ArrayBuffer(R*function(O){switch(O){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${O}`)}}(v));this.cache=(O=k,new(o(v))(O))}}var O}get data(){if(void 0===this.cache){const m=this.dataProvider(this.dataId);if(m.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=m}return this.cache}get stringData(){if("string"!==this.type)throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if("string"!==this.type)return this.data;throw new TypeError("type cannot be non-number (string)")}get(m){return this.data[_.ShapeUtil.indicesToOffset(m,this.strides)]}set(m,v){this.data[_.ShapeUtil.indicesToOffset(m,this.strides)]=v}getData(){var m=this;return _asyncToGenerator(function*(){return void 0===m.cache&&(m.cache=yield m.asyncDataProvider(m.dataId)),m.cache})()}get strides(){return this._strides||(this._strides=_.ShapeUtil.computeStrides(this.dims)),this._strides}static fromProto(m){if(!m)throw new Error("cannot construct Value from an empty tensor");const v=_.ProtoUtil.tensorDataTypeFromProto(m.dataType),x=_.ProtoUtil.tensorDimsFromProto(m.dims),I=new d(x,v);if("string"===v)m.stringData.forEach((C,A)=>{I.data[A]=_.decodeUtf8String(C)});else if(m.rawData&&"number"==typeof m.rawData.byteLength&&m.rawData.byteLength>0){const C=I.data,A=new DataView(m.rawData.buffer,m.rawData.byteOffset,m.rawData.byteLength),R=s(m.dataType),N=m.rawData.byteLength/R;if(m.rawData.byteLength%R!=0)throw new Error("invalid buffer length");if(C.length!==N)throw new Error("buffer length mismatch");for(let k=0;k<N;k++){const O=l(A,m.dataType,k*R);C[k]=O}}else{let C;switch(m.dataType){case h.onnx.TensorProto.DataType.FLOAT:C=m.floatData;break;case h.onnx.TensorProto.DataType.INT32:case h.onnx.TensorProto.DataType.INT16:case h.onnx.TensorProto.DataType.UINT16:case h.onnx.TensorProto.DataType.INT8:case h.onnx.TensorProto.DataType.UINT8:case h.onnx.TensorProto.DataType.BOOL:C=m.int32Data;break;case h.onnx.TensorProto.DataType.INT64:C=m.int64Data;break;case h.onnx.TensorProto.DataType.DOUBLE:C=m.doubleData;break;case h.onnx.TensorProto.DataType.UINT32:case h.onnx.TensorProto.DataType.UINT64:C=m.uint64Data;break;default:throw new Error("unspecific error")}if(null==C)throw new Error("failed to populate data from a tensorproto value");const A=I.data;if(A.length!==C.length)throw new Error("array length mismatch");for(let R=0;R<C.length;R++){const N=C[R];A[R]=T.default.isLong(N)?u(N,m.dataType):N}}return I}static fromData(m,v,x){return new d(v,x,void 0,void 0,m)}static fromOrtTensor(m){if(!m)throw new Error("cannot construct Value from an empty tensor");const v=_.ProtoUtil.tensorDimsFromORTFormat(m),x=_.ProtoUtil.tensorDataTypeFromProto(m.dataType()),I=new d(v,x);if("string"===x)for(let C=0;C<m.stringDataLength();C++)I.data[C]=m.stringData(C);else if(m.rawDataArray()&&"number"==typeof m.rawDataLength()&&m.rawDataLength()>0){const C=I.data,A=new DataView(m.rawDataArray().buffer,m.rawDataArray().byteOffset,m.rawDataLength()),R=s(m.dataType()),N=m.rawDataLength()/R;if(m.rawDataLength()%R!=0)throw new Error("invalid buffer length");if(C.length!==N)throw new Error("buffer length mismatch");for(let k=0;k<N;k++){const O=l(A,m.dataType(),k*R);C[k]=O}}return I}}function s(f){switch(f){case h.onnx.TensorProto.DataType.UINT8:case h.onnx.TensorProto.DataType.INT8:case h.onnx.TensorProto.DataType.BOOL:return 1;case h.onnx.TensorProto.DataType.UINT16:case h.onnx.TensorProto.DataType.INT16:return 2;case h.onnx.TensorProto.DataType.FLOAT:case h.onnx.TensorProto.DataType.INT32:case h.onnx.TensorProto.DataType.UINT32:return 4;case h.onnx.TensorProto.DataType.INT64:case h.onnx.TensorProto.DataType.DOUBLE:case h.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${h.onnx.TensorProto.DataType[f]}`)}}function o(f){switch(f){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function u(f,m){if(m===h.onnx.TensorProto.DataType.INT64||m===p.TensorDataType.INT64){if(f.greaterThanOrEqual(2147483648)||f.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(m!==h.onnx.TensorProto.DataType.UINT32&&m!==p.TensorDataType.UINT32&&m!==h.onnx.TensorProto.DataType.UINT64&&m!==p.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${h.onnx.TensorProto.DataType[m]}`);if(f.greaterThanOrEqual(4294967296)||f.lessThan(0))throw new TypeError("uint64 is not supported")}return f.toNumber()}function l(f,m,v){switch(m){case h.onnx.TensorProto.DataType.BOOL:case h.onnx.TensorProto.DataType.UINT8:return f.getUint8(v);case h.onnx.TensorProto.DataType.INT8:return f.getInt8(v);case h.onnx.TensorProto.DataType.UINT16:return f.getUint16(v,!0);case h.onnx.TensorProto.DataType.INT16:return f.getInt16(v,!0);case h.onnx.TensorProto.DataType.FLOAT:return f.getFloat32(v,!0);case h.onnx.TensorProto.DataType.INT32:return f.getInt32(v,!0);case h.onnx.TensorProto.DataType.UINT32:return f.getUint32(v,!0);case h.onnx.TensorProto.DataType.INT64:return u(T.default.fromBits(f.getUint32(v,!0),f.getUint32(v+4,!0),!1),m);case h.onnx.TensorProto.DataType.DOUBLE:return f.getFloat64(v,!0);case h.onnx.TensorProto.DataType.UINT64:return u(T.default.fromBits(f.getUint32(v,!0),f.getUint32(v+4,!0),!0),m);default:throw new Error(`cannot read from DataView for type ${h.onnx.TensorProto.DataType[m]}`)}}b.Tensor=d},2517:function(q,b,P){"use strict";var S=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(b,"__esModule",{value:!0}),b.decodeUtf8String=b.MAX_CLIP=b.MIN_CLIP=b.PoolConvUtil=b.ReduceUtil=b.SplitUtil=b.MathUtil=b.ShapeUtil=b.LongUtil=b.ProtoUtil=b.GemmUtil=b.arrayCopyHelper=b.BroadcastUtil=b.MatMulUtil=b.ArrayUtil=b.assert=b.checkInputsShape=void 0;const D=P(4819),T=S(P(3720)),h=P(1446),y=P(9162);b.checkInputsShape=function(m,...v){if(!m||m.length!==v.length)return!1;for(let x=0;x<m.length;x++)if(!m[x].dims||m[x].dims.length!==v[x])return!1;return!0},b.assert=function(m,v){if(!m)throw new Error("string"==typeof v?v:v())},b.ArrayUtil=class{static arraysEqual(m,v){if(m.length!==v.length)return!1;for(let x=0;x<m.length;x++)if(m[x]!==v[x])return!1;return!0}};class _{static preprocessInputShapes(v,x){return[1===v.length?[1,v[0]]:v,1===x.length?[x[0],1]:x]}static postprocessOutputShape(v,x,I){1===x&&v.splice(v.length-2,1),1===I&&v.pop()}static calcMatMulShape(v,x){return v[1]!==x[0]?void 0:[v[0],x[1]]}}b.MatMulUtil=_;class p{static calcShape(v,x,I=!1){const C=v.length,A=x.length;if(0===C)return x;if(0===A)return v;const R=Math.max(v.length,x.length),N=new Array(R);if(I){if(C<2||A<2)return;const k=_.calcMatMulShape([v[C-2],v[C-1]],[x[A-2],x[A-1]]);if(void 0===k)return;[N[R-2],N[R-1]]=k}for(let k=I?3:1;k<=R;k++){const O=C-k<0?1:v[C-k],$=A-k<0?1:x[A-k];if(O!==$&&O>1&&$>1)return;N[R-k]=Math.max(O,$)}return N}static index(v,x){const I=new Array(x.length);return p.fillIndex(v,x,I),I}static fillIndex(v,x,I){const C=v.length-x.length;for(let A=0;A<x.length;A++)I[A]=v[C+A]%x[A]}static calc(v,x,I,C,A){const R=p.calcShape(v.dims,x.dims);if(R){if(C&&!o.areEqual(R,v.dims))return;const N=o.size(R),k=C?v:new y.Tensor(R,A||v.type);if(0===R.length)k.set([],I(v.get([]),x.get([])));else{const O=new Array(R.length),$=new Array(v.dims.length),G=new Array(x.dims.length);let z,X=0,Z=0,oe=!1,B=!1;0===v.dims.length&&(X=v.get([]),oe=!0),0===x.dims.length&&(Z=x.get([]),B=!0);for(let K=0;K<N;K++){z=K;for(let ve=R.length-1;ve>=0;ve--)O[ve]=z%R[ve],z=Math.floor(z/R[ve]);oe||(p.fillIndex(O,v.dims,$),X=v.get($)),B||(p.fillIndex(O,x.dims,G),Z=x.get(G)),k.set(O,I(X,Z))}}return k}}static isValidBroadcast(v,x){const I=v.length,C=x.length;if(I>C)return!1;for(let A=1;A<=I;A++)if(1!==v[I-A]&&v[I-A]!==x[C-A])return!1;return!0}static getBroadcastDims(v,x){const I=v.length,C=[];for(let A=0;A<I;A++){const R=I-1-A;(x[x.length-1-A]||1)>1&&1===(v[R]||1)&&C.unshift(R)}return C}}b.BroadcastUtil=p,b.arrayCopyHelper=function(m,v,x,I,C){if(I<0||I>=v.length)throw new Error("sourceIndex out of bounds");if(x<0||x>=m.length)throw new Error("targetIndex out of bounds");if(I+C>v.length)throw new Error("source indices to be copied are outside bounds");if(x+C>m.length)throw new Error("target array is too small to hold result");for(let A=0;A<C;A++)m[x+A]=v[I+A]},b.GemmUtil=class{static getShapeOfGemmResult(m,v,x,I,C){if(2!==m.length||2!==x.length)throw new Error("shape need to be of size 2");let A,R,N;v?(A=m[1],R=m[0]):(A=m[0],R=m[1]);let k=-1;if(I?(N=x[0],k=1):(N=x[1],k=0),x[k]!==R)throw new Error("dimension mismatch");if(A<=0||N<=0||R<=0)throw new Error("invalid shape specified");if(C&&!p.isValidBroadcast(C,[A,N]))throw new Error("gemm: invalid bias shape for broadcast");return[A,N,R]}};class d{static tensorDataTypeFromProto(v){switch(v){case h.onnx.TensorProto.DataType.INT8:return"int8";case h.onnx.TensorProto.DataType.UINT8:return"uint8";case h.onnx.TensorProto.DataType.BOOL:return"bool";case h.onnx.TensorProto.DataType.INT16:return"int16";case h.onnx.TensorProto.DataType.UINT16:return"uint16";case h.onnx.TensorProto.DataType.INT32:return"int32";case h.onnx.TensorProto.DataType.UINT32:return"uint32";case h.onnx.TensorProto.DataType.FLOAT:return"float32";case h.onnx.TensorProto.DataType.DOUBLE:return"float64";case h.onnx.TensorProto.DataType.STRING:return"string";case h.onnx.TensorProto.DataType.INT64:return"int32";case h.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${h.onnx.TensorProto.DataType[v]}`)}}static tensorDataTypeStringToEnum(v){switch(v){case"int8":return h.onnx.TensorProto.DataType.INT8;case"uint8":return h.onnx.TensorProto.DataType.UINT8;case"bool":return h.onnx.TensorProto.DataType.BOOL;case"int16":return h.onnx.TensorProto.DataType.INT16;case"uint16":return h.onnx.TensorProto.DataType.UINT16;case"int32":return h.onnx.TensorProto.DataType.INT32;case"uint32":return h.onnx.TensorProto.DataType.UINT32;case"float32":return h.onnx.TensorProto.DataType.FLOAT;case"float64":return h.onnx.TensorProto.DataType.DOUBLE;case"string":return h.onnx.TensorProto.DataType.STRING;case"int64":return h.onnx.TensorProto.DataType.INT64;case"uint64":return h.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${v}`)}}static tensorDimsFromProto(v){return v.map(x=>T.default.isLong(x)?x.toNumber():x)}static tensorValueTypeFromProto(v){return{tensorType:d.tensorDataTypeFromProto(v.elemType),shape:{dims:d.tensorDimsFromProto(v.shape.dim.map(x=>x.dimValue))}}}static tensorDimsFromORTFormat(v){const x=[];for(let I=0;I<v.dimsLength();I++)x.push(s.longToNumber(v.dims(I)));return x}static tensorAttributesFromORTFormat(v){const x=[];for(let I=0;I<v.attributesLength();I++)x.push(v.attributes(I));return x}}b.ProtoUtil=d;class s{static longToNumber(v,x){return T.default.isLong(v)?v.toNumber():v instanceof D.flatbuffers.Long?T.default.fromValue({low:v.low,high:v.high,unsigned:null!=x&&x}).toNumber():v}static isLong(v){return T.default.isLong(v)||v instanceof D.flatbuffers.Long}}b.LongUtil=s;class o{static size(v){return o.getSizeFromDimensionRange(v,0,v.length)}static sizeFromDimension(v,x){if(x<0||x>v.length)throw new Error(`invalid dimension of ${x} for sizeFromDimension as Tensor has ${v.length} dimensions.`);return o.getSizeFromDimensionRange(v,x,v.length)}static sizeToDimension(v,x){if(x<0||x>v.length)throw new Error(`invalid dimension of ${x} for sizeToDimension as Tensor has ${v.length} dimensions.`);return o.getSizeFromDimensionRange(v,0,x)}static getSizeFromDimensionRange(v,x,I){let C=1;for(let A=x;A<I;A++){if(v[A]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");C*=v[A]}return C}static computeStrides(v){const x=v.length;if(0===x)return[];if(1===x)return[1];const I=new Array(x);I[x-1]=1,I[x-2]=v[x-1];for(let C=x-3;C>=0;--C)I[C]=I[C+1]*v[C+1];return I}static transpose(v){return v.slice().reverse()}static indicesToOffset(v,x,I){void 0===I&&(I=v.length);let C=0;for(let A=0;A<I;++A)C+=x[A]*v[A];return C}static offsetToIndices(v,x){const I=x.length;if(0===I)return[];if(1===I)return[v*x[0]];const C=new Array(x.length);for(let A=0;A<C.length-1;++A)C[A]=Math.floor(v/x[A]),v-=C[A]*x[A];return C[C.length-1]=v,C}static normalizeAxis(v,x){if(v<-x&&v>=x)throw new Error("unsupported axis for this operation.");return v<0?v+x:v}static normalizeAxes(v,x){return v.map(I=>this.normalizeAxis(I,x))}static incrementIndex(v,x,I){if(0===x.length||0===v.length)throw new Error("Index incrementing unsupported for scalar Tensor");if(void 0===I)I=x.length;else if(I<=0||I>x.length)throw new Error("Incorrect axis to increment on");for(let C=I-1;C>=0&&(v[C]++,!(v[C]<x[C]));--C)v[C]=0}static calculateReshapedDims(v,x){if(0===x.length){if(0===v.length||1===o.size(v))return[];throw new Error("cannot reshape to a scalar Tensor")}const I=x.length,C=new Array(I);let A=-1,R=1;for(let k=0;k<I;k++){if(x[k]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(-1===x[k]){if(-1!==A)throw new Error("at most one dimension in shape hints can be -1");A=k}else{if(0===x[k]){if(k>=v.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");C[k]=v[k]}else C[k]=x[k];R*=C[k]}}const N=o.size(v);if(-1!==A){if(N%R!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${v}] Output shape: [${x}]`);C[A]=N/R}else if(R!==N)throw new Error("reshapedDims and originalDims don't have matching sizes");return C}static sortBasedOnPerm(v,x){return x?x.map(I=>v[I]):v.slice().reverse()}static padShape(v,x){const I=v.length;return v.map((C,A)=>C+x[A]+x[A+I])}static areEqual(v,x){return v.length===x.length&&v.every((I,C)=>I===x[C])}static validateDimsAndCalcSize(v){if(v.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let x=1;for(const I of v){if(!Number.isInteger(I))throw new TypeError(`Invalid shape: ${I} is not an integer`);if(I<0||I>2147483647)throw new TypeError(`Invalid shape: length ${I} is not allowed`);x*=I}return x}static flattenShape(v,x){x<0&&(x+=v.length);const I=v.reduce((A,R)=>A*R,1),C=v.slice(x).reduce((A,R)=>A*R,1);return[I/C,C]}static squeezeShape(v,x){const I=new Array;x=o.normalizeAxes(x,v.length);for(let C=0;C<v.length;C++){const A=x.indexOf(C)>=0;if(A&&1!==v[C])throw new Error("squeeze an axis of size different than 1");(0===x.length&&v[C]>1||x.length>0&&!A)&&I.push(v[C])}return I}static unsqueezeShape(v,x){const I=new Array(v.length+x.length);I.fill(0);for(let A=0;A<x.length;A++){const R=o.normalizeAxis(x[A],I.length);if(R>=I.length)throw new Error("'axes' has an out of range axis");if(0!==I[R])throw new Error("'axes' has a duplicate axis");I[R]=1}let C=0;for(let A=0;A<I.length;A++)0===I[A]&&(I[A]=v[C++]);if(C!==v.length)throw new Error("the unsqueezed dimension could not be established");return I}}b.ShapeUtil=o,b.MathUtil=class{static sqr(m,v,x,I,C){if(I<0||I>=v.length)throw new Error("sourceIndex out of bounds");if(x<0||x>=m.length)throw new Error("targetIndex out of bounds");if(I+C>v.length)throw new Error("source indices to be copied are outside bounds");if(x+C>m.length)throw new Error("target array is too small to hold result");for(let A=0;A<C;A++)m[x+A]+=Math.pow(v[I+A],2)}static axpy(m,v,x,I,C,A){if(I<0||I>=v.length)throw new Error("sourceIndex out of bounds");if(x<0||x>=m.length)throw new Error("targetIndex out of bounds");if(I+C>v.length)throw new Error("source indices to be copied are outside bounds");if(x+C>m.length)throw new Error("target array is too small to hold result");for(let R=0;R<C;R++)m[x+R]+=A*v[I+R]}static powx(m,v,x,I,C,A){if(I<0||I>=v.length)throw new Error("sourceIndex out of bounds");if(x<0||x>=m.length)throw new Error("targetIndex out of bounds");if(I+C>v.length)throw new Error("source indices to be copied are outside bounds");if(x+C>m.length)throw new Error("target array is too small to hold result");for(let R=0;R<C;R++)m[x+R]=Math.pow(v[I+R],A)}static mul(m,v,x,I,C){if(I<0||I>=v.length)throw new Error("sourceIndex out of bounds");if(x<0||x>=m.length)throw new Error("targetIndex out of bounds");if(I+C>v.length)throw new Error("source indices to be copied are outside bounds");if(x+C>m.length)throw new Error("target array is too small to hold result");for(let A=0;A<C;A++)m[x+A]=v[I+A]*m[x+A]}};class u{static splitShape(v,x,I,C){if(0===I.length){if(!C)throw new Error("need to know number of outputs when the 'split' attribute is not specified");u.determineSplit(v[x],C,I)}const A=[],R=[0];for(let N=0;N<I.length;++N){0!==N&&R.push(R[N-1]+I[N-1]);const k=v.slice();k[x]=I[N],A.push(k)}return[A,R]}static determineSplit(v,x,I){if(v%x!=0)throw new Error("cannot split tensor to equal sized parts");for(let C=0;C<x;++C)I.push(v/x)}}b.SplitUtil=u;class l{static calcReduce(v,x,I,C,A){const R=v.dims.slice(0);0===x.length&&R.forEach((X,Z)=>x.push(Z));const N=l.calcReduceShape(R,x,!0),k=o.size(N),O=new y.Tensor(N,v.type),$=o.computeStrides(N),G=o.computeStrides(R),z=new Array(R.length);for(let X=0;X<k;X++){const Z=o.offsetToIndices(X,$);p.fillIndex(Z,R,z),O.set(Z,l.calcReduceByAxis(v.numberData,x,R,0,o.indicesToOffset(z,G),C,A))}return I?O:new y.Tensor(l.calcReduceShape(R,x,I),O.type,void 0,void 0,O.data,O.dataId)}static calcReduceByAxis(v,x,I,C,A,R,N){let k=0;if(C>=x.length)return R(v[A]);const O=x[C],$=O>=I.length?1:o.size(I.slice(O+1));for(let G=0;G<I[O];G++)k=0===G?l.calcReduceByAxis(v,x,I,C+1,A,R,N):N(k,l.calcReduceByAxis(v,x,I,C+1,A,R,N)),A+=$;return k}static calcReduceShape(v,x,I){const C=v.slice();for(let A=0;A<x.length;A++)C[x[A]]=I?1:0;return C.filter(A=>0!==A)}}b.ReduceUtil=l;class f{static adjustPoolAttributes(v,x,I,C,A,R){if(!v&&I.length!==x.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(v)for(let N=0;N<x.length-2;N++)N>=I.length?I.push(x[N+2]):I[N]=x[N+2];for(let N=0;N<I.length;N++)if(N<C.length){if(C[N]<0)throw new Error("strides should be greater than or equal to 1")}else C.push(1);for(let N=0;N<I.length;N++)if(N<A.length){if(A[N]<0)throw new Error("dilations should be greater than or equal to 1")}else A.push(1);for(let N=0;N<2*I.length;N++)if(N<R.length){if(R[N]<0)throw new Error("pad should be greater than or equal to 1")}else R.push(0);for(let N=0;N<I.length;N++){if(I[N]<=0)throw new Error("kernel shapes need to be greater than 0");if(R[N]>=I[N]||R[N+I.length]>=I[N])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(v,x,I,C,A,R){if(R){if(A.length!==2*(v.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(x.length!==v.length-2)throw new Error("length of strides should be the length of data dimensions");if(C.length!==v.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let N=0;N<v.length-2;N++)f.adjustPadAndReturnShape(v[N+2],x[N],I[N],C[N],A,N,N+v.length-2,R)}}static computePoolOutputShape(v,x,I,C,A,R,N){if(x.length<=0)throw new Error("input shape must be of size greater than 0");const k=[x[0],x[1]];return f.computeShapeHelper(v,x,k,I,C,A,R,N),k}static computeConvOutputShape(v,x,I,C,A,R,N){if(v.length<=0||x.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const k=[v[0],x[0]];return f.computeShapeHelper(!1,v,k,I,C,A,R,N),k}static computeShapeHelper(v,x,I,C,A,R,N,k){if(v)for(let O=0;O<x.length-2;O++)I.push(1);else for(let O=0;O<x.length-2;O++)I.push(f.adjustPadAndReturnShape(x[O+2],C[O],A[O],R[O],N,O,O+x.length-2,k))}static adjustPadAndReturnShape(v,x,I,C,A,R,N,k){const O=I*(C-1)+1;if(!k||"NOTSET"===k)return Math.floor((v+A[R]+A[N]-O)/x+1);switch(k){case"VALID":return A[R]=0,A[N]=0,Math.floor((v-O)/x+1);case"SAME_LOWER":case"SAME_UPPER":if(1!==I)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const $=((v+x-1)/x-1)*x+C-v;return A[R]=Math.floor("SAME_LOWER"===k?($+1)/2:$/2),A[N]=$-A[R],Math.floor((v+$-C)/x+1)}default:throw new Error("Unsupported AutoPad type")}}}b.PoolConvUtil=f,b.MIN_CLIP=-34028234663852886e22,b.MAX_CLIP=34028234663852886e22,b.decodeUtf8String=function(m){return(new TextDecoder).decode(m)}},7967:(q,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.iterateExtraOptions=void 0,b.iterateExtraOptions=(P,S,D,T)=>{if("object"==typeof P&&null!==P){if(D.has(P))throw new Error("Circular reference in options");D.add(P)}Object.entries(P).forEach(([h,y])=>{const _=S?S+h:h;if("object"==typeof y)b.iterateExtraOptions(y,_+".",D,T);else if("string"==typeof y||"number"==typeof y)T(_,y.toString());else{if("boolean"!=typeof y)throw new Error("Can't handle extra config type: "+typeof y);T(_,y?"1":"0")}})}},2157:function(q,b,P){"use strict";var S,D=this&&this.__createBinding||(Object.create?function(k,O,$,G){void 0===G&&(G=$),Object.defineProperty(k,G,{enumerable:!0,get:function(){return O[$]}})}:function(k,O,$,G){void 0===G&&(G=$),k[G]=O[$]}),T=this&&this.__setModuleDefault||(Object.create?function(k,O){Object.defineProperty(k,"default",{enumerable:!0,value:O})}:function(k,O){k.default=O}),h=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var O={};if(null!=k)for(var $ in k)"default"!==$&&Object.prototype.hasOwnProperty.call(k,$)&&D(O,k,$);return T(O,k),O};Object.defineProperty(b,"__esModule",{value:!0}),b.endProfiling=b.run=b.releaseSession=b.createSession=b.initOrt=b.initWasm=void 0;const y=P(2174),_=h(P(349)),p=P(6361),d=()=>!!y.env.wasm.proxy&&typeof document<"u";let s,o,u,l=!1,f=!1,m=!1;const v=[],x=[],I=[],C=[],A=()=>{if(l||!f||m||!s)throw new Error("worker not ready")},R=k=>{switch(k.data.type){case"init-wasm":l=!1,k.data.err?(m=!0,o[1](k.data.err)):(f=!0,o[0]());break;case"init-ort":k.data.err?u[1](k.data.err):u[0]();break;case"create":k.data.err?v.shift()[1](k.data.err):v.shift()[0](k.data.out);break;case"release":k.data.err?x.shift()[1](k.data.err):x.shift()[0]();break;case"run":k.data.err?I.shift()[1](k.data.err):I.shift()[0](k.data.out);break;case"end-profiling":k.data.err?C.shift()[1](k.data.err):C.shift()[0]()}},N=typeof document<"u"?null===(S=document?.currentScript)||void 0===S?void 0:S.src:void 0;b.initWasm=_asyncToGenerator(function*(){if(d()){if(f)return;if(l)throw new Error("multiple calls to 'initWasm()' detected.");if(m)throw new Error("previous call to 'initWasm()' failed.");return l=!0,void 0===y.env.wasm.wasmPaths&&N&&0!==N.indexOf("blob:")&&(y.env.wasm.wasmPaths=N.substr(0,N.lastIndexOf("/")+1)),new Promise((k,O)=>{s?.terminate(),s=P(9710).Z(),s.onmessage=R,o=[k,O],s.postMessage({type:"init-wasm",in:y.env.wasm})})}return p.initializeWebAssembly(y.env.wasm)}),b.initOrt=function(){var k=_asyncToGenerator(function*(O,$){if(d())return A(),new Promise((G,z)=>{u=[G,z],s.postMessage({type:"init-ort",in:{numThreads:O,loggingLevel:$}})});_.initOrt(O,$)});return function(O,$){return k.apply(this,arguments)}}(),b.createSession=function(){var k=_asyncToGenerator(function*(O,$){return d()?(A(),new Promise((G,z)=>{v.push([G,z]),s.postMessage({type:"create",in:{model:O,options:$}},[O.buffer])})):_.createSession(O,$)});return function(O,$){return k.apply(this,arguments)}}(),b.releaseSession=function(){var k=_asyncToGenerator(function*(O){if(d())return A(),new Promise(($,G)=>{x.push([$,G]),s.postMessage({type:"release",in:O})});_.releaseSession(O)});return function(O){return k.apply(this,arguments)}}(),b.run=function(){var k=_asyncToGenerator(function*(O,$,G,z,X){return d()?(A(),new Promise((Z,oe)=>{I.push([Z,oe]),s.postMessage({type:"run",in:{sessionId:O,inputIndices:$,inputs:G,outputIndices:z,options:X}},_.extractTransferableBuffers(G))})):_.run(O,$,G,z,X)});return function(O,$,G,z,X){return k.apply(this,arguments)}}(),b.endProfiling=function(){var k=_asyncToGenerator(function*(O){if(d())return A(),new Promise(($,G)=>{C.push([$,G]),s.postMessage({type:"end-profiling",in:O})});_.endProfiling(O)});return function(O){return k.apply(this,arguments)}}()},586:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.setRunOptions=void 0;const S=P(7967),D=P(4983),T=P(6361);b.setRunOptions=h=>{const y=T.getInstance();let _=0;const p=[],d=h||{};try{if(void 0===h?.logSeverityLevel)d.logSeverityLevel=2;else if("number"!=typeof h.logSeverityLevel||!Number.isInteger(h.logSeverityLevel)||h.logSeverityLevel<0||h.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${h.logSeverityLevel}`);if(void 0===h?.logVerbosityLevel)d.logVerbosityLevel=0;else if("number"!=typeof h.logVerbosityLevel||!Number.isInteger(h.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${h.logVerbosityLevel}`);void 0===h?.terminate&&(d.terminate=!1);let s=0;if(void 0!==h?.tag&&(s=D.allocWasmString(h.tag,p)),_=y._OrtCreateRunOptions(d.logSeverityLevel,d.logVerbosityLevel,!!d.terminate,s),0===_)throw new Error("Can't create run options");return void 0!==h?.extra&&S.iterateExtraOptions(h.extra,"",new WeakSet,(o,u)=>{const l=D.allocWasmString(o,p),f=D.allocWasmString(u,p);if(0!==y._OrtAddRunConfigEntry(_,l,f))throw new Error(`Can't set a run config entry: ${o} - ${u}`)}),[_,p]}catch(s){throw 0!==_&&y._OrtReleaseRunOptions(_),p.forEach(y._free),s}}},2306:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.OnnxruntimeWebAssemblySessionHandler=void 0;const S=P(2174),D=P(2157);let T;b.OnnxruntimeWebAssemblySessionHandler=class{loadModel(h,y){var _=this;return _asyncToGenerator(function*(){T||(yield D.initOrt(S.env.wasm.numThreads,(p=>{switch(p){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${p}`)}})(S.env.logLevel)),T=!0),[_.sessionId,_.inputNames,_.outputNames]=yield D.createSession(h,y)})()}dispose(){var h=this;return _asyncToGenerator(function*(){return D.releaseSession(h.sessionId)})()}run(h,y,_){var p=this;return _asyncToGenerator(function*(){const d=[],s=[];Object.entries(h).forEach(f=>{const m=f[0],v=f[1],x=p.inputNames.indexOf(m);if(-1===x)throw new Error(`invalid input '${m}'`);d.push(v),s.push(x)});const o=[];Object.entries(y).forEach(f=>{const m=f[0],v=p.outputNames.indexOf(m);if(-1===v)throw new Error(`invalid output '${m}'`);o.push(v)});const u=yield D.run(p.sessionId,s,d.map(f=>[f.type,f.dims,f.data]),o,_),l={};for(let f=0;f<u.length;f++)l[p.outputNames[o[f]]]=new S.Tensor(u[f][0],u[f][2],u[f][1]);return l})()}startProfiling(){}endProfiling(){D.endProfiling(this.sessionId)}}},4919:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.setSessionOptions=void 0;const S=P(7967),D=P(4983),T=P(6361);b.setSessionOptions=h=>{const y=T.getInstance();let _=0;const p=[],d=h||{};(s=>{s.extra||(s.extra={}),s.extra.session||(s.extra.session={});const o=s.extra.session;o.use_ort_model_bytes_directly||(o.use_ort_model_bytes_directly="1")})(d);try{void 0===h?.graphOptimizationLevel&&(d.graphOptimizationLevel="all");const s=(l=>{switch(l){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${l}`)}})(d.graphOptimizationLevel);void 0===h?.enableCpuMemArena&&(d.enableCpuMemArena=!0),void 0===h?.enableMemPattern&&(d.enableMemPattern=!0),void 0===h?.executionMode&&(d.executionMode="sequential");const o=(l=>{switch(l){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${l}`)}})(d.executionMode);let u=0;if(void 0!==h?.logId&&(u=D.allocWasmString(h.logId,p)),void 0===h?.logSeverityLevel)d.logSeverityLevel=2;else if("number"!=typeof h.logSeverityLevel||!Number.isInteger(h.logSeverityLevel)||h.logSeverityLevel<0||h.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${h.logSeverityLevel}`);if(void 0===h?.logVerbosityLevel)d.logVerbosityLevel=0;else if("number"!=typeof h.logVerbosityLevel||!Number.isInteger(h.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${h.logVerbosityLevel}`);if(void 0===h?.enableProfiling&&(d.enableProfiling=!1),_=y._OrtCreateSessionOptions(s,!!d.enableCpuMemArena,!!d.enableMemPattern,o,!!d.enableProfiling,0,u,d.logSeverityLevel,d.logVerbosityLevel),0===_)throw new Error("Can't create session options");return h?.executionProviders&&((l,f,m)=>{for(const v of f){let x="string"==typeof v?v:v.name;switch(x){case"xnnpack":x="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${x}`)}const I=D.allocWasmString(x,m);if(0!==T.getInstance()._OrtAppendExecutionProvider(l,I))throw new Error(`Can't append execution provider: ${x}`)}})(_,h.executionProviders,p),void 0!==h?.extra&&S.iterateExtraOptions(h.extra,"",new WeakSet,(l,f)=>{const m=D.allocWasmString(l,p),v=D.allocWasmString(f,p);if(0!==y._OrtAddSessionConfigEntry(_,m,v))throw new Error(`Can't set a session config entry: ${l} - ${f}`)}),[_,p]}catch(s){throw 0!==_&&y._OrtReleaseSessionOptions(_),p.forEach(y._free),s}}},4983:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.allocWasmString=void 0;const S=P(6361);b.allocWasmString=(D,T)=>{const h=S.getInstance(),y=h.lengthBytesUTF8(D)+1,_=h._malloc(y);return h.stringToUTF8(D,_,y),T.push(_),_}},349:(q,b,P)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.extractTransferableBuffers=b.endProfiling=b.run=b.releaseSession=b.createSession=b.initOrt=void 0;const S=P(586),D=P(4919),T=P(4983),h=P(6361);b.initOrt=(s,o)=>{const u=h.getInstance()._OrtInit(s,o);if(0!==u)throw new Error(`Can't initialize onnxruntime. error code = ${u}`)};const y=new Map;b.createSession=(s,o)=>{const u=h.getInstance(),l=u._malloc(s.byteLength);let f=0,m=0,v=[];try{if([m,v]=D.setSessionOptions(o),u.HEAPU8.set(s,l),f=u._OrtCreateSession(l,s.byteLength,m),0===f)throw new Error("Can't create a session")}finally{u._free(l),u._OrtReleaseSessionOptions(m),v.forEach(u._free)}const x=u._OrtGetInputCount(f),I=u._OrtGetOutputCount(f),C=[],A=[],R=[],N=[];for(let k=0;k<x;k++){const O=u._OrtGetInputName(f,k);if(0===O)throw new Error("Can't get an input name");A.push(O),C.push(u.UTF8ToString(O))}for(let k=0;k<I;k++){const O=u._OrtGetOutputName(f,k);if(0===O)throw new Error("Can't get an output name");N.push(O),R.push(u.UTF8ToString(O))}return y.set(f,[f,A,N]),[f,C,R]},b.releaseSession=s=>{const o=h.getInstance(),u=y.get(s);if(!u)throw new Error("invalid session id");const l=u[0],m=u[2];u[1].forEach(o._OrtFree),m.forEach(o._OrtFree),o._OrtReleaseSession(l),y.delete(s)};const _=s=>{switch(s){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${s}`)}},p=s=>{switch(s){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${s}`)}},d=s=>{switch(s){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${s}`)}};b.run=(s,o,u,l,f)=>{const m=h.getInstance(),v=y.get(s);if(!v)throw new Error("invalid session id");const x=v[0],I=v[1],C=v[2],A=o.length,R=l.length;let N=0,k=[];const O=[],$=[];try{[N,k]=S.setRunOptions(f);for(let B=0;B<A;B++){const K=u[B][0],ve=u[B][1],re=u[B][2];let _e,we;if(Array.isArray(re)){we=4*re.length,_e=m._malloc(we),$.push(_e);let nt=_e/4;for(let Te=0;Te<re.length;Te++){if("string"!=typeof re[Te])throw new TypeError(`tensor data at index ${Te} is not a string`);m.HEAPU32[nt++]=T.allocWasmString(re[Te],$)}}else we=re.byteLength,_e=m._malloc(we),$.push(_e),m.HEAPU8.set(new Uint8Array(re.buffer,re.byteOffset,we),_e);const Ge=m.stackSave(),jt=m.stackAlloc(4*ve.length);try{let nt=jt/4;ve.forEach(Xe=>m.HEAP32[nt++]=Xe);const Te=m._OrtCreateTensor(_(K),_e,we,jt,ve.length);if(0===Te)throw new Error("Can't create a tensor");O.push(Te)}finally{m.stackRestore(Ge)}}const G=m.stackSave(),z=m.stackAlloc(4*A),X=m.stackAlloc(4*A),Z=m.stackAlloc(4*R),oe=m.stackAlloc(4*R);try{let B=z/4,K=X/4,ve=Z/4,re=oe/4;for(let Ge=0;Ge<A;Ge++)m.HEAPU32[B++]=O[Ge],m.HEAPU32[K++]=I[o[Ge]];for(let Ge=0;Ge<R;Ge++)m.HEAPU32[ve++]=0,m.HEAPU32[re++]=C[l[Ge]];let _e=m._OrtRun(x,X,z,A,oe,R,Z,N);const we=[];if(0===_e)for(let Ge=0;Ge<R;Ge++){const jt=m.HEAPU32[Z/4+Ge],nt=m.stackSave(),Te=m.stackAlloc(16);let Xe,Me=0;try{if(_e=m._OrtGetTensorData(jt,Te,Te+4,Te+8,Te+12),0!==_e)throw new Error(`Can't access output tensor data. error code = ${_e}`);let We=Te/4;const Lt=m.HEAPU32[We++];Me=m.HEAPU32[We++];const xe=m.HEAPU32[We++],Gt=m.HEAPU32[We++],Wt=[];for(let ut=0;ut<Gt;ut++)Wt.push(m.HEAPU32[xe/4+ut]);m._OrtFree(xe);const wt=0===Wt.length?1:Wt.reduce((ut,ln)=>ut*ln);if(Xe=p(Lt),"string"===Xe){const ut=[];let ln=Me/4;for(let cn=0;cn<wt;cn++){const Cn=m.HEAPU32[ln++];ut.push(m.UTF8ToString(Cn,cn===wt-1?void 0:m.HEAPU32[ln]-Cn))}we.push([Xe,Wt,ut])}else{const ut=new(d(Xe))(wt);new Uint8Array(ut.buffer,ut.byteOffset,ut.byteLength).set(m.HEAPU8.subarray(Me,Me+ut.byteLength)),we.push([Xe,Wt,ut])}}finally{m.stackRestore(nt),"string"===Xe&&Me&&m._free(Me),m._OrtReleaseTensor(jt)}}if(0===_e)return we;throw new Error(`failed to call OrtRun(). error code = ${_e}.`)}finally{m.stackRestore(G)}}finally{O.forEach(m._OrtReleaseTensor),$.forEach(m._free),m._OrtReleaseRunOptions(N),k.forEach(m._free)}},b.endProfiling=s=>{const o=h.getInstance(),u=y.get(s);if(!u)throw new Error("invalid session id");const f=o._OrtEndProfiling(u[0]);if(0===f)throw new Error("Can't get an profile file name");o._OrtFree(f)},b.extractTransferableBuffers=s=>{const o=[];for(const u of s){const l=u[2];!Array.isArray(l)&&l.buffer&&o.push(l.buffer)}return o}},6361:function(q,b,P){"use strict";var S=this&&this.__createBinding||(Object.create?function(f,m,v,x){void 0===x&&(x=v),Object.defineProperty(f,x,{enumerable:!0,get:function(){return m[v]}})}:function(f,m,v,x){void 0===x&&(x=v),f[x]=m[v]}),D=this&&this.__setModuleDefault||(Object.create?function(f,m){Object.defineProperty(f,"default",{enumerable:!0,value:m})}:function(f,m){f.default=m}),T=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var m={};if(null!=f)for(var v in f)"default"!==v&&Object.prototype.hasOwnProperty.call(f,v)&&S(m,f,v);return D(m,f),m},h=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(b,"__esModule",{value:!0}),b.dispose=b.getInstance=b.initializeWebAssembly=void 0;const y=T(P(6449)),_=h(P(932)),p=P(3474);let d,s=!1,o=!1,u=!1;const l=(f,m)=>m?f?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":f?"ort-wasm-simd.wasm":"ort-wasm.wasm";b.initializeWebAssembly=function(){var f=_asyncToGenerator(function*(m){if(s)return Promise.resolve();if(o)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(u)throw new Error("previous call to 'initializeWebAssembly()' failed.");o=!0;const v=m.initTimeout,I=m.simd,C=m.numThreads>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),A=I&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),R="string"==typeof m.wasmPaths?m.wasmPaths:void 0,N=l(!1,C),k=l(A,C),O="object"==typeof m.wasmPaths?m.wasmPaths[k]:void 0;let $=!1;const G=[];if(v>0&&G.push(new Promise(z=>{setTimeout(()=>{$=!0,z()},v)})),G.push(new Promise((z,X)=>{const Z=C?p:_.default,oe={locateFile:(B,K)=>C&&B.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([P(5118)],{type:"text/javascript"})):B===N?O??(R??K)+k:K+B};if(C)if(typeof Blob>"u")oe.mainScriptUrlOrBlob=y.join("/","ort-wasm-threaded.js");else{const B=`var ortWasmThreaded=(function(){var _scriptDir;return ${Z.toString()}})();`;oe.mainScriptUrlOrBlob=new Blob([B],{type:"text/javascript"})}Z(oe).then(B=>{o=!1,s=!0,d=B,z()},B=>{o=!1,u=!0,X(B)})})),yield Promise.race(G),$)throw new Error(`WebAssembly backend initializing failed due to timeout: ${v}ms`)});return function(m){return f.apply(this,arguments)}}(),b.getInstance=()=>{if(s&&d)return d;throw new Error("WebAssembly is not initialized yet.")},b.dispose=()=>{var f;!s||o||u||(o=!0,null===(f=d.PThread)||void 0===f||f.terminateAllThreads(),d=void 0,o=!1,s=!1,u=!0)}},9710:(q,b,P)=>{"use strict";P.d(b,{Z:()=>T});var S=P(477),D=P.n(S);function T(){return D()('/*!\n* ONNX Runtime Web v1.13.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return C.buffer!=D&&G(C.buffer),F}function r(){return C.buffer!=D&&G(C.buffer),U}function a(){return C.buffer!=D&&G(C.buffer),I}function o(){return C.buffer!=D&&G(C.buffer),L}function i(){return C.buffer!=D&&G(C.buffer),W}var u,s,c;e=e||{},u||(u=void 0!==e?e:{}),u.ready=new Promise((function(e,t){s=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},u),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,_="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,S="";function A(e){return u.locateFile?u.locateFile(e,S):S+e}if(w){let t;S=_?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof se))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(Z())throw process.exitCode=e,t;t instanceof se||x("exiting due to exception: "+t),process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||_)&&(_?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);w&&(g(),T=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=u.print||T,x=u.printErr||E;Object.assign(u,h),h=null,u.thisProgram&&(y=u.thisProgram),u.quit&&(v=u.quit),u.wasmBinary&&(M=u.wasmBinary);var k=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var C,P,D,F,U,I,L,W,H=!1,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&j)return j.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function N(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function B(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,u.HEAP8=F=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=I=new Int32Array(e),u.HEAPU8=U=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=L=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=W=new Float64Array(e)}O&&(D=u.buffer);var q=u.INITIAL_MEMORY||16777216;if(O)C=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)C=u.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(D=C.buffer),q=D.byteLength,G(D);var $,V=[],Q=[],X=[],K=[];function Z(){return k||!1}function J(){var e=u.preRun.shift();V.unshift(e)}var ee,te=0,ne=null,re=null;function ae(e){throw O?postMessage({cmd:"onAbort",arg:e}):u.onAbort&&u.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function oe(){return ee.startsWith("data:application/octet-stream;base64,")}function ie(){var e=ee;try{if(e==ee&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}ee="ort-wasm-threaded.wasm",oe()||(ee=A(ee));var ue={};function se(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){(e=de.Ma[e])||ae(),de.Xa(e)}function le(e){var t=de.mb();if(!t)return 6;de.Sa.push(t),de.Ma[e.La]=t,t.La=e.La;var n={cmd:"run",start_routine:e.qb,arg:e.jb,pthread_ptr:e.La};return t.Ra=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Ra(),delete t.Ra),0}function fe(e){if(O)return ze(1,1,e);Z()||(de.Za(),u.onExit&&u.onExit(e),H=!0),v(e,new se(e))}function pe(e,t){if(!t&&O)throw he(e),"unwind";Z()||O||(lt(),me(X),ct(0),Ze[1].length&&Je(1,10),Ze[2].length&&Je(2,10),de.Za()),fe(e)}var de={Pa:[],Sa:[],ab:[],Ma:{},Va:function(){O&&de.nb()},xb:function(){},nb:function(){de.receiveObjectTransfer=de.pb,de.threadInitTLS=de.$a,de.setExitStatus=de.Ya,k=!1},Ya:function(){},Za:function(){for(var e of Object.values(de.Ma))de.Xa(e);for(e of de.Pa)e.terminate();de.Pa=[]},Xa:function(e){var t=e.La;delete de.Ma[t],de.Pa.push(e),de.Sa.splice(de.Sa.indexOf(e),1),e.La=0,gt(t)},pb:function(){},$a:function(){de.ab.forEach((e=>e()))},ob:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.La&&(de.lb=e.La),n.targetThread&&n.targetThread!=ut()){var a=de.Ma[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Ie(n.queue):"spawnThread"===r?le(n):"cleanupThread"===r?ce(n.thread):"killThread"===r?(n=n.thread,r=de.Ma[n],delete de.Ma[n],r.terminate(),gt(n),de.Sa.splice(de.Sa.indexOf(r),1),r.La=0):"cancelThread"===r?de.Ma[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Ra&&(e.Ra(),delete e.Ra)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);de.lb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:C,wasmModule:P})},ib:function(){var e=A("ort-wasm-threaded.worker.js");de.Pa.push(new Worker(e))},mb:function(){return 0==de.Pa.length&&(de.ib(),de.ob(de.Pa[0])),de.Pa.pop()}};function me(e){for(;0<e.length;)e.shift()(u)}function ge(e){var t=vt();return e=e(),bt(t),e}function he(e){if(O)return ze(2,0,e);try{pe(e)}catch(e){e instanceof se||"unwind"==e||v(1,e)}}u.PThread=de,u.establishStackSpace=function(){var e=ut(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],yt(t,t-e),bt(t)};var ye,ve,be=[];function _e(e){this.Qa=e-24,this.hb=function(e){o()[this.Qa+4>>2>>>0]=e},this.eb=function(e){o()[this.Qa+8>>2>>>0]=e},this.fb=function(){a()[this.Qa>>2>>>0]=0},this.cb=function(){t()[this.Qa+12>>0>>>0]=0},this.gb=function(){t()[this.Qa+13>>0>>>0]=0},this.Va=function(e,t){this.bb(),this.hb(e),this.eb(t),this.fb(),this.cb(),this.gb()},this.bb=function(){o()[this.Qa+16>>2>>>0]=0}}function we(e,t,n,r){return O?ze(3,1,e,t,n,r):Oe(e,t,n,r)}function Oe(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?we(e,t,n,r):(e={qb:n,La:e,jb:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):le(e))}function Se(e,t,n){return O?ze(4,1,e,t,n):0}function Ae(e,t){if(O)return ze(5,1,e,t)}function Te(e,t){if(O)return ze(6,1,e,t)}function Ee(e,t,n){if(O)return ze(7,1,e,t,n)}function Me(e,t,n){return O?ze(8,1,e,t,n):0}function Re(e,t){if(O)return ze(9,1,e,t)}function xe(e,t,n){if(O)return ze(10,1,e,t,n)}function ke(e,t,n,r){if(O)return ze(11,1,e,t,n,r)}function Ce(e,t,n,r){if(O)return ze(12,1,e,t,n,r)}function Pe(e,t,n,r){if(O)return ze(13,1,e,t,n,r)}function De(e){if(O)return ze(14,1,e)}function Fe(e,t){if(O)return ze(15,1,e,t)}function Ue(e,t,n){if(O)return ze(16,1,e,t,n)}function Ie(e){Atomics.store(a(),e>>2,1),ut()&&mt(e),Atomics.compareExchange(a(),e>>2,1,0)}function Le(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function We(e,t,n,r,a,o){return O?ze(17,1,e,t,n,r,a,o):-52}function He(e,t,n,r,a,o){if(O)return ze(18,1,e,t,n,r,a,o)}function je(e){var n=B(e)+1,r=st(n);return r&&N(e,t(),r,n),r}function Ye(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return ze(19,1,e,t,n);var i=(new Date).getFullYear(),u=new Date(i,0,1),s=new Date(i,6,1);i=u.getTimezoneOffset();var c=s.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(u),t=r(s),e=je(e),t=je(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function ze(e,t){var n=arguments.length-2,r=arguments;return ge((()=>{for(var a=_t(8*n),o=a>>3,u=0;u<n;u++){var s=r[2+u];i()[o+u>>>0]=s}return dt(e,n,a,t)}))}u.invokeEntryPoint=function(e,t){var n=be[e];n||(e>=be.length&&(be.length=e+1),be[e]=n=$.get(e)),e=n(t),Z()?de.Ya(e):ht(e)},u.executeNotifiedProxyingQueue=Ie,ve=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var Ne,Be=[],Ge={};function qe(){if(!Ne){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in Ge)void 0===Ge[e]?delete t[e]:t[e]=Ge[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ne=n}return Ne}function $e(e,n){if(O)return ze(20,1,e,n);var r=0;return qe().forEach((function(a,i){var u=n+r;for(i=o()[e+4*i>>2>>>0]=u,u=0;u<a.length;++u)t()[i++>>0>>>0]=a.charCodeAt(u);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ve(e,t){if(O)return ze(21,1,e,t);var n=qe();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function Qe(e){return O?ze(22,1,e):52}function Xe(e,t,n,r){return O?ze(23,1,e,t,n,r):52}function Ke(e,t,n,r,a){return O?ze(24,1,e,t,n,r,a):70}var Ze=[null,[],[]];function Je(e,t){var n=Ze[e];0===t||10===t?((1===e?R:x)(Y(n,0)),n.length=0):n.push(t)}function et(e,t,n,a){if(O)return ze(25,1,e,t,n,a);for(var i=0,u=0;u<n;u++){var s=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++)Je(e,r()[s+l>>>0]);i+=c}return o()[a>>2>>>0]=i,0}function tt(e){return 0==e%4&&(0!=e%100||0==e%400)}var nt=[31,29,31,30,31,30,31,31,30,31,30,31],rt=[31,28,31,30,31,30,31,31,30,31,30,31];function at(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function u(e,t){return i(e,t,"0")}function s(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Na;for(e=new Date(new Date(e.Oa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(tt(e.getFullYear())?nt:rt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=s(t,e)?0>=s(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Ta:a()[o+8>>2>>>0],Wa:a()[o+12>>2>>>0],Ua:a()[o+16>>2>>>0],Oa:a()[o+20>>2>>>0],Ka:a()[o+24>>2>>>0],Na:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ka].substring(0,3)},"%A":function(e){return d[e.Ka]},"%b":function(e){return m[e.Ua].substring(0,3)},"%B":function(e){return m[e.Ua]},"%C":function(e){return u((e.Oa+1900)/100|0,2)},"%d":function(e){return u(e.Wa,2)},"%e":function(e){return i(e.Wa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return u(e.Ta,2)},"%I":function(e){return 0==(e=e.Ta)?e=12:12<e&&(e-=12),u(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ua-1;t+=(tt(e.Oa+1900)?nt:rt)[n++]);return u(e.Wa+t,3)},"%m":function(e){return u(e.Ua+1,2)},"%M":function(e){return u(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Ta&&12>e.Ta?"AM":"PM"},"%S":function(e){return u(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ka||7},"%U":function(e){return u(Math.floor((e.Na+7-e.Ka)/7),2)},"%V":function(e){var t=Math.floor((e.Na+7-(e.Ka+6)%7)/7);if(2>=(e.Ka+371-e.Na-2)%7&&t++,t)53==t&&(4==(n=(e.Ka+371-e.Na)%7)||3==n&&tt(e.Oa)||(t=1));else{t=52;var n=(e.Ka+7-e.Na-1)%7;(4==n||5==n&&tt(e.Oa%400-1))&&t++}return u(t,2)},"%w":function(e){return e.Ka},"%W":function(e){return u(Math.floor((e.Na+7-(e.Ka+6)%7)/7),2)},"%y":function(e){return(e.Oa+1900).toString().substring(2)},"%Y":function(e){return e.Oa+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(B(e)+1);return N(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}de.Va();var ot=[null,fe,he,we,Se,Ae,Te,Ee,Me,Re,xe,ke,Ce,Pe,De,Fe,Ue,We,He,Ye,$e,Ve,Qe,Xe,Ke,et],it={b:function(e){return st(e+24)+24},c:function(e,t,n){throw new _e(e).Va(t,n),e},L:function(e){ft(e,!_,1,!b),de.$a()},m:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):ce(e)},D:Oe,i:Se,S:Ae,y:Te,B:Ee,t:Me,Q:Re,I:xe,P:ke,o:Ce,z:Pe,w:De,R:Fe,x:Ue,q:function(){},j:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){return Date.now()},E:function(){return 2097152},U:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>Ie(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=de.Ma[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},V:function(e,t){e=new Date(1e3*Le(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},W:function(e,t){e=new Date(1e3*Le(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},X:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),u=o.getTimezoneOffset(),s=Math.min(u,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=u&&s==r):0<n!=(s==r)&&(i=Math.max(u,i),t.setTime(t.getTime()+6e4*((0<n?s:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:We,H:He,Y:function e(t,n,r){e.kb||(e.kb=!0,Ye(t,n,r))},d:function(){ae("")},n:function(){if(!w&&!_){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ye||(ye={}),ye[e]||(ye[e]=1,w&&(e="warning: "+e),x(e))}},v:function(){return 4294901760},f:ve,O:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Be.length=t,n>>=3;for(var r=0;r<t;r++)Be[r]=i()[n+r>>>0];return(0>e?ue[-e-1]:ot[e]).apply(null,Be)},u:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{C.grow(o-D.byteLength+65535>>>16),G(C.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},T:function(){throw"unwind"},M:$e,N:Ve,C:pe,h:Qe,l:Xe,s:Ke,k:et,a:C||u.wasmMemory,A:at,e:function(e,t,n,r){return at(e,t,n,r)}};!function(){function e(e,t){u.asm=e.exports,de.ab.push(u.asm.wa),$=u.asm.ya,Q.unshift(u.asm.Z),P=t,O||(te--,u.monitorRunDependencies&&u.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re&&(e=re,re=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||_)){if("function"==typeof fetch&&!ee.startsWith("file://"))return fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+ee+"\'";return e.arrayBuffer()})).catch((function(){return ie()}));if(f)return new Promise((function(e,t){f(ee,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ie()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ae(e)}))}var r={a:it};if(O||(te++,u.monitorRunDependencies&&u.monitorRunDependencies(te)),u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||oe()||ee.startsWith("file://")||w||"function"!=typeof fetch?n(t):fetch(ee,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Z).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm._).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.$).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.aa).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.ba).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm.ca).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.da).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ea).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.fa).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.ga).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.ha).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.ia).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.ja).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.ka).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.la).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ma).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.na).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.oa).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.pa).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.qa).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.ra).apply(null,arguments)};var ut=u._pthread_self=function(){return(ut=u._pthread_self=u.asm.sa).apply(null,arguments)},st=u._malloc=function(){return(st=u._malloc=u.asm.ta).apply(null,arguments)};u._free=function(){return(u._free=u.asm.ua).apply(null,arguments)};var ct=u._fflush=function(){return(ct=u._fflush=u.asm.va).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.wa).apply(null,arguments)};var lt=u.___funcs_on_exit=function(){return(lt=u.___funcs_on_exit=u.asm.xa).apply(null,arguments)},ft=u.__emscripten_thread_init=function(){return(ft=u.__emscripten_thread_init=u.asm.za).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.Aa).apply(null,arguments)};var pt,dt=u._emscripten_run_in_main_runtime_thread_js=function(){return(dt=u._emscripten_run_in_main_runtime_thread_js=u.asm.Ba).apply(null,arguments)},mt=u.__emscripten_proxy_execute_task_queue=function(){return(mt=u.__emscripten_proxy_execute_task_queue=u.asm.Ca).apply(null,arguments)},gt=u.__emscripten_thread_free_data=function(){return(gt=u.__emscripten_thread_free_data=u.asm.Da).apply(null,arguments)},ht=u.__emscripten_thread_exit=function(){return(ht=u.__emscripten_thread_exit=u.asm.Ea).apply(null,arguments)},yt=u._emscripten_stack_set_limits=function(){return(yt=u._emscripten_stack_set_limits=u.asm.Fa).apply(null,arguments)},vt=u.stackSave=function(){return(vt=u.stackSave=u.asm.Ga).apply(null,arguments)},bt=u.stackRestore=function(){return(bt=u.stackRestore=u.asm.Ha).apply(null,arguments)},_t=u.stackAlloc=function(){return(_t=u.stackAlloc=u.asm.Ia).apply(null,arguments)};function wt(){function e(){if(!pt&&(pt=!0,u.calledRun=!0,!H)&&(O||me(Q),s(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();K.unshift(e)}me(K)}}if(!(0<te))if(O)s(u),O||me(Q),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)J();me(V),0<te||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),e()}),1)):e())}}if(u.___cxa_is_pointer_type=function(){return(u.___cxa_is_pointer_type=u.asm.Ja).apply(null,arguments)},u.UTF8ToString=z,u.stringToUTF8=function(e,t,n){return N(e,r(),t,n)},u.lengthBytesUTF8=B,u.keepRuntimeAlive=Z,u.wasmMemory=C,u.stackSave=vt,u.stackRestore=bt,u.stackAlloc=_t,u.ExitStatus=se,u.PThread=de,re=function e(){pt||wt(),pt||(re=e)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return wt(),e.ready});e.exports=r},118:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,u,s,c,l,f=Object.assign({},t),p="./this.program",d="object"==typeof window,m="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";g?(h=m?n(908).dirname(h)+"/":"//",l=()=>{c||(s=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),s.readFileSync(e,t?void 0:"utf8")},u=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),s.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}):(d||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),_scriptDir&&(h=_scriptDir),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var y,v=t.print||console.log.bind(console),b=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.wasmBinary&&(y=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&Y("no native wasm support detected");var _,w,O,S,A,T,E=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&M)return M.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function x(e,t){return(e>>>=0)?R(S,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function C(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function P(){var e=_.buffer;w=e,t.HEAP8=O=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=T=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var D=[],F=[],U=[];function I(){var e=t.preRun.shift();D.unshift(e)}var L,W=0,H=null,j=null;function Y(e){throw t.onAbort&&t.onAbort(e),b(e="Aborted("+e+")"),E=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function z(){return L.startsWith("data:application/octet-stream;base64,")}if(L="ort-wasm.wasm",!z()){var N=L;L=t.locateFile?t.locateFile(N,h):h+N}function B(){var e=L;try{if(e==L&&y)return new Uint8Array(y);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){Y(e)}}function G(e){for(;0<e.length;)e.shift()(t)}function q(e){this.ra=e-24,this.Ga=function(e){T[this.ra+4>>2>>>0]=e},this.za=function(e){T[this.ra+8>>2>>>0]=e},this.Aa=function(){A[this.ra>>2>>>0]=0},this.ya=function(){O[this.ra+12>>0>>>0]=0},this.Fa=function(){O[this.ra+13>>0>>>0]=0},this.wa=function(e,t){this.xa(),this.Ga(e),this.za(t),this.Aa(),this.ya(),this.Fa()},this.xa=function(){T[this.ra+16>>2>>>0]=0}}function $(e){var t=C(e)+1,n=re(t);return n&&k(e,O,n,t),n}var V={};function Q(){if(!X){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in V)void 0===V[e]?delete t[e]:t[e]=V[e];var n=[];for(e in t)n.push(e+"="+t[e]);X=n}return X}var X,K=[null,[],[]];function Z(e){return 0==e%4&&(0!=e%100||0==e%400)}var J=[31,29,31,30,31,30,31,31,30,31,30,31],ee=[31,28,31,30,31,30,31,31,30,31,30,31];function te(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){var t=e.pa;for(e=new Date(new Date(e.qa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Z(e.getFullYear())?J:ee)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),n=u(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=A[r+40>>2>>>0];for(var l in r={Da:A[r>>2>>>0],Ca:A[r+4>>2>>>0],sa:A[r+8>>2>>>0],ua:A[r+12>>2>>>0],ta:A[r+16>>2>>>0],qa:A[r+20>>2>>>0],ka:A[r+24>>2>>>0],pa:A[r+28>>2>>>0],Ha:A[r+32>>2>>>0],Ba:A[r+36>>2>>>0],Ea:c?x(c):""},n=x(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.ka].substring(0,3)},"%A":function(e){return f[e.ka]},"%b":function(e){return p[e.ta].substring(0,3)},"%B":function(e){return p[e.ta]},"%C":function(e){return o((e.qa+1900)/100|0,2)},"%d":function(e){return o(e.ua,2)},"%e":function(e){return a(e.ua,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ta-1;t+=(Z(e.qa+1900)?J:ee)[n++]);return o(e.ua+t,3)},"%m":function(e){return o(e.ta+1,2)},"%M":function(e){return o(e.Ca,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.sa&&12>e.sa?"AM":"PM"},"%S":function(e){return o(e.Da,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ka||7},"%U":function(e){return o(Math.floor((e.pa+7-e.ka)/7),2)},"%V":function(e){var t=Math.floor((e.pa+7-(e.ka+6)%7)/7);if(2>=(e.ka+371-e.pa-2)%7&&t++,t)53==t&&(4==(n=(e.ka+371-e.pa)%7)||3==n&&Z(e.qa)||(t=1));else{t=52;var n=(e.ka+7-e.pa-1)%7;(4==n||5==n&&Z(e.qa%400-1))&&t++}return o(t,2)},"%w":function(e){return e.ka},"%W":function(e){return o(Math.floor((e.pa+7-(e.ka+6)%7)/7),2)},"%y":function(e){return(e.qa+1900).toString().substring(2)},"%Y":function(e){return e.qa+1900},"%z":function(e){var t=0<=(e=e.Ba);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ea},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(C(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(O.set(l,e>>>0),l.length-1)}var ne={a:function(e){return re(e+24)+24},b:function(e,t,n){throw new q(e).wa(t,n),e},g:function(){return 0},J:function(){},w:function(){},z:function(){},s:function(){return 0},H:function(){},C:function(){},G:function(){},k:function(){},y:function(){},u:function(){},I:function(){},v:function(){},o:function(){},q:function(){Y("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){Y("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},K:function(){return!0},L:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getUTCSeconds(),A[t+4>>2>>>0]=e.getUTCMinutes(),A[t+8>>2>>>0]=e.getUTCHours(),A[t+12>>2>>>0]=e.getUTCDate(),A[t+16>>2>>>0]=e.getUTCMonth(),A[t+20>>2>>>0]=e.getUTCFullYear()-1900,A[t+24>>2>>>0]=e.getUTCDay(),A[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},M:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),A[t+20>>2>>>0]=e.getFullYear()-1900,A[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);A[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,A[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),A[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},m:function(e){var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),n=A[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),u=Math.min(i,o);return 0>n?A[e+32>>2>>>0]=Number(o!=i&&u==r):0<n!=(u==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?u:o)-r))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},A:function(){return-52},B:function(){},n:function e(t,n,r){e.va||(e.va=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var u=i.getTimezoneOffset();A[e>>2>>>0]=60*Math.max(a,u),A[t>>2>>>0]=Number(a!=u),e=r(o),t=r(i),e=$(e),t=$(t),u<a?(T[n>>2>>>0]=e,T[n+4>>2>>>0]=t):(T[n>>2>>>0]=t,T[n+4>>2>>>0]=e)}(t,n,r))},d:function(){Y("")},t:function(){return 4294901760},h:g?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),F:function(e,t,n){S.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=S.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{_.grow(a-w.byteLength+65535>>>16),P();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return Q().forEach((function(r,a){var o=t+n;for(a=T[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)O[a++>>0>>>0]=r.charCodeAt(o);O[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=Q();T[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),T[t>>2>>>0]=r,0},e:function(){return 52},j:function(){return 52},r:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=T[t>>2>>>0],u=T[t+4>>2>>>0];t+=8;for(var s=0;s<u;s++){var c=S[i+s>>>0],l=K[e];0===c||10===c?((1===e?v:b)(R(l,0)),l.length=0):l.push(c)}a+=u}return T[r>>2>>>0]=a,0},x:te,c:function(e,t,n,r){return te(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,_=t.asm.N,P(),F.unshift(t.asm.O),W--,t.monitorRunDependencies&&t.monitorRunDependencies(W),0==W&&(null!==H&&(clearInterval(H),H=null),j&&(e=j,j=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!y&&(d||m)){if("function"==typeof fetch&&!L.startsWith("file://"))return fetch(L,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+L+"\'";return e.arrayBuffer()})).catch((function(){return B()}));if(i)return new Promise((function(e,t){i(L,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return B()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){b("failed to asynchronously prepare wasm: "+e),Y(e)}))}var o={a:ne};if(W++,t.monitorRunDependencies&&t.monitorRunDependencies(W),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||z()||L.startsWith("file://")||g||"function"!=typeof fetch?r(n):fetch(L,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.O).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.P).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Q).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.R).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.S).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.T).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.U).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.V).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.W).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.X).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Y).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Z).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm._).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.$).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.aa).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.ba).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ca).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.da).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ea).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.fa).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ga).apply(null,arguments)};var re=t._malloc=function(){return(re=t._malloc=t.asm.ha).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ia).apply(null,arguments)},t._fflush=function(){return(t._fflush=t.asm.ja).apply(null,arguments)};var ae,oe=t.stackSave=function(){return(oe=t.stackSave=t.asm.la).apply(null,arguments)},ie=t.stackRestore=function(){return(ie=t.stackRestore=t.asm.ma).apply(null,arguments)},ue=t.stackAlloc=function(){return(ue=t.stackAlloc=t.asm.na).apply(null,arguments)};function se(){function e(){if(!ae&&(ae=!0,t.calledRun=!0,!E)){if(G(F),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();U.unshift(e)}G(U)}}if(!(0<W)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)I();G(D),0<W||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.oa).apply(null,arguments)},t.UTF8ToString=x,t.stringToUTF8=function(e,t,n){return k(e,S,t,n)},t.lengthBytesUTF8=C,t.stackSave=oe,t.stackRestore=ie,t.stackAlloc=ue,j=function e(){ae||se(),ae||(j=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return se(),e.ready});e.exports=r},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)t.iterateExtraOptions(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setRunOptions=e=>{const t=o.getInstance();let n=0;const i=[],u=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(u.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=a.allocWasmString(e.tag,i)),n=t._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),u=a.allocWasmString(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,u))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setSessionOptions=e=>{const t=o.getInstance();let n=0;const i=[],u=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const s=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(u.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(u.executionMode="sequential");const c=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(u.executionMode);let l=0;if(void 0!==(null==e?void 0:e.logId)&&(l=a.allocWasmString(e.logId,i)),void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(u.enableProfiling=!1),n=t._OrtCreateSessionOptions(s,!!u.enableCpuMemArena,!!u.enableMemPattern,c,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=a.allocWasmString(t,n);if(0!==o.getInstance()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(n,e.executionProviders,i),void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),u=a.allocWasmString(r,i);if(0!==t._OrtAddSessionConfigEntry(n,o,u))throw new Error(`Can\'t set a session config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),i.forEach(t._free),e}}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(361);t.allocWasmString=(e,t)=>{const n=r.getInstance(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const r=n(586),a=n(919),o=n(983),i=n(361);t.initOrt=(e,t)=>{const n=i.getInstance()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSession=(e,t)=>{const n=i.getInstance(),r=n._malloc(e.byteLength);let o=0,s=0,c=[];try{if([s,c]=a.setSessionOptions(t),n.HEAPU8.set(e,r),o=n._OrtCreateSession(r,e.byteLength,s),0===o)throw new Error("Can\'t create a session")}finally{n._free(r),n._OrtReleaseSessionOptions(s),c.forEach(n._free)}const l=n._OrtGetInputCount(o),f=n._OrtGetOutputCount(o),p=[],d=[],m=[],g=[];for(let e=0;e<l;e++){const t=n._OrtGetInputName(o,e);if(0===t)throw new Error("Can\'t get an input name");d.push(t),p.push(n.UTF8ToString(t))}for(let e=0;e<f;e++){const t=n._OrtGetOutputName(o,e);if(0===t)throw new Error("Can\'t get an output name");g.push(t),m.push(n.UTF8ToString(t))}return u.set(o,[o,d,g]),[o,p,m]},t.releaseSession=e=>{const t=i.getInstance(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)};const s=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},l=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,a,f)=>{const p=i.getInstance(),d=u.get(e);if(!d)throw new Error("invalid session id");const m=d[0],g=d[1],h=d[2],y=t.length,v=a.length;let b=0,_=[];const w=[],O=[];try{[b,_]=r.setRunOptions(f);for(let e=0;e<y;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=p._malloc(u),O.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);p.HEAPU32[e++]=o.allocWasmString(a[t],O)}}else u=a.byteLength,i=p._malloc(u),O.push(i),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=p.stackSave(),l=p.stackAlloc(4*r.length);try{let e=l/4;r.forEach((t=>p.HEAP32[e++]=t));const n=p._OrtCreateTensor(s(t),i,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");w.push(n)}finally{p.stackRestore(c)}}const e=p.stackSave(),i=p.stackAlloc(4*y),u=p.stackAlloc(4*y),d=p.stackAlloc(4*v),S=p.stackAlloc(4*v);try{let n=i/4,r=u/4,o=d/4,s=S/4;for(let e=0;e<y;e++)p.HEAPU32[n++]=w[e],p.HEAPU32[r++]=g[t[e]];for(let e=0;e<v;e++)p.HEAPU32[o++]=0,p.HEAPU32[s++]=h[a[e]];let f=p._OrtRun(m,u,i,y,S,v,d,b);const _=[];if(0===f)for(let e=0;e<v;e++){const t=p.HEAPU32[d/4+e],n=p.stackSave(),r=p.stackAlloc(16);let a,o=0;try{if(f=p._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let e=r/4;const i=p.HEAPU32[e++];o=p.HEAPU32[e++];const u=p.HEAPU32[e++],s=p.HEAPU32[e++],d=[];for(let e=0;e<s;e++)d.push(p.HEAPU32[u/4+e]);p._OrtFree(u);const m=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=c(i),"string"===a){const e=[];let t=o/4;for(let n=0;n<m;n++){const r=p.HEAPU32[t++],a=n===m-1?void 0:p.HEAPU32[t]-r;e.push(p.UTF8ToString(r,a))}_.push([a,d,e])}else{const e=new(l(a))(m);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(p.HEAPU8.subarray(o,o+e.byteLength)),_.push([a,d,e])}}finally{p.stackRestore(n),"string"===a&&o&&p._free(o),p._OrtReleaseTensor(t)}}if(0===f)return _;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(e)}}finally{w.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(b),_.forEach(p._free)}},t.endProfiling=e=>{const t=i.getInstance(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const u=o(n(449)),s=i(n(932)),c=n(474);let l,f=!1,p=!1,d=!1;const m=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,h=m(!1,o),y=m(i,o),v="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let b=!1;const _=[];if(t>0&&_.push(new Promise((e=>{setTimeout((()=>{b=!0,e()}),t)}))),_.push(new Promise(((e,t)=>{const r=o?c:s.default,a={locateFile:(e,t)=>{if(o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([n(118)],{type:"text/javascript"}));if(e===h){const e=null!=g?g:t;return null!=v?v:e+y}return t+e}};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{p=!1,f=!0,l=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(_),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!f||p||d||(p=!0,null===(e=l.PThread)||void 0===e||e.terminateAllThreads(),l=void 0,p=!1,f=!1,d=!0)}},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(349),t=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":t.initializeWebAssembly(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;e.initOrt(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=e.createSession(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;e.releaseSession(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in,u=e.run(t,r,a,o,i);postMessage({type:"run",out:u},e.extractTransferableBuffers(u))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;e.endProfiling(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},477:q=>{"use strict";q.exports=function(b,P,S,D){var T=self||window;try{try{var h;try{h=new T.Blob([b])}catch{(h=new(T.BlobBuilder||T.WebKitBlobBuilder||T.MozBlobBuilder||T.MSBlobBuilder)).append(b),h=h.getBlob()}var y=T.URL||T.webkitURL,_=y.createObjectURL(h),p=new T[P](_,S);return y.revokeObjectURL(_),p}catch{return new T[P]("data:application/javascript,".concat(encodeURIComponent(b)),S)}}catch{if(!D)throw Error("Inline worker is not supported");return new T[P](D,S)}}},2174:q=>{"use strict";q.exports=__WEBPACK_EXTERNAL_MODULE__2174__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},6449:()=>{},2203:()=>{},5381:()=>{},8022:()=>{}},__webpack_module_cache__={};function __nested_webpack_require_780804__(q){var b=__webpack_module_cache__[q];if(void 0!==b)return b.exports;var P=__webpack_module_cache__[q]={exports:{}};return __webpack_modules__[q].call(P.exports,P,P.exports,__nested_webpack_require_780804__),P.exports}__nested_webpack_require_780804__.n=q=>{var b=q&&q.__esModule?()=>q.default:()=>q;return __nested_webpack_require_780804__.d(b,{a:b}),b},__nested_webpack_require_780804__.d=(q,b)=>{for(var P in b)__nested_webpack_require_780804__.o(b,P)&&!__nested_webpack_require_780804__.o(q,P)&&Object.defineProperty(q,P,{enumerable:!0,get:b[P]})},__nested_webpack_require_780804__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),__nested_webpack_require_780804__.o=(q,b)=>Object.prototype.hasOwnProperty.call(q,b),__nested_webpack_require_780804__.r=q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})};var __webpack_exports__=__nested_webpack_require_780804__(6018);return __webpack_exports__})()},module.exports=b(__webpack_require__(670))},156:q=>{function b(S,D,T,h,y,_,p){try{var d=S[_](p),s=d.value}catch(o){return void T(o)}d.done?D(s):Promise.resolve(s).then(h,y)}q.exports=function P(S){return function(){var D=this,T=arguments;return new Promise(function(h,y){var _=S.apply(D,T);function p(s){b(_,h,y,p,d,"next",s)}function d(s){b(_,h,y,p,d,"throw",s)}p(void 0)})}},q.exports.__esModule=!0,q.exports.default=q.exports}},q=>{q(q.s=271)}]);